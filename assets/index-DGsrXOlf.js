function R0(n,e){for(var t=0;t<e.length;t++){const s=e[t];if(typeof s!="string"&&!Array.isArray(s)){for(const o in s)if(o!=="default"&&!(o in n)){const l=Object.getOwnPropertyDescriptor(s,o);l&&Object.defineProperty(n,o,l.get?l:{enumerable:!0,get:()=>s[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function s(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function x0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Dd={exports:{}},Ha={},bd={exports:{}},Le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function k0(){if(zg)return Le;zg=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function C(U){return U===null||typeof U!="object"?null:(U=T&&U[T]||U["@@iterator"],typeof U=="function"?U:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L=Object.assign,M={};function k(U,X,_e){this.props=U,this.context=X,this.refs=M,this.updater=_e||b}k.prototype.isReactComponent={},k.prototype.setState=function(U,X){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,X,"setState")},k.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function W(){}W.prototype=k.prototype;function G(U,X,_e){this.props=U,this.context=X,this.refs=M,this.updater=_e||b}var Q=G.prototype=new W;Q.constructor=G,L(Q,k.prototype),Q.isPureReactComponent=!0;var ne=Array.isArray,ge=Object.prototype.hasOwnProperty,fe={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(U,X,_e){var Ne,De={},je=null,Oe=null;if(X!=null)for(Ne in X.ref!==void 0&&(Oe=X.ref),X.key!==void 0&&(je=""+X.key),X)ge.call(X,Ne)&&!D.hasOwnProperty(Ne)&&(De[Ne]=X[Ne]);var Me=arguments.length-2;if(Me===1)De.children=_e;else if(1<Me){for(var qe=Array(Me),ct=0;ct<Me;ct++)qe[ct]=arguments[ct+2];De.children=qe}if(U&&U.defaultProps)for(Ne in Me=U.defaultProps,Me)De[Ne]===void 0&&(De[Ne]=Me[Ne]);return{$$typeof:n,type:U,key:je,ref:Oe,props:De,_owner:fe.current}}function P(U,X){return{$$typeof:n,type:U.type,key:X,ref:U.ref,props:U.props,_owner:U._owner}}function N(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function x(U){var X={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(_e){return X[_e]})}var j=/\/+/g;function I(U,X){return typeof U=="object"&&U!==null&&U.key!=null?x(""+U.key):X.toString(36)}function le(U,X,_e,Ne,De){var je=typeof U;(je==="undefined"||je==="boolean")&&(U=null);var Oe=!1;if(U===null)Oe=!0;else switch(je){case"string":case"number":Oe=!0;break;case"object":switch(U.$$typeof){case n:case e:Oe=!0}}if(Oe)return Oe=U,De=De(Oe),U=Ne===""?"."+I(Oe,0):Ne,ne(De)?(_e="",U!=null&&(_e=U.replace(j,"$&/")+"/"),le(De,X,_e,"",function(ct){return ct})):De!=null&&(N(De)&&(De=P(De,_e+(!De.key||Oe&&Oe.key===De.key?"":(""+De.key).replace(j,"$&/")+"/")+U)),X.push(De)),1;if(Oe=0,Ne=Ne===""?".":Ne+":",ne(U))for(var Me=0;Me<U.length;Me++){je=U[Me];var qe=Ne+I(je,Me);Oe+=le(je,X,_e,qe,De)}else if(qe=C(U),typeof qe=="function")for(U=qe.call(U),Me=0;!(je=U.next()).done;)je=je.value,qe=Ne+I(je,Me++),Oe+=le(je,X,_e,qe,De);else if(je==="object")throw X=String(U),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.");return Oe}function oe(U,X,_e){if(U==null)return U;var Ne=[],De=0;return le(U,Ne,"","",function(je){return X.call(_e,je,De++)}),Ne}function be(U){if(U._status===-1){var X=U._result;X=X(),X.then(function(_e){(U._status===0||U._status===-1)&&(U._status=1,U._result=_e)},function(_e){(U._status===0||U._status===-1)&&(U._status=2,U._result=_e)}),U._status===-1&&(U._status=0,U._result=X)}if(U._status===1)return U._result.default;throw U._result}var ke={current:null},re={transition:null},we={ReactCurrentDispatcher:ke,ReactCurrentBatchConfig:re,ReactCurrentOwner:fe};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Le.Children={map:oe,forEach:function(U,X,_e){oe(U,function(){X.apply(this,arguments)},_e)},count:function(U){var X=0;return oe(U,function(){X++}),X},toArray:function(U){return oe(U,function(X){return X})||[]},only:function(U){if(!N(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Le.Component=k,Le.Fragment=t,Le.Profiler=o,Le.PureComponent=G,Le.StrictMode=s,Le.Suspense=p,Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=we,Le.act=ce,Le.cloneElement=function(U,X,_e){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ne=L({},U.props),De=U.key,je=U.ref,Oe=U._owner;if(X!=null){if(X.ref!==void 0&&(je=X.ref,Oe=fe.current),X.key!==void 0&&(De=""+X.key),U.type&&U.type.defaultProps)var Me=U.type.defaultProps;for(qe in X)ge.call(X,qe)&&!D.hasOwnProperty(qe)&&(Ne[qe]=X[qe]===void 0&&Me!==void 0?Me[qe]:X[qe])}var qe=arguments.length-2;if(qe===1)Ne.children=_e;else if(1<qe){Me=Array(qe);for(var ct=0;ct<qe;ct++)Me[ct]=arguments[ct+2];Ne.children=Me}return{$$typeof:n,type:U.type,key:De,ref:je,props:Ne,_owner:Oe}},Le.createContext=function(U){return U={$$typeof:h,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:l,_context:U},U.Consumer=U},Le.createElement=A,Le.createFactory=function(U){var X=A.bind(null,U);return X.type=U,X},Le.createRef=function(){return{current:null}},Le.forwardRef=function(U){return{$$typeof:f,render:U}},Le.isValidElement=N,Le.lazy=function(U){return{$$typeof:w,_payload:{_status:-1,_result:U},_init:be}},Le.memo=function(U,X){return{$$typeof:v,type:U,compare:X===void 0?null:X}},Le.startTransition=function(U){var X=re.transition;re.transition={};try{U()}finally{re.transition=X}},Le.unstable_act=ce,Le.useCallback=function(U,X){return ke.current.useCallback(U,X)},Le.useContext=function(U){return ke.current.useContext(U)},Le.useDebugValue=function(){},Le.useDeferredValue=function(U){return ke.current.useDeferredValue(U)},Le.useEffect=function(U,X){return ke.current.useEffect(U,X)},Le.useId=function(){return ke.current.useId()},Le.useImperativeHandle=function(U,X,_e){return ke.current.useImperativeHandle(U,X,_e)},Le.useInsertionEffect=function(U,X){return ke.current.useInsertionEffect(U,X)},Le.useLayoutEffect=function(U,X){return ke.current.useLayoutEffect(U,X)},Le.useMemo=function(U,X){return ke.current.useMemo(U,X)},Le.useReducer=function(U,X,_e){return ke.current.useReducer(U,X,_e)},Le.useRef=function(U){return ke.current.useRef(U)},Le.useState=function(U){return ke.current.useState(U)},Le.useSyncExternalStore=function(U,X,_e){return ke.current.useSyncExternalStore(U,X,_e)},Le.useTransition=function(){return ke.current.useTransition()},Le.version="18.3.1",Le}var Bg;function kf(){return Bg||(Bg=1,bd.exports=k0()),bd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $g;function N0(){if($g)return Ha;$g=1;var n=kf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,o=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,v){var w,T={},C=null,b=null;v!==void 0&&(C=""+v),p.key!==void 0&&(C=""+p.key),p.ref!==void 0&&(b=p.ref);for(w in p)s.call(p,w)&&!l.hasOwnProperty(w)&&(T[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:f,key:C,ref:b,props:T,_owner:o.current}}return Ha.Fragment=t,Ha.jsx=h,Ha.jsxs=h,Ha}var Wg;function D0(){return Wg||(Wg=1,Dd.exports=N0()),Dd.exports}var y=D0(),$=kf();const b0=x0($),O0=R0({__proto__:null,default:b0},[$]);var $u={},Od={exports:{}},cn={},Vd={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hg;function V0(){return Hg||(Hg=1,(function(n){function e(re,we){var ce=re.length;re.push(we);e:for(;0<ce;){var U=ce-1>>>1,X=re[U];if(0<o(X,we))re[U]=we,re[ce]=X,ce=U;else break e}}function t(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var we=re[0],ce=re.pop();if(ce!==we){re[0]=ce;e:for(var U=0,X=re.length,_e=X>>>1;U<_e;){var Ne=2*(U+1)-1,De=re[Ne],je=Ne+1,Oe=re[je];if(0>o(De,ce))je<X&&0>o(Oe,De)?(re[U]=Oe,re[je]=ce,U=je):(re[U]=De,re[Ne]=ce,U=Ne);else if(je<X&&0>o(Oe,ce))re[U]=Oe,re[je]=ce,U=je;else break e}}return we}function o(re,we){var ce=re.sortIndex-we.sortIndex;return ce!==0?ce:re.id-we.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;n.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();n.unstable_now=function(){return h.now()-f}}var p=[],v=[],w=1,T=null,C=3,b=!1,L=!1,M=!1,k=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,G=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function Q(re){for(var we=t(v);we!==null;){if(we.callback===null)s(v);else if(we.startTime<=re)s(v),we.sortIndex=we.expirationTime,e(p,we);else break;we=t(v)}}function ne(re){if(M=!1,Q(re),!L)if(t(p)!==null)L=!0,be(ge);else{var we=t(v);we!==null&&ke(ne,we.startTime-re)}}function ge(re,we){L=!1,M&&(M=!1,W(A),A=-1),b=!0;var ce=C;try{for(Q(we),T=t(p);T!==null&&(!(T.expirationTime>we)||re&&!x());){var U=T.callback;if(typeof U=="function"){T.callback=null,C=T.priorityLevel;var X=U(T.expirationTime<=we);we=n.unstable_now(),typeof X=="function"?T.callback=X:T===t(p)&&s(p),Q(we)}else s(p);T=t(p)}if(T!==null)var _e=!0;else{var Ne=t(v);Ne!==null&&ke(ne,Ne.startTime-we),_e=!1}return _e}finally{T=null,C=ce,b=!1}}var fe=!1,D=null,A=-1,P=5,N=-1;function x(){return!(n.unstable_now()-N<P)}function j(){if(D!==null){var re=n.unstable_now();N=re;var we=!0;try{we=D(!0,re)}finally{we?I():(fe=!1,D=null)}}else fe=!1}var I;if(typeof G=="function")I=function(){G(j)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,oe=le.port2;le.port1.onmessage=j,I=function(){oe.postMessage(null)}}else I=function(){k(j,0)};function be(re){D=re,fe||(fe=!0,I())}function ke(re,we){A=k(function(){re(n.unstable_now())},we)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){L||b||(L=!0,be(ge))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return C},n.unstable_getFirstCallbackNode=function(){return t(p)},n.unstable_next=function(re){switch(C){case 1:case 2:case 3:var we=3;break;default:we=C}var ce=C;C=we;try{return re()}finally{C=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,we){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=C;C=re;try{return we()}finally{C=ce}},n.unstable_scheduleCallback=function(re,we,ce){var U=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?U+ce:U):ce=U,re){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=ce+X,re={id:w++,callback:we,priorityLevel:re,startTime:ce,expirationTime:X,sortIndex:-1},ce>U?(re.sortIndex=ce,e(v,re),t(p)===null&&re===t(v)&&(M?(W(A),A=-1):M=!0,ke(ne,ce-U))):(re.sortIndex=X,e(p,re),L||b||(L=!0,be(ge))),re},n.unstable_shouldYield=x,n.unstable_wrapCallback=function(re){var we=C;return function(){var ce=C;C=we;try{return re.apply(this,arguments)}finally{C=ce}}}})(Ld)),Ld}var qg;function L0(){return qg||(qg=1,Vd.exports=V0()),Vd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gg;function j0(){if(Gg)return cn;Gg=1;var n=kf(),e=L0();function t(r){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+r,a=1;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+r+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,o={};function l(r,i){h(r,i),h(r+"Capture",i)}function h(r,i){for(o[r]=i,r=0;r<i.length;r++)s.add(i[r])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function C(r){return p.call(T,r)?!0:p.call(w,r)?!1:v.test(r)?T[r]=!0:(w[r]=!0,!1)}function b(r,i,a,c){if(a!==null&&a.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function L(r,i,a,c){if(i===null||typeof i>"u"||b(r,i,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function M(r,i,a,c,d,g,E){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=r,this.type=i,this.sanitizeURL=g,this.removeEmptyString=E}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){k[r]=new M(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var i=r[0];k[i]=new M(i,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){k[r]=new M(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){k[r]=new M(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){k[r]=new M(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){k[r]=new M(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){k[r]=new M(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){k[r]=new M(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){k[r]=new M(r,5,!1,r.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function G(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var i=r.replace(W,G);k[i]=new M(i,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var i=r.replace(W,G);k[i]=new M(i,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var i=r.replace(W,G);k[i]=new M(i,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){k[r]=new M(r,1,!1,r.toLowerCase(),null,!1,!1)}),k.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){k[r]=new M(r,1,!1,r.toLowerCase(),null,!0,!0)});function Q(r,i,a,c){var d=k.hasOwnProperty(i)?k[i]:null;(d!==null?d.type!==0:c||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(L(i,a,d,c)&&(a=null),c||d===null?C(i)&&(a===null?r.removeAttribute(i):r.setAttribute(i,""+a)):d.mustUseProperty?r[d.propertyName]=a===null?d.type===3?!1:"":a:(i=d.attributeName,c=d.attributeNamespace,a===null?r.removeAttribute(i):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?r.setAttributeNS(c,i,a):r.setAttribute(i,a))))}var ne=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ge=Symbol.for("react.element"),fe=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),x=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),le=Symbol.for("react.suspense_list"),oe=Symbol.for("react.memo"),be=Symbol.for("react.lazy"),ke=Symbol.for("react.offscreen"),re=Symbol.iterator;function we(r){return r===null||typeof r!="object"?null:(r=re&&r[re]||r["@@iterator"],typeof r=="function"?r:null)}var ce=Object.assign,U;function X(r){if(U===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);U=i&&i[1]||""}return`
`+U+r}var _e=!1;function Ne(r,i){if(!r||_e)return"";_e=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(H){var c=H}Reflect.construct(r,[],i)}else{try{i.call()}catch(H){c=H}r.call(i.prototype)}else{try{throw Error()}catch(H){c=H}r()}}catch(H){if(H&&c&&typeof H.stack=="string"){for(var d=H.stack.split(`
`),g=c.stack.split(`
`),E=d.length-1,R=g.length-1;1<=E&&0<=R&&d[E]!==g[R];)R--;for(;1<=E&&0<=R;E--,R--)if(d[E]!==g[R]){if(E!==1||R!==1)do if(E--,R--,0>R||d[E]!==g[R]){var O=`
`+d[E].replace(" at new "," at ");return r.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",r.displayName)),O}while(1<=E&&0<=R);break}}}finally{_e=!1,Error.prepareStackTrace=a}return(r=r?r.displayName||r.name:"")?X(r):""}function De(r){switch(r.tag){case 5:return X(r.type);case 16:return X("Lazy");case 13:return X("Suspense");case 19:return X("SuspenseList");case 0:case 2:case 15:return r=Ne(r.type,!1),r;case 11:return r=Ne(r.type.render,!1),r;case 1:return r=Ne(r.type,!0),r;default:return""}}function je(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case D:return"Fragment";case fe:return"Portal";case P:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case le:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case x:return(r.displayName||"Context")+".Consumer";case N:return(r._context.displayName||"Context")+".Provider";case j:var i=r.render;return r=r.displayName,r||(r=i.displayName||i.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case oe:return i=r.displayName||null,i!==null?i:je(r.type)||"Memo";case be:i=r._payload,r=r._init;try{return je(r(i))}catch{}}return null}function Oe(r){var i=r.type;switch(r.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=i.render,r=r.displayName||r.name||"",i.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(i);case 8:return i===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Me(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function qe(r){var i=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function ct(r){var i=qe(r)?"checked":"value",a=Object.getOwnPropertyDescriptor(r.constructor.prototype,i),c=""+r[i];if(!r.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(r,i,{configurable:!0,get:function(){return d.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(r,i,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){r._valueTracker=null,delete r[i]}}}}function Tn(r){r._valueTracker||(r._valueTracker=ct(r))}function St(r){if(!r)return!1;var i=r._valueTracker;if(!i)return!0;var a=i.getValue(),c="";return r&&(c=qe(r)?r.checked?"true":"false":r.value),r=c,r!==a?(i.setValue(r),!0):!1}function tr(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Tr(r,i){var a=i.checked;return ce({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??r._wrapperState.initialChecked})}function Jr(r,i){var a=i.defaultValue==null?"":i.defaultValue,c=i.checked!=null?i.checked:i.defaultChecked;a=Me(i.value!=null?i.value:a),r._wrapperState={initialChecked:c,initialValue:a,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function Zr(r,i){i=i.checked,i!=null&&Q(r,"checked",i,!1)}function Ui(r,i){Zr(r,i);var a=Me(i.value),c=i.type;if(a!=null)c==="number"?(a===0&&r.value===""||r.value!=a)&&(r.value=""+a):r.value!==""+a&&(r.value=""+a);else if(c==="submit"||c==="reset"){r.removeAttribute("value");return}i.hasOwnProperty("value")?Ir(r,i.type,a):i.hasOwnProperty("defaultValue")&&Ir(r,i.type,Me(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(r.defaultChecked=!!i.defaultChecked)}function tn(r,i,a){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var c=i.type;if(!(c!=="submit"&&c!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+r._wrapperState.initialValue,a||i===r.value||(r.value=i),r.defaultValue=i}a=r.name,a!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,a!==""&&(r.name=a)}function Ir(r,i,a){(i!=="number"||tr(r.ownerDocument)!==r)&&(a==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+a&&(r.defaultValue=""+a))}var K=Array.isArray;function ae(r,i,a,c){if(r=r.options,i){i={};for(var d=0;d<a.length;d++)i["$"+a[d]]=!0;for(a=0;a<r.length;a++)d=i.hasOwnProperty("$"+r[a].value),r[a].selected!==d&&(r[a].selected=d),d&&c&&(r[a].defaultSelected=!0)}else{for(a=""+Me(a),i=null,d=0;d<r.length;d++){if(r[d].value===a){r[d].selected=!0,c&&(r[d].defaultSelected=!0);return}i!==null||r[d].disabled||(i=r[d])}i!==null&&(i.selected=!0)}}function Se(r,i){if(i.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},i,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function nt(r,i){var a=i.value;if(a==null){if(a=i.children,i=i.defaultValue,a!=null){if(i!=null)throw Error(t(92));if(K(a)){if(1<a.length)throw Error(t(93));a=a[0]}i=a}i==null&&(i=""),a=i}r._wrapperState={initialValue:Me(a)}}function Qe(r,i){var a=Me(i.value),c=Me(i.defaultValue);a!=null&&(a=""+a,a!==r.value&&(r.value=a),i.defaultValue==null&&r.defaultValue!==a&&(r.defaultValue=a)),c!=null&&(r.defaultValue=""+c)}function es(r){var i=r.textContent;i===r._wrapperState.initialValue&&i!==""&&i!==null&&(r.value=i)}function Ye(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ct(r,i){return r==null||r==="http://www.w3.org/1999/xhtml"?Ye(i):r==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var Sr,ta=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,a,c,d){MSApp.execUnsafeLocalFunction(function(){return r(i,a,c,d)})}:r})(function(r,i){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=i;else{for(Sr=Sr||document.createElement("div"),Sr.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=Sr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;i.firstChild;)r.appendChild(i.firstChild)}});function ts(r,i){if(i){var a=r.firstChild;if(a&&a===r.lastChild&&a.nodeType===3){a.nodeValue=i;return}}r.textContent=i}var Xs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Js=["Webkit","ms","Moz","O"];Object.keys(Xs).forEach(function(r){Js.forEach(function(i){i=i+r.charAt(0).toUpperCase()+r.substring(1),Xs[i]=Xs[r]})});function na(r,i,a){return i==null||typeof i=="boolean"||i===""?"":a||typeof i!="number"||i===0||Xs.hasOwnProperty(r)&&Xs[r]?(""+i).trim():i+"px"}function ra(r,i){r=r.style;for(var a in i)if(i.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=na(a,i[a],c);a==="float"&&(a="cssFloat"),c?r.setProperty(a,d):r[a]=d}}var sa=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ia(r,i){if(i){if(sa[r]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(t(137,r));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(t(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(t(61))}if(i.style!=null&&typeof i.style!="object")throw Error(t(62))}}function oa(r,i){if(r.indexOf("-")===-1)return typeof i.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Zs=null;function Fi(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var zi=null,In=null,nr=null;function Bi(r){if(r=ka(r)){if(typeof zi!="function")throw Error(t(280));var i=r.stateNode;i&&(i=su(i),zi(r.stateNode,r.type,i))}}function rr(r){In?nr?nr.push(r):nr=[r]:In=r}function aa(){if(In){var r=In,i=nr;if(nr=In=null,Bi(r),i)for(r=0;r<i.length;r++)Bi(i[r])}}function ei(r,i){return r(i)}function la(){}var Cr=!1;function ua(r,i,a){if(Cr)return r(i,a);Cr=!0;try{return ei(r,i,a)}finally{Cr=!1,(In!==null||nr!==null)&&(la(),aa())}}function ft(r,i){var a=r.stateNode;if(a===null)return null;var c=su(a);if(c===null)return null;a=c[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(r=r.type,c=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!c;break e;default:r=!1}if(r)return null;if(a&&typeof a!="function")throw Error(t(231,i,typeof a));return a}var $i=!1;if(f)try{var Ln={};Object.defineProperty(Ln,"passive",{get:function(){$i=!0}}),window.addEventListener("test",Ln,Ln),window.removeEventListener("test",Ln,Ln)}catch{$i=!1}function ti(r,i,a,c,d,g,E,R,O){var H=Array.prototype.slice.call(arguments,3);try{i.apply(a,H)}catch(ee){this.onError(ee)}}var ni=!1,Wi=null,jn=!1,ca=null,oh={onError:function(r){ni=!0,Wi=r}};function Hi(r,i,a,c,d,g,E,R,O){ni=!1,Wi=null,ti.apply(oh,arguments)}function xl(r,i,a,c,d,g,E,R,O){if(Hi.apply(this,arguments),ni){if(ni){var H=Wi;ni=!1,Wi=null}else throw Error(t(198));jn||(jn=!0,ca=H)}}function Mn(r){var i=r,a=r;if(r.alternate)for(;i.return;)i=i.return;else{r=i;do i=r,(i.flags&4098)!==0&&(a=i.return),r=i.return;while(r)}return i.tag===3?a:null}function ri(r){if(r.tag===13){var i=r.memoizedState;if(i===null&&(r=r.alternate,r!==null&&(i=r.memoizedState)),i!==null)return i.dehydrated}return null}function Un(r){if(Mn(r)!==r)throw Error(t(188))}function kl(r){var i=r.alternate;if(!i){if(i=Mn(r),i===null)throw Error(t(188));return i!==r?null:r}for(var a=r,c=i;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Un(d),r;if(g===c)return Un(d),i;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var E=!1,R=d.child;R;){if(R===a){E=!0,a=d,c=g;break}if(R===c){E=!0,c=d,a=g;break}R=R.sibling}if(!E){for(R=g.child;R;){if(R===a){E=!0,a=g,c=d;break}if(R===c){E=!0,c=g,a=d;break}R=R.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?r:i}function ha(r){return r=kl(r),r!==null?qi(r):null}function qi(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var i=qi(r);if(i!==null)return i;r=r.sibling}return null}var Gi=e.unstable_scheduleCallback,da=e.unstable_cancelCallback,Nl=e.unstable_shouldYield,ah=e.unstable_requestPaint,Ze=e.unstable_now,Dl=e.unstable_getCurrentPriorityLevel,si=e.unstable_ImmediatePriority,ns=e.unstable_UserBlockingPriority,Sn=e.unstable_NormalPriority,fa=e.unstable_LowPriority,bl=e.unstable_IdlePriority,ii=null,pn=null;function Ol(r){if(pn&&typeof pn.onCommitFiberRoot=="function")try{pn.onCommitFiberRoot(ii,r,void 0,(r.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:Ll,pa=Math.log,Vl=Math.LN2;function Ll(r){return r>>>=0,r===0?32:31-(pa(r)/Vl|0)|0}var Ki=64,Qi=4194304;function rs(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function oi(r,i){var a=r.pendingLanes;if(a===0)return 0;var c=0,d=r.suspendedLanes,g=r.pingedLanes,E=a&268435455;if(E!==0){var R=E&~d;R!==0?c=rs(R):(g&=E,g!==0&&(c=rs(g)))}else E=a&~d,E!==0?c=rs(E):g!==0&&(c=rs(g));if(c===0)return 0;if(i!==0&&i!==c&&(i&d)===0&&(d=c&-c,g=i&-i,d>=g||d===16&&(g&4194240)!==0))return i;if((c&4)!==0&&(c|=a&16),i=r.entangledLanes,i!==0)for(r=r.entanglements,i&=c;0<i;)a=31-Xt(i),d=1<<a,c|=r[a],i&=~d;return c}function lh(r,i){switch(r){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ar(r,i){for(var a=r.suspendedLanes,c=r.pingedLanes,d=r.expirationTimes,g=r.pendingLanes;0<g;){var E=31-Xt(g),R=1<<E,O=d[E];O===-1?((R&a)===0||(R&c)!==0)&&(d[E]=lh(R,i)):O<=i&&(r.expiredLanes|=R),g&=~R}}function mn(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function ai(){var r=Ki;return Ki<<=1,(Ki&4194240)===0&&(Ki=64),r}function ss(r){for(var i=[],a=0;31>a;a++)i.push(r);return i}function is(r,i,a){r.pendingLanes|=i,i!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,i=31-Xt(i),r[i]=a}function Je(r,i){var a=r.pendingLanes&~i;r.pendingLanes=i,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=i,r.mutableReadLanes&=i,r.entangledLanes&=i,i=r.entanglements;var c=r.eventTimes;for(r=r.expirationTimes;0<a;){var d=31-Xt(a),g=1<<d;i[d]=0,c[d]=-1,r[d]=-1,a&=~g}}function os(r,i){var a=r.entangledLanes|=i;for(r=r.entanglements;a;){var c=31-Xt(a),d=1<<c;d&i|r[c]&i&&(r[c]|=i),a&=~d}}var ze=0;function as(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var jl,Yi,Ml,Ul,Fl,ma=!1,sr=[],Lt=null,Fn=null,zn=null,ls=new Map,Cn=new Map,ir=[],uh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function zl(r,i){switch(r){case"focusin":case"focusout":Lt=null;break;case"dragenter":case"dragleave":Fn=null;break;case"mouseover":case"mouseout":zn=null;break;case"pointerover":case"pointerout":ls.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(i.pointerId)}}function nn(r,i,a,c,d,g){return r===null||r.nativeEvent!==g?(r={blockedOn:i,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},i!==null&&(i=ka(i),i!==null&&Yi(i)),r):(r.eventSystemFlags|=c,i=r.targetContainers,d!==null&&i.indexOf(d)===-1&&i.push(d),r)}function ch(r,i,a,c,d){switch(i){case"focusin":return Lt=nn(Lt,r,i,a,c,d),!0;case"dragenter":return Fn=nn(Fn,r,i,a,c,d),!0;case"mouseover":return zn=nn(zn,r,i,a,c,d),!0;case"pointerover":var g=d.pointerId;return ls.set(g,nn(ls.get(g)||null,r,i,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,Cn.set(g,nn(Cn.get(g)||null,r,i,a,c,d)),!0}return!1}function Bl(r){var i=di(r.target);if(i!==null){var a=Mn(i);if(a!==null){if(i=a.tag,i===13){if(i=ri(a),i!==null){r.blockedOn=i,Fl(r.priority,function(){Ml(a)});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){r.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Pr(r){if(r.blockedOn!==null)return!1;for(var i=r.targetContainers;0<i.length;){var a=Xi(r.domEventName,r.eventSystemFlags,i[0],r.nativeEvent);if(a===null){a=r.nativeEvent;var c=new a.constructor(a.type,a);Zs=c,a.target.dispatchEvent(c),Zs=null}else return i=ka(a),i!==null&&Yi(i),r.blockedOn=a,!1;i.shift()}return!0}function li(r,i,a){Pr(r)&&a.delete(i)}function $l(){ma=!1,Lt!==null&&Pr(Lt)&&(Lt=null),Fn!==null&&Pr(Fn)&&(Fn=null),zn!==null&&Pr(zn)&&(zn=null),ls.forEach(li),Cn.forEach(li)}function Bn(r,i){r.blockedOn===i&&(r.blockedOn=null,ma||(ma=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,$l)))}function $n(r){function i(d){return Bn(d,r)}if(0<sr.length){Bn(sr[0],r);for(var a=1;a<sr.length;a++){var c=sr[a];c.blockedOn===r&&(c.blockedOn=null)}}for(Lt!==null&&Bn(Lt,r),Fn!==null&&Bn(Fn,r),zn!==null&&Bn(zn,r),ls.forEach(i),Cn.forEach(i),a=0;a<ir.length;a++)c=ir[a],c.blockedOn===r&&(c.blockedOn=null);for(;0<ir.length&&(a=ir[0],a.blockedOn===null);)Bl(a),a.blockedOn===null&&ir.shift()}var Rr=ne.ReactCurrentBatchConfig,us=!0;function it(r,i,a,c){var d=ze,g=Rr.transition;Rr.transition=null;try{ze=1,ga(r,i,a,c)}finally{ze=d,Rr.transition=g}}function hh(r,i,a,c){var d=ze,g=Rr.transition;Rr.transition=null;try{ze=4,ga(r,i,a,c)}finally{ze=d,Rr.transition=g}}function ga(r,i,a,c){if(us){var d=Xi(r,i,a,c);if(d===null)Th(r,i,c,ui,a),zl(r,c);else if(ch(d,r,i,a,c))c.stopPropagation();else if(zl(r,c),i&4&&-1<uh.indexOf(r)){for(;d!==null;){var g=ka(d);if(g!==null&&jl(g),g=Xi(r,i,a,c),g===null&&Th(r,i,c,ui,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else Th(r,i,c,null,a)}}var ui=null;function Xi(r,i,a,c){if(ui=null,r=Fi(c),r=di(r),r!==null)if(i=Mn(r),i===null)r=null;else if(a=i.tag,a===13){if(r=ri(i),r!==null)return r;r=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;r=null}else i!==r&&(r=null);return ui=r,null}function ya(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Dl()){case si:return 1;case ns:return 4;case Sn:case fa:return 16;case bl:return 536870912;default:return 16}default:return 16}}var gn=null,Ji=null,rn=null;function va(){if(rn)return rn;var r,i=Ji,a=i.length,c,d="value"in gn?gn.value:gn.textContent,g=d.length;for(r=0;r<a&&i[r]===d[r];r++);var E=a-r;for(c=1;c<=E&&i[a-c]===d[g-c];c++);return rn=d.slice(r,1<c?1-c:void 0)}function Zi(r){var i=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&i===13&&(r=13)):r=i,r===10&&(r=13),32<=r||r===13?r:0}function or(){return!0}function _a(){return!1}function jt(r){function i(a,c,d,g,E){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var R in r)r.hasOwnProperty(R)&&(a=r[R],this[R]=a?a(g):g[R]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?or:_a,this.isPropagationStopped=_a,this}return ce(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=or)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=or)},persist:function(){},isPersistent:or}),i}var Wn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},eo=jt(Wn),ar=ce({},Wn,{view:0,detail:0}),dh=jt(ar),to,xr,cs,ci=ce({},ar,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lr,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==cs&&(cs&&r.type==="mousemove"?(to=r.screenX-cs.screenX,xr=r.screenY-cs.screenY):xr=to=0,cs=r),to)},movementY:function(r){return"movementY"in r?r.movementY:xr}}),no=jt(ci),wa=ce({},ci,{dataTransfer:0}),Wl=jt(wa),ro=ce({},ar,{relatedTarget:0}),so=jt(ro),Hl=ce({},Wn,{animationName:0,elapsedTime:0,pseudoElement:0}),kr=jt(Hl),ql=ce({},Wn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Gl=jt(ql),Kl=ce({},Wn,{data:0}),Ea=jt(Kl),io={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Jt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ql={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yl(r){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(r):(r=Ql[r])?!!i[r]:!1}function lr(){return Yl}var u=ce({},ar,{key:function(r){if(r.key){var i=io[r.key]||r.key;if(i!=="Unidentified")return i}return r.type==="keypress"?(r=Zi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?Jt[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lr,charCode:function(r){return r.type==="keypress"?Zi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Zi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),m=jt(u),_=ce({},ci,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S=jt(_),F=ce({},ar,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lr}),q=jt(F),ie=ce({},Wn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ke=jt(ie),At=ce({},ci,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=jt(At),Nt=[9,13,27,32],_t=f&&"CompositionEvent"in window,An=null;f&&"documentMode"in document&&(An=document.documentMode);var yn=f&&"TextEvent"in window&&!An,hi=f&&(!_t||An&&8<An&&11>=An),oo=" ",Vp=!1;function Lp(r,i){switch(r){case"keyup":return Nt.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jp(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var ao=!1;function CE(r,i){switch(r){case"compositionend":return jp(i);case"keypress":return i.which!==32?null:(Vp=!0,oo);case"textInput":return r=i.data,r===oo&&Vp?null:r;default:return null}}function AE(r,i){if(ao)return r==="compositionend"||!_t&&Lp(r,i)?(r=va(),rn=Ji=gn=null,ao=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return hi&&i.locale!=="ko"?null:i.data;default:return null}}var PE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mp(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i==="input"?!!PE[r.type]:i==="textarea"}function Up(r,i,a,c){rr(c),i=tu(i,"onChange"),0<i.length&&(a=new eo("onChange","change",null,a,c),r.push({event:a,listeners:i}))}var Ta=null,Ia=null;function RE(r){rm(r,0)}function Xl(r){var i=fo(r);if(St(i))return r}function xE(r,i){if(r==="change")return i}var Fp=!1;if(f){var fh;if(f){var ph="oninput"in document;if(!ph){var zp=document.createElement("div");zp.setAttribute("oninput","return;"),ph=typeof zp.oninput=="function"}fh=ph}else fh=!1;Fp=fh&&(!document.documentMode||9<document.documentMode)}function Bp(){Ta&&(Ta.detachEvent("onpropertychange",$p),Ia=Ta=null)}function $p(r){if(r.propertyName==="value"&&Xl(Ia)){var i=[];Up(i,Ia,r,Fi(r)),ua(RE,i)}}function kE(r,i,a){r==="focusin"?(Bp(),Ta=i,Ia=a,Ta.attachEvent("onpropertychange",$p)):r==="focusout"&&Bp()}function NE(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Xl(Ia)}function DE(r,i){if(r==="click")return Xl(i)}function bE(r,i){if(r==="input"||r==="change")return Xl(i)}function OE(r,i){return r===i&&(r!==0||1/r===1/i)||r!==r&&i!==i}var Hn=typeof Object.is=="function"?Object.is:OE;function Sa(r,i){if(Hn(r,i))return!0;if(typeof r!="object"||r===null||typeof i!="object"||i===null)return!1;var a=Object.keys(r),c=Object.keys(i);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(i,d)||!Hn(r[d],i[d]))return!1}return!0}function Wp(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function Hp(r,i){var a=Wp(r);r=0;for(var c;a;){if(a.nodeType===3){if(c=r+a.textContent.length,r<=i&&c>=i)return{node:a,offset:i-r};r=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Wp(a)}}function qp(r,i){return r&&i?r===i?!0:r&&r.nodeType===3?!1:i&&i.nodeType===3?qp(r,i.parentNode):"contains"in r?r.contains(i):r.compareDocumentPosition?!!(r.compareDocumentPosition(i)&16):!1:!1}function Gp(){for(var r=window,i=tr();i instanceof r.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)r=i.contentWindow;else break;i=tr(r.document)}return i}function mh(r){var i=r&&r.nodeName&&r.nodeName.toLowerCase();return i&&(i==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||i==="textarea"||r.contentEditable==="true")}function VE(r){var i=Gp(),a=r.focusedElem,c=r.selectionRange;if(i!==a&&a&&a.ownerDocument&&qp(a.ownerDocument.documentElement,a)){if(c!==null&&mh(a)){if(i=c.start,r=c.end,r===void 0&&(r=i),"selectionStart"in a)a.selectionStart=i,a.selectionEnd=Math.min(r,a.value.length);else if(r=(i=a.ownerDocument||document)&&i.defaultView||window,r.getSelection){r=r.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!r.extend&&g>c&&(d=c,c=g,g=d),d=Hp(a,g);var E=Hp(a,c);d&&E&&(r.rangeCount!==1||r.anchorNode!==d.node||r.anchorOffset!==d.offset||r.focusNode!==E.node||r.focusOffset!==E.offset)&&(i=i.createRange(),i.setStart(d.node,d.offset),r.removeAllRanges(),g>c?(r.addRange(i),r.extend(E.node,E.offset)):(i.setEnd(E.node,E.offset),r.addRange(i)))}}for(i=[],r=a;r=r.parentNode;)r.nodeType===1&&i.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<i.length;a++)r=i[a],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var LE=f&&"documentMode"in document&&11>=document.documentMode,lo=null,gh=null,Ca=null,yh=!1;function Kp(r,i,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yh||lo==null||lo!==tr(c)||(c=lo,"selectionStart"in c&&mh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ca&&Sa(Ca,c)||(Ca=c,c=tu(gh,"onSelect"),0<c.length&&(i=new eo("onSelect","select",null,i,a),r.push({event:i,listeners:c}),i.target=lo)))}function Jl(r,i){var a={};return a[r.toLowerCase()]=i.toLowerCase(),a["Webkit"+r]="webkit"+i,a["Moz"+r]="moz"+i,a}var uo={animationend:Jl("Animation","AnimationEnd"),animationiteration:Jl("Animation","AnimationIteration"),animationstart:Jl("Animation","AnimationStart"),transitionend:Jl("Transition","TransitionEnd")},vh={},Qp={};f&&(Qp=document.createElement("div").style,"AnimationEvent"in window||(delete uo.animationend.animation,delete uo.animationiteration.animation,delete uo.animationstart.animation),"TransitionEvent"in window||delete uo.transitionend.transition);function Zl(r){if(vh[r])return vh[r];if(!uo[r])return r;var i=uo[r],a;for(a in i)if(i.hasOwnProperty(a)&&a in Qp)return vh[r]=i[a];return r}var Yp=Zl("animationend"),Xp=Zl("animationiteration"),Jp=Zl("animationstart"),Zp=Zl("transitionend"),em=new Map,tm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hs(r,i){em.set(r,i),l(i,[r])}for(var _h=0;_h<tm.length;_h++){var wh=tm[_h],jE=wh.toLowerCase(),ME=wh[0].toUpperCase()+wh.slice(1);hs(jE,"on"+ME)}hs(Yp,"onAnimationEnd"),hs(Xp,"onAnimationIteration"),hs(Jp,"onAnimationStart"),hs("dblclick","onDoubleClick"),hs("focusin","onFocus"),hs("focusout","onBlur"),hs(Zp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),UE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function nm(r,i,a){var c=r.type||"unknown-event";r.currentTarget=a,xl(c,i,void 0,r),r.currentTarget=null}function rm(r,i){i=(i&4)!==0;for(var a=0;a<r.length;a++){var c=r[a],d=c.event;c=c.listeners;e:{var g=void 0;if(i)for(var E=c.length-1;0<=E;E--){var R=c[E],O=R.instance,H=R.currentTarget;if(R=R.listener,O!==g&&d.isPropagationStopped())break e;nm(d,R,H),g=O}else for(E=0;E<c.length;E++){if(R=c[E],O=R.instance,H=R.currentTarget,R=R.listener,O!==g&&d.isPropagationStopped())break e;nm(d,R,H),g=O}}}if(jn)throw r=ca,jn=!1,ca=null,r}function rt(r,i){var a=i[Rh];a===void 0&&(a=i[Rh]=new Set);var c=r+"__bubble";a.has(c)||(sm(i,r,2,!1),a.add(c))}function Eh(r,i,a){var c=0;i&&(c|=4),sm(a,r,c,i)}var eu="_reactListening"+Math.random().toString(36).slice(2);function Pa(r){if(!r[eu]){r[eu]=!0,s.forEach(function(a){a!=="selectionchange"&&(UE.has(a)||Eh(a,!1,r),Eh(a,!0,r))});var i=r.nodeType===9?r:r.ownerDocument;i===null||i[eu]||(i[eu]=!0,Eh("selectionchange",!1,i))}}function sm(r,i,a,c){switch(ya(i)){case 1:var d=it;break;case 4:d=hh;break;default:d=ga}a=d.bind(null,i,a,r),d=void 0,!$i||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(d=!0),c?d!==void 0?r.addEventListener(i,a,{capture:!0,passive:d}):r.addEventListener(i,a,!0):d!==void 0?r.addEventListener(i,a,{passive:d}):r.addEventListener(i,a,!1)}function Th(r,i,a,c,d){var g=c;if((i&1)===0&&(i&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var R=c.stateNode.containerInfo;if(R===d||R.nodeType===8&&R.parentNode===d)break;if(E===4)for(E=c.return;E!==null;){var O=E.tag;if((O===3||O===4)&&(O=E.stateNode.containerInfo,O===d||O.nodeType===8&&O.parentNode===d))return;E=E.return}for(;R!==null;){if(E=di(R),E===null)return;if(O=E.tag,O===5||O===6){c=g=E;continue e}R=R.parentNode}}c=c.return}ua(function(){var H=g,ee=Fi(a),te=[];e:{var Z=em.get(r);if(Z!==void 0){var he=eo,me=r;switch(r){case"keypress":if(Zi(a)===0)break e;case"keydown":case"keyup":he=m;break;case"focusin":me="focus",he=so;break;case"focusout":me="blur",he=so;break;case"beforeblur":case"afterblur":he=so;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=no;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=Wl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=q;break;case Yp:case Xp:case Jp:he=kr;break;case Zp:he=Ke;break;case"scroll":he=dh;break;case"wheel":he=Be;break;case"copy":case"cut":case"paste":he=Gl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=S}var ye=(i&4)!==0,pt=!ye&&r==="scroll",z=ye?Z!==null?Z+"Capture":null:Z;ye=[];for(var V=H,B;V!==null;){B=V;var se=B.stateNode;if(B.tag===5&&se!==null&&(B=se,z!==null&&(se=ft(V,z),se!=null&&ye.push(Ra(V,se,B)))),pt)break;V=V.return}0<ye.length&&(Z=new he(Z,me,null,a,ee),te.push({event:Z,listeners:ye}))}}if((i&7)===0){e:{if(Z=r==="mouseover"||r==="pointerover",he=r==="mouseout"||r==="pointerout",Z&&a!==Zs&&(me=a.relatedTarget||a.fromElement)&&(di(me)||me[Nr]))break e;if((he||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,he?(me=a.relatedTarget||a.toElement,he=H,me=me?di(me):null,me!==null&&(pt=Mn(me),me!==pt||me.tag!==5&&me.tag!==6)&&(me=null)):(he=null,me=H),he!==me)){if(ye=no,se="onMouseLeave",z="onMouseEnter",V="mouse",(r==="pointerout"||r==="pointerover")&&(ye=S,se="onPointerLeave",z="onPointerEnter",V="pointer"),pt=he==null?Z:fo(he),B=me==null?Z:fo(me),Z=new ye(se,V+"leave",he,a,ee),Z.target=pt,Z.relatedTarget=B,se=null,di(ee)===H&&(ye=new ye(z,V+"enter",me,a,ee),ye.target=B,ye.relatedTarget=pt,se=ye),pt=se,he&&me)t:{for(ye=he,z=me,V=0,B=ye;B;B=co(B))V++;for(B=0,se=z;se;se=co(se))B++;for(;0<V-B;)ye=co(ye),V--;for(;0<B-V;)z=co(z),B--;for(;V--;){if(ye===z||z!==null&&ye===z.alternate)break t;ye=co(ye),z=co(z)}ye=null}else ye=null;he!==null&&im(te,Z,he,ye,!1),me!==null&&pt!==null&&im(te,pt,me,ye,!0)}}e:{if(Z=H?fo(H):window,he=Z.nodeName&&Z.nodeName.toLowerCase(),he==="select"||he==="input"&&Z.type==="file")var ve=xE;else if(Mp(Z))if(Fp)ve=bE;else{ve=NE;var Te=kE}else(he=Z.nodeName)&&he.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(ve=DE);if(ve&&(ve=ve(r,H))){Up(te,ve,a,ee);break e}Te&&Te(r,Z,H),r==="focusout"&&(Te=Z._wrapperState)&&Te.controlled&&Z.type==="number"&&Ir(Z,"number",Z.value)}switch(Te=H?fo(H):window,r){case"focusin":(Mp(Te)||Te.contentEditable==="true")&&(lo=Te,gh=H,Ca=null);break;case"focusout":Ca=gh=lo=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,Kp(te,a,ee);break;case"selectionchange":if(LE)break;case"keydown":case"keyup":Kp(te,a,ee)}var Ie;if(_t)e:{switch(r){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else ao?Lp(r,a)&&(Pe="onCompositionEnd"):r==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(hi&&a.locale!=="ko"&&(ao||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&ao&&(Ie=va()):(gn=ee,Ji="value"in gn?gn.value:gn.textContent,ao=!0)),Te=tu(H,Pe),0<Te.length&&(Pe=new Ea(Pe,r,null,a,ee),te.push({event:Pe,listeners:Te}),Ie?Pe.data=Ie:(Ie=jp(a),Ie!==null&&(Pe.data=Ie)))),(Ie=yn?CE(r,a):AE(r,a))&&(H=tu(H,"onBeforeInput"),0<H.length&&(ee=new Ea("onBeforeInput","beforeinput",null,a,ee),te.push({event:ee,listeners:H}),ee.data=Ie))}rm(te,i)})}function Ra(r,i,a){return{instance:r,listener:i,currentTarget:a}}function tu(r,i){for(var a=i+"Capture",c=[];r!==null;){var d=r,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=ft(r,a),g!=null&&c.unshift(Ra(r,g,d)),g=ft(r,i),g!=null&&c.push(Ra(r,g,d))),r=r.return}return c}function co(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function im(r,i,a,c,d){for(var g=i._reactName,E=[];a!==null&&a!==c;){var R=a,O=R.alternate,H=R.stateNode;if(O!==null&&O===c)break;R.tag===5&&H!==null&&(R=H,d?(O=ft(a,g),O!=null&&E.unshift(Ra(a,O,R))):d||(O=ft(a,g),O!=null&&E.push(Ra(a,O,R)))),a=a.return}E.length!==0&&r.push({event:i,listeners:E})}var FE=/\r\n?/g,zE=/\u0000|\uFFFD/g;function om(r){return(typeof r=="string"?r:""+r).replace(FE,`
`).replace(zE,"")}function nu(r,i,a){if(i=om(i),om(r)!==i&&a)throw Error(t(425))}function ru(){}var Ih=null,Sh=null;function Ch(r,i){return r==="textarea"||r==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,BE=typeof clearTimeout=="function"?clearTimeout:void 0,am=typeof Promise=="function"?Promise:void 0,$E=typeof queueMicrotask=="function"?queueMicrotask:typeof am<"u"?function(r){return am.resolve(null).then(r).catch(WE)}:Ah;function WE(r){setTimeout(function(){throw r})}function Ph(r,i){var a=i,c=0;do{var d=a.nextSibling;if(r.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){r.removeChild(d),$n(i);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);$n(i)}function ds(r){for(;r!=null;r=r.nextSibling){var i=r.nodeType;if(i===1||i===3)break;if(i===8){if(i=r.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return r}function lm(r){r=r.previousSibling;for(var i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return r;i--}else a==="/$"&&i++}r=r.previousSibling}return null}var ho=Math.random().toString(36).slice(2),ur="__reactFiber$"+ho,xa="__reactProps$"+ho,Nr="__reactContainer$"+ho,Rh="__reactEvents$"+ho,HE="__reactListeners$"+ho,qE="__reactHandles$"+ho;function di(r){var i=r[ur];if(i)return i;for(var a=r.parentNode;a;){if(i=a[Nr]||a[ur]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(r=lm(r);r!==null;){if(a=r[ur])return a;r=lm(r)}return i}r=a,a=r.parentNode}return null}function ka(r){return r=r[ur]||r[Nr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function fo(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(t(33))}function su(r){return r[xa]||null}var xh=[],po=-1;function fs(r){return{current:r}}function st(r){0>po||(r.current=xh[po],xh[po]=null,po--)}function et(r,i){po++,xh[po]=r.current,r.current=i}var ps={},$t=fs(ps),sn=fs(!1),fi=ps;function mo(r,i){var a=r.type.contextTypes;if(!a)return ps;var c=r.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===i)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=i[g];return c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=i,r.__reactInternalMemoizedMaskedChildContext=d),d}function on(r){return r=r.childContextTypes,r!=null}function iu(){st(sn),st($t)}function um(r,i,a){if($t.current!==ps)throw Error(t(168));et($t,i),et(sn,a)}function cm(r,i,a){var c=r.stateNode;if(i=i.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in i))throw Error(t(108,Oe(r)||"Unknown",d));return ce({},a,c)}function ou(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||ps,fi=$t.current,et($t,r),et(sn,sn.current),!0}function hm(r,i,a){var c=r.stateNode;if(!c)throw Error(t(169));a?(r=cm(r,i,fi),c.__reactInternalMemoizedMergedChildContext=r,st(sn),st($t),et($t,r)):st(sn),et(sn,a)}var Dr=null,au=!1,kh=!1;function dm(r){Dr===null?Dr=[r]:Dr.push(r)}function GE(r){au=!0,dm(r)}function ms(){if(!kh&&Dr!==null){kh=!0;var r=0,i=ze;try{var a=Dr;for(ze=1;r<a.length;r++){var c=a[r];do c=c(!0);while(c!==null)}Dr=null,au=!1}catch(d){throw Dr!==null&&(Dr=Dr.slice(r+1)),Gi(si,ms),d}finally{ze=i,kh=!1}}return null}var go=[],yo=0,lu=null,uu=0,Pn=[],Rn=0,pi=null,br=1,Or="";function mi(r,i){go[yo++]=uu,go[yo++]=lu,lu=r,uu=i}function fm(r,i,a){Pn[Rn++]=br,Pn[Rn++]=Or,Pn[Rn++]=pi,pi=r;var c=br;r=Or;var d=32-Xt(c)-1;c&=~(1<<d),a+=1;var g=32-Xt(i)+d;if(30<g){var E=d-d%5;g=(c&(1<<E)-1).toString(32),c>>=E,d-=E,br=1<<32-Xt(i)+d|a<<d|c,Or=g+r}else br=1<<g|a<<d|c,Or=r}function Nh(r){r.return!==null&&(mi(r,1),fm(r,1,0))}function Dh(r){for(;r===lu;)lu=go[--yo],go[yo]=null,uu=go[--yo],go[yo]=null;for(;r===pi;)pi=Pn[--Rn],Pn[Rn]=null,Or=Pn[--Rn],Pn[Rn]=null,br=Pn[--Rn],Pn[Rn]=null}var vn=null,_n=null,ot=!1,qn=null;function pm(r,i){var a=Dn(5,null,null,0);a.elementType="DELETED",a.stateNode=i,a.return=r,i=r.deletions,i===null?(r.deletions=[a],r.flags|=16):i.push(a)}function mm(r,i){switch(r.tag){case 5:var a=r.type;return i=i.nodeType!==1||a.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(r.stateNode=i,vn=r,_n=ds(i.firstChild),!0):!1;case 6:return i=r.pendingProps===""||i.nodeType!==3?null:i,i!==null?(r.stateNode=i,vn=r,_n=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(a=pi!==null?{id:br,overflow:Or}:null,r.memoizedState={dehydrated:i,treeContext:a,retryLane:1073741824},a=Dn(18,null,null,0),a.stateNode=i,a.return=r,r.child=a,vn=r,_n=null,!0):!1;default:return!1}}function bh(r){return(r.mode&1)!==0&&(r.flags&128)===0}function Oh(r){if(ot){var i=_n;if(i){var a=i;if(!mm(r,i)){if(bh(r))throw Error(t(418));i=ds(a.nextSibling);var c=vn;i&&mm(r,i)?pm(c,a):(r.flags=r.flags&-4097|2,ot=!1,vn=r)}}else{if(bh(r))throw Error(t(418));r.flags=r.flags&-4097|2,ot=!1,vn=r}}}function gm(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;vn=r}function cu(r){if(r!==vn)return!1;if(!ot)return gm(r),ot=!0,!1;var i;if((i=r.tag!==3)&&!(i=r.tag!==5)&&(i=r.type,i=i!=="head"&&i!=="body"&&!Ch(r.type,r.memoizedProps)),i&&(i=_n)){if(bh(r))throw ym(),Error(t(418));for(;i;)pm(r,i),i=ds(i.nextSibling)}if(gm(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(t(317));e:{for(r=r.nextSibling,i=0;r;){if(r.nodeType===8){var a=r.data;if(a==="/$"){if(i===0){_n=ds(r.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++}r=r.nextSibling}_n=null}}else _n=vn?ds(r.stateNode.nextSibling):null;return!0}function ym(){for(var r=_n;r;)r=ds(r.nextSibling)}function vo(){_n=vn=null,ot=!1}function Vh(r){qn===null?qn=[r]:qn.push(r)}var KE=ne.ReactCurrentBatchConfig;function Na(r,i,a){if(r=a.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,r));var d=c,g=""+r;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===g?i.ref:(i=function(E){var R=d.refs;E===null?delete R[g]:R[g]=E},i._stringRef=g,i)}if(typeof r!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,r))}return r}function hu(r,i){throw r=Object.prototype.toString.call(i),Error(t(31,r==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":r))}function vm(r){var i=r._init;return i(r._payload)}function _m(r){function i(z,V){if(r){var B=z.deletions;B===null?(z.deletions=[V],z.flags|=16):B.push(V)}}function a(z,V){if(!r)return null;for(;V!==null;)i(z,V),V=V.sibling;return null}function c(z,V){for(z=new Map;V!==null;)V.key!==null?z.set(V.key,V):z.set(V.index,V),V=V.sibling;return z}function d(z,V){return z=Is(z,V),z.index=0,z.sibling=null,z}function g(z,V,B){return z.index=B,r?(B=z.alternate,B!==null?(B=B.index,B<V?(z.flags|=2,V):B):(z.flags|=2,V)):(z.flags|=1048576,V)}function E(z){return r&&z.alternate===null&&(z.flags|=2),z}function R(z,V,B,se){return V===null||V.tag!==6?(V=Ad(B,z.mode,se),V.return=z,V):(V=d(V,B),V.return=z,V)}function O(z,V,B,se){var ve=B.type;return ve===D?ee(z,V,B.props.children,se,B.key):V!==null&&(V.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===be&&vm(ve)===V.type)?(se=d(V,B.props),se.ref=Na(z,V,B),se.return=z,se):(se=Vu(B.type,B.key,B.props,null,z.mode,se),se.ref=Na(z,V,B),se.return=z,se)}function H(z,V,B,se){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=Pd(B,z.mode,se),V.return=z,V):(V=d(V,B.children||[]),V.return=z,V)}function ee(z,V,B,se,ve){return V===null||V.tag!==7?(V=Ii(B,z.mode,se,ve),V.return=z,V):(V=d(V,B),V.return=z,V)}function te(z,V,B){if(typeof V=="string"&&V!==""||typeof V=="number")return V=Ad(""+V,z.mode,B),V.return=z,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ge:return B=Vu(V.type,V.key,V.props,null,z.mode,B),B.ref=Na(z,null,V),B.return=z,B;case fe:return V=Pd(V,z.mode,B),V.return=z,V;case be:var se=V._init;return te(z,se(V._payload),B)}if(K(V)||we(V))return V=Ii(V,z.mode,B,null),V.return=z,V;hu(z,V)}return null}function Z(z,V,B,se){var ve=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number")return ve!==null?null:R(z,V,""+B,se);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case ge:return B.key===ve?O(z,V,B,se):null;case fe:return B.key===ve?H(z,V,B,se):null;case be:return ve=B._init,Z(z,V,ve(B._payload),se)}if(K(B)||we(B))return ve!==null?null:ee(z,V,B,se,null);hu(z,B)}return null}function he(z,V,B,se,ve){if(typeof se=="string"&&se!==""||typeof se=="number")return z=z.get(B)||null,R(V,z,""+se,ve);if(typeof se=="object"&&se!==null){switch(se.$$typeof){case ge:return z=z.get(se.key===null?B:se.key)||null,O(V,z,se,ve);case fe:return z=z.get(se.key===null?B:se.key)||null,H(V,z,se,ve);case be:var Te=se._init;return he(z,V,B,Te(se._payload),ve)}if(K(se)||we(se))return z=z.get(B)||null,ee(V,z,se,ve,null);hu(V,se)}return null}function me(z,V,B,se){for(var ve=null,Te=null,Ie=V,Pe=V=0,Ot=null;Ie!==null&&Pe<B.length;Pe++){Ie.index>Pe?(Ot=Ie,Ie=null):Ot=Ie.sibling;var He=Z(z,Ie,B[Pe],se);if(He===null){Ie===null&&(Ie=Ot);break}r&&Ie&&He.alternate===null&&i(z,Ie),V=g(He,V,Pe),Te===null?ve=He:Te.sibling=He,Te=He,Ie=Ot}if(Pe===B.length)return a(z,Ie),ot&&mi(z,Pe),ve;if(Ie===null){for(;Pe<B.length;Pe++)Ie=te(z,B[Pe],se),Ie!==null&&(V=g(Ie,V,Pe),Te===null?ve=Ie:Te.sibling=Ie,Te=Ie);return ot&&mi(z,Pe),ve}for(Ie=c(z,Ie);Pe<B.length;Pe++)Ot=he(Ie,z,Pe,B[Pe],se),Ot!==null&&(r&&Ot.alternate!==null&&Ie.delete(Ot.key===null?Pe:Ot.key),V=g(Ot,V,Pe),Te===null?ve=Ot:Te.sibling=Ot,Te=Ot);return r&&Ie.forEach(function(Ss){return i(z,Ss)}),ot&&mi(z,Pe),ve}function ye(z,V,B,se){var ve=we(B);if(typeof ve!="function")throw Error(t(150));if(B=ve.call(B),B==null)throw Error(t(151));for(var Te=ve=null,Ie=V,Pe=V=0,Ot=null,He=B.next();Ie!==null&&!He.done;Pe++,He=B.next()){Ie.index>Pe?(Ot=Ie,Ie=null):Ot=Ie.sibling;var Ss=Z(z,Ie,He.value,se);if(Ss===null){Ie===null&&(Ie=Ot);break}r&&Ie&&Ss.alternate===null&&i(z,Ie),V=g(Ss,V,Pe),Te===null?ve=Ss:Te.sibling=Ss,Te=Ss,Ie=Ot}if(He.done)return a(z,Ie),ot&&mi(z,Pe),ve;if(Ie===null){for(;!He.done;Pe++,He=B.next())He=te(z,He.value,se),He!==null&&(V=g(He,V,Pe),Te===null?ve=He:Te.sibling=He,Te=He);return ot&&mi(z,Pe),ve}for(Ie=c(z,Ie);!He.done;Pe++,He=B.next())He=he(Ie,z,Pe,He.value,se),He!==null&&(r&&He.alternate!==null&&Ie.delete(He.key===null?Pe:He.key),V=g(He,V,Pe),Te===null?ve=He:Te.sibling=He,Te=He);return r&&Ie.forEach(function(P0){return i(z,P0)}),ot&&mi(z,Pe),ve}function pt(z,V,B,se){if(typeof B=="object"&&B!==null&&B.type===D&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case ge:e:{for(var ve=B.key,Te=V;Te!==null;){if(Te.key===ve){if(ve=B.type,ve===D){if(Te.tag===7){a(z,Te.sibling),V=d(Te,B.props.children),V.return=z,z=V;break e}}else if(Te.elementType===ve||typeof ve=="object"&&ve!==null&&ve.$$typeof===be&&vm(ve)===Te.type){a(z,Te.sibling),V=d(Te,B.props),V.ref=Na(z,Te,B),V.return=z,z=V;break e}a(z,Te);break}else i(z,Te);Te=Te.sibling}B.type===D?(V=Ii(B.props.children,z.mode,se,B.key),V.return=z,z=V):(se=Vu(B.type,B.key,B.props,null,z.mode,se),se.ref=Na(z,V,B),se.return=z,z=se)}return E(z);case fe:e:{for(Te=B.key;V!==null;){if(V.key===Te)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){a(z,V.sibling),V=d(V,B.children||[]),V.return=z,z=V;break e}else{a(z,V);break}else i(z,V);V=V.sibling}V=Pd(B,z.mode,se),V.return=z,z=V}return E(z);case be:return Te=B._init,pt(z,V,Te(B._payload),se)}if(K(B))return me(z,V,B,se);if(we(B))return ye(z,V,B,se);hu(z,B)}return typeof B=="string"&&B!==""||typeof B=="number"?(B=""+B,V!==null&&V.tag===6?(a(z,V.sibling),V=d(V,B),V.return=z,z=V):(a(z,V),V=Ad(B,z.mode,se),V.return=z,z=V),E(z)):a(z,V)}return pt}var _o=_m(!0),wm=_m(!1),du=fs(null),fu=null,wo=null,Lh=null;function jh(){Lh=wo=fu=null}function Mh(r){var i=du.current;st(du),r._currentValue=i}function Uh(r,i,a){for(;r!==null;){var c=r.alternate;if((r.childLanes&i)!==i?(r.childLanes|=i,c!==null&&(c.childLanes|=i)):c!==null&&(c.childLanes&i)!==i&&(c.childLanes|=i),r===a)break;r=r.return}}function Eo(r,i){fu=r,Lh=wo=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&i)!==0&&(an=!0),r.firstContext=null)}function xn(r){var i=r._currentValue;if(Lh!==r)if(r={context:r,memoizedValue:i,next:null},wo===null){if(fu===null)throw Error(t(308));wo=r,fu.dependencies={lanes:0,firstContext:r}}else wo=wo.next=r;return i}var gi=null;function Fh(r){gi===null?gi=[r]:gi.push(r)}function Em(r,i,a,c){var d=i.interleaved;return d===null?(a.next=a,Fh(i)):(a.next=d.next,d.next=a),i.interleaved=a,Vr(r,c)}function Vr(r,i){r.lanes|=i;var a=r.alternate;for(a!==null&&(a.lanes|=i),a=r,r=r.return;r!==null;)r.childLanes|=i,a=r.alternate,a!==null&&(a.childLanes|=i),a=r,r=r.return;return a.tag===3?a.stateNode:null}var gs=!1;function zh(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tm(r,i){r=r.updateQueue,i.updateQueue===r&&(i.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Lr(r,i){return{eventTime:r,lane:i,tag:0,payload:null,callback:null,next:null}}function ys(r,i,a){var c=r.updateQueue;if(c===null)return null;if(c=c.shared,(We&2)!==0){var d=c.pending;return d===null?i.next=i:(i.next=d.next,d.next=i),c.pending=i,Vr(r,a)}return d=c.interleaved,d===null?(i.next=i,Fh(c)):(i.next=d.next,d.next=i),c.interleaved=i,Vr(r,a)}function pu(r,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194240)!==0)){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,os(r,a)}}function Im(r,i){var a=r.updateQueue,c=r.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?d=g=i:g=g.next=i}else d=g=i;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},r.updateQueue=a;return}r=a.lastBaseUpdate,r===null?a.firstBaseUpdate=i:r.next=i,a.lastBaseUpdate=i}function mu(r,i,a,c){var d=r.updateQueue;gs=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,R=d.shared.pending;if(R!==null){d.shared.pending=null;var O=R,H=O.next;O.next=null,E===null?g=H:E.next=H,E=O;var ee=r.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==E&&(R===null?ee.firstBaseUpdate=H:R.next=H,ee.lastBaseUpdate=O))}if(g!==null){var te=d.baseState;E=0,ee=H=O=null,R=g;do{var Z=R.lane,he=R.eventTime;if((c&Z)===Z){ee!==null&&(ee=ee.next={eventTime:he,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var me=r,ye=R;switch(Z=i,he=a,ye.tag){case 1:if(me=ye.payload,typeof me=="function"){te=me.call(he,te,Z);break e}te=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=ye.payload,Z=typeof me=="function"?me.call(he,te,Z):me,Z==null)break e;te=ce({},te,Z);break e;case 2:gs=!0}}R.callback!==null&&R.lane!==0&&(r.flags|=64,Z=d.effects,Z===null?d.effects=[R]:Z.push(R))}else he={eventTime:he,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(H=ee=he,O=te):ee=ee.next=he,E|=Z;if(R=R.next,R===null){if(R=d.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,d.lastBaseUpdate=Z,d.shared.pending=null}}while(!0);if(ee===null&&(O=te),d.baseState=O,d.firstBaseUpdate=H,d.lastBaseUpdate=ee,i=d.shared.interleaved,i!==null){d=i;do E|=d.lane,d=d.next;while(d!==i)}else g===null&&(d.shared.lanes=0);_i|=E,r.lanes=E,r.memoizedState=te}}function Sm(r,i,a){if(r=i.effects,i.effects=null,r!==null)for(i=0;i<r.length;i++){var c=r[i],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var Da={},cr=fs(Da),ba=fs(Da),Oa=fs(Da);function yi(r){if(r===Da)throw Error(t(174));return r}function Bh(r,i){switch(et(Oa,i),et(ba,r),et(cr,Da),r=i.nodeType,r){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:Ct(null,"");break;default:r=r===8?i.parentNode:i,i=r.namespaceURI||null,r=r.tagName,i=Ct(i,r)}st(cr),et(cr,i)}function To(){st(cr),st(ba),st(Oa)}function Cm(r){yi(Oa.current);var i=yi(cr.current),a=Ct(i,r.type);i!==a&&(et(ba,r),et(cr,a))}function $h(r){ba.current===r&&(st(cr),st(ba))}var at=fs(0);function gu(r){for(var i=r;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Wh=[];function Hh(){for(var r=0;r<Wh.length;r++)Wh[r]._workInProgressVersionPrimary=null;Wh.length=0}var yu=ne.ReactCurrentDispatcher,qh=ne.ReactCurrentBatchConfig,vi=0,lt=null,Pt=null,Dt=null,vu=!1,Va=!1,La=0,QE=0;function Wt(){throw Error(t(321))}function Gh(r,i){if(i===null)return!1;for(var a=0;a<i.length&&a<r.length;a++)if(!Hn(r[a],i[a]))return!1;return!0}function Kh(r,i,a,c,d,g){if(vi=g,lt=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,yu.current=r===null||r.memoizedState===null?ZE:e0,r=a(c,d),Va){g=0;do{if(Va=!1,La=0,25<=g)throw Error(t(301));g+=1,Dt=Pt=null,i.updateQueue=null,yu.current=t0,r=a(c,d)}while(Va)}if(yu.current=Eu,i=Pt!==null&&Pt.next!==null,vi=0,Dt=Pt=lt=null,vu=!1,i)throw Error(t(300));return r}function Qh(){var r=La!==0;return La=0,r}function hr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dt===null?lt.memoizedState=Dt=r:Dt=Dt.next=r,Dt}function kn(){if(Pt===null){var r=lt.alternate;r=r!==null?r.memoizedState:null}else r=Pt.next;var i=Dt===null?lt.memoizedState:Dt.next;if(i!==null)Dt=i,Pt=r;else{if(r===null)throw Error(t(310));Pt=r,r={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Dt===null?lt.memoizedState=Dt=r:Dt=Dt.next=r}return Dt}function ja(r,i){return typeof i=="function"?i(r):i}function Yh(r){var i=kn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=Pt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var R=E=null,O=null,H=g;do{var ee=H.lane;if((vi&ee)===ee)O!==null&&(O=O.next={lane:0,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),c=H.hasEagerState?H.eagerState:r(c,H.action);else{var te={lane:ee,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null};O===null?(R=O=te,E=c):O=O.next=te,lt.lanes|=ee,_i|=ee}H=H.next}while(H!==null&&H!==g);O===null?E=c:O.next=R,Hn(c,i.memoizedState)||(an=!0),i.memoizedState=c,i.baseState=E,i.baseQueue=O,a.lastRenderedState=c}if(r=a.interleaved,r!==null){d=r;do g=d.lane,lt.lanes|=g,_i|=g,d=d.next;while(d!==r)}else d===null&&(a.lanes=0);return[i.memoizedState,a.dispatch]}function Xh(r){var i=kn(),a=i.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=r;var c=a.dispatch,d=a.pending,g=i.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do g=r(g,E.action),E=E.next;while(E!==d);Hn(g,i.memoizedState)||(an=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),a.lastRenderedState=g}return[g,c]}function Am(){}function Pm(r,i){var a=lt,c=kn(),d=i(),g=!Hn(c.memoizedState,d);if(g&&(c.memoizedState=d,an=!0),c=c.queue,Jh(km.bind(null,a,c,r),[r]),c.getSnapshot!==i||g||Dt!==null&&Dt.memoizedState.tag&1){if(a.flags|=2048,Ma(9,xm.bind(null,a,c,d,i),void 0,null),bt===null)throw Error(t(349));(vi&30)!==0||Rm(a,i,d)}return d}function Rm(r,i,a){r.flags|=16384,r={getSnapshot:i,value:a},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.stores=[r]):(a=i.stores,a===null?i.stores=[r]:a.push(r))}function xm(r,i,a,c){i.value=a,i.getSnapshot=c,Nm(i)&&Dm(r)}function km(r,i,a){return a(function(){Nm(i)&&Dm(r)})}function Nm(r){var i=r.getSnapshot;r=r.value;try{var a=i();return!Hn(r,a)}catch{return!0}}function Dm(r){var i=Vr(r,1);i!==null&&Yn(i,r,1,-1)}function bm(r){var i=hr();return typeof r=="function"&&(r=r()),i.memoizedState=i.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ja,lastRenderedState:r},i.queue=r,r=r.dispatch=JE.bind(null,lt,r),[i.memoizedState,r]}function Ma(r,i,a,c){return r={tag:r,create:i,destroy:a,deps:c,next:null},i=lt.updateQueue,i===null?(i={lastEffect:null,stores:null},lt.updateQueue=i,i.lastEffect=r.next=r):(a=i.lastEffect,a===null?i.lastEffect=r.next=r:(c=a.next,a.next=r,r.next=c,i.lastEffect=r)),r}function Om(){return kn().memoizedState}function _u(r,i,a,c){var d=hr();lt.flags|=r,d.memoizedState=Ma(1|i,a,void 0,c===void 0?null:c)}function wu(r,i,a,c){var d=kn();c=c===void 0?null:c;var g=void 0;if(Pt!==null){var E=Pt.memoizedState;if(g=E.destroy,c!==null&&Gh(c,E.deps)){d.memoizedState=Ma(i,a,g,c);return}}lt.flags|=r,d.memoizedState=Ma(1|i,a,g,c)}function Vm(r,i){return _u(8390656,8,r,i)}function Jh(r,i){return wu(2048,8,r,i)}function Lm(r,i){return wu(4,2,r,i)}function jm(r,i){return wu(4,4,r,i)}function Mm(r,i){if(typeof i=="function")return r=r(),i(r),function(){i(null)};if(i!=null)return r=r(),i.current=r,function(){i.current=null}}function Um(r,i,a){return a=a!=null?a.concat([r]):null,wu(4,4,Mm.bind(null,i,r),a)}function Zh(){}function Fm(r,i){var a=kn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Gh(i,c[1])?c[0]:(a.memoizedState=[r,i],r)}function zm(r,i){var a=kn();i=i===void 0?null:i;var c=a.memoizedState;return c!==null&&i!==null&&Gh(i,c[1])?c[0]:(r=r(),a.memoizedState=[r,i],r)}function Bm(r,i,a){return(vi&21)===0?(r.baseState&&(r.baseState=!1,an=!0),r.memoizedState=a):(Hn(a,i)||(a=ai(),lt.lanes|=a,_i|=a,r.baseState=!0),i)}function YE(r,i){var a=ze;ze=a!==0&&4>a?a:4,r(!0);var c=qh.transition;qh.transition={};try{r(!1),i()}finally{ze=a,qh.transition=c}}function $m(){return kn().memoizedState}function XE(r,i,a){var c=Es(r);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Wm(r))Hm(i,a);else if(a=Em(r,i,a,c),a!==null){var d=en();Yn(a,r,c,d),qm(a,i,c)}}function JE(r,i,a){var c=Es(r),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Wm(r))Hm(i,d);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var E=i.lastRenderedState,R=g(E,a);if(d.hasEagerState=!0,d.eagerState=R,Hn(R,E)){var O=i.interleaved;O===null?(d.next=d,Fh(i)):(d.next=O.next,O.next=d),i.interleaved=d;return}}catch{}finally{}a=Em(r,i,d,c),a!==null&&(d=en(),Yn(a,r,c,d),qm(a,i,c))}}function Wm(r){var i=r.alternate;return r===lt||i!==null&&i===lt}function Hm(r,i){Va=vu=!0;var a=r.pending;a===null?i.next=i:(i.next=a.next,a.next=i),r.pending=i}function qm(r,i,a){if((a&4194240)!==0){var c=i.lanes;c&=r.pendingLanes,a|=c,i.lanes=a,os(r,a)}}var Eu={readContext:xn,useCallback:Wt,useContext:Wt,useEffect:Wt,useImperativeHandle:Wt,useInsertionEffect:Wt,useLayoutEffect:Wt,useMemo:Wt,useReducer:Wt,useRef:Wt,useState:Wt,useDebugValue:Wt,useDeferredValue:Wt,useTransition:Wt,useMutableSource:Wt,useSyncExternalStore:Wt,useId:Wt,unstable_isNewReconciler:!1},ZE={readContext:xn,useCallback:function(r,i){return hr().memoizedState=[r,i===void 0?null:i],r},useContext:xn,useEffect:Vm,useImperativeHandle:function(r,i,a){return a=a!=null?a.concat([r]):null,_u(4194308,4,Mm.bind(null,i,r),a)},useLayoutEffect:function(r,i){return _u(4194308,4,r,i)},useInsertionEffect:function(r,i){return _u(4,2,r,i)},useMemo:function(r,i){var a=hr();return i=i===void 0?null:i,r=r(),a.memoizedState=[r,i],r},useReducer:function(r,i,a){var c=hr();return i=a!==void 0?a(i):i,c.memoizedState=c.baseState=i,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:i},c.queue=r,r=r.dispatch=XE.bind(null,lt,r),[c.memoizedState,r]},useRef:function(r){var i=hr();return r={current:r},i.memoizedState=r},useState:bm,useDebugValue:Zh,useDeferredValue:function(r){return hr().memoizedState=r},useTransition:function(){var r=bm(!1),i=r[0];return r=YE.bind(null,r[1]),hr().memoizedState=r,[i,r]},useMutableSource:function(){},useSyncExternalStore:function(r,i,a){var c=lt,d=hr();if(ot){if(a===void 0)throw Error(t(407));a=a()}else{if(a=i(),bt===null)throw Error(t(349));(vi&30)!==0||Rm(c,i,a)}d.memoizedState=a;var g={value:a,getSnapshot:i};return d.queue=g,Vm(km.bind(null,c,g,r),[r]),c.flags|=2048,Ma(9,xm.bind(null,c,g,a,i),void 0,null),a},useId:function(){var r=hr(),i=bt.identifierPrefix;if(ot){var a=Or,c=br;a=(c&~(1<<32-Xt(c)-1)).toString(32)+a,i=":"+i+"R"+a,a=La++,0<a&&(i+="H"+a.toString(32)),i+=":"}else a=QE++,i=":"+i+"r"+a.toString(32)+":";return r.memoizedState=i},unstable_isNewReconciler:!1},e0={readContext:xn,useCallback:Fm,useContext:xn,useEffect:Jh,useImperativeHandle:Um,useInsertionEffect:Lm,useLayoutEffect:jm,useMemo:zm,useReducer:Yh,useRef:Om,useState:function(){return Yh(ja)},useDebugValue:Zh,useDeferredValue:function(r){var i=kn();return Bm(i,Pt.memoizedState,r)},useTransition:function(){var r=Yh(ja)[0],i=kn().memoizedState;return[r,i]},useMutableSource:Am,useSyncExternalStore:Pm,useId:$m,unstable_isNewReconciler:!1},t0={readContext:xn,useCallback:Fm,useContext:xn,useEffect:Jh,useImperativeHandle:Um,useInsertionEffect:Lm,useLayoutEffect:jm,useMemo:zm,useReducer:Xh,useRef:Om,useState:function(){return Xh(ja)},useDebugValue:Zh,useDeferredValue:function(r){var i=kn();return Pt===null?i.memoizedState=r:Bm(i,Pt.memoizedState,r)},useTransition:function(){var r=Xh(ja)[0],i=kn().memoizedState;return[r,i]},useMutableSource:Am,useSyncExternalStore:Pm,useId:$m,unstable_isNewReconciler:!1};function Gn(r,i){if(r&&r.defaultProps){i=ce({},i),r=r.defaultProps;for(var a in r)i[a]===void 0&&(i[a]=r[a]);return i}return i}function ed(r,i,a,c){i=r.memoizedState,a=a(c,i),a=a==null?i:ce({},i,a),r.memoizedState=a,r.lanes===0&&(r.updateQueue.baseState=a)}var Tu={isMounted:function(r){return(r=r._reactInternals)?Mn(r)===r:!1},enqueueSetState:function(r,i,a){r=r._reactInternals;var c=en(),d=Es(r),g=Lr(c,d);g.payload=i,a!=null&&(g.callback=a),i=ys(r,g,d),i!==null&&(Yn(i,r,d,c),pu(i,r,d))},enqueueReplaceState:function(r,i,a){r=r._reactInternals;var c=en(),d=Es(r),g=Lr(c,d);g.tag=1,g.payload=i,a!=null&&(g.callback=a),i=ys(r,g,d),i!==null&&(Yn(i,r,d,c),pu(i,r,d))},enqueueForceUpdate:function(r,i){r=r._reactInternals;var a=en(),c=Es(r),d=Lr(a,c);d.tag=2,i!=null&&(d.callback=i),i=ys(r,d,c),i!==null&&(Yn(i,r,c,a),pu(i,r,c))}};function Gm(r,i,a,c,d,g,E){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(c,g,E):i.prototype&&i.prototype.isPureReactComponent?!Sa(a,c)||!Sa(d,g):!0}function Km(r,i,a){var c=!1,d=ps,g=i.contextType;return typeof g=="object"&&g!==null?g=xn(g):(d=on(i)?fi:$t.current,c=i.contextTypes,g=(c=c!=null)?mo(r,d):ps),i=new i(a,g),r.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=Tu,r.stateNode=i,i._reactInternals=r,c&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=d,r.__reactInternalMemoizedMaskedChildContext=g),i}function Qm(r,i,a,c){r=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,c),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,c),i.state!==r&&Tu.enqueueReplaceState(i,i.state,null)}function td(r,i,a,c){var d=r.stateNode;d.props=a,d.state=r.memoizedState,d.refs={},zh(r);var g=i.contextType;typeof g=="object"&&g!==null?d.context=xn(g):(g=on(i)?fi:$t.current,d.context=mo(r,g)),d.state=r.memoizedState,g=i.getDerivedStateFromProps,typeof g=="function"&&(ed(r,i,g,a),d.state=r.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(i=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),i!==d.state&&Tu.enqueueReplaceState(d,d.state,null),mu(r,a,d,c),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308)}function Io(r,i){try{var a="",c=i;do a+=De(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:r,source:i,stack:d,digest:null}}function nd(r,i,a){return{value:r,source:null,stack:a??null,digest:i??null}}function rd(r,i){try{console.error(i.value)}catch(a){setTimeout(function(){throw a})}}var n0=typeof WeakMap=="function"?WeakMap:Map;function Ym(r,i,a){a=Lr(-1,a),a.tag=3,a.payload={element:null};var c=i.value;return a.callback=function(){xu||(xu=!0,vd=c),rd(r,i)},a}function Xm(r,i,a){a=Lr(-1,a),a.tag=3;var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var d=i.value;a.payload=function(){return c(d)},a.callback=function(){rd(r,i)}}var g=r.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){rd(r,i),typeof c!="function"&&(_s===null?_s=new Set([this]):_s.add(this));var E=i.stack;this.componentDidCatch(i.value,{componentStack:E!==null?E:""})}),a}function Jm(r,i,a){var c=r.pingCache;if(c===null){c=r.pingCache=new n0;var d=new Set;c.set(i,d)}else d=c.get(i),d===void 0&&(d=new Set,c.set(i,d));d.has(a)||(d.add(a),r=g0.bind(null,r,i,a),i.then(r,r))}function Zm(r){do{var i;if((i=r.tag===13)&&(i=r.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return r;r=r.return}while(r!==null);return null}function eg(r,i,a,c,d){return(r.mode&1)===0?(r===i?r.flags|=65536:(r.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(i=Lr(-1,1),i.tag=2,ys(a,i,1))),a.lanes|=1),r):(r.flags|=65536,r.lanes=d,r)}var r0=ne.ReactCurrentOwner,an=!1;function Zt(r,i,a,c){i.child=r===null?wm(i,null,a,c):_o(i,r.child,a,c)}function tg(r,i,a,c,d){a=a.render;var g=i.ref;return Eo(i,d),c=Kh(r,i,a,c,g,d),a=Qh(),r!==null&&!an?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,jr(r,i,d)):(ot&&a&&Nh(i),i.flags|=1,Zt(r,i,c,d),i.child)}function ng(r,i,a,c,d){if(r===null){var g=a.type;return typeof g=="function"&&!Cd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(i.tag=15,i.type=g,rg(r,i,g,c,d)):(r=Vu(a.type,null,c,i,i.mode,d),r.ref=i.ref,r.return=i,i.child=r)}if(g=r.child,(r.lanes&d)===0){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(E,c)&&r.ref===i.ref)return jr(r,i,d)}return i.flags|=1,r=Is(g,c),r.ref=i.ref,r.return=i,i.child=r}function rg(r,i,a,c,d){if(r!==null){var g=r.memoizedProps;if(Sa(g,c)&&r.ref===i.ref)if(an=!1,i.pendingProps=c=g,(r.lanes&d)!==0)(r.flags&131072)!==0&&(an=!0);else return i.lanes=r.lanes,jr(r,i,d)}return sd(r,i,a,c,d)}function sg(r,i,a){var c=i.pendingProps,d=c.children,g=r!==null?r.memoizedState:null;if(c.mode==="hidden")if((i.mode&1)===0)i.memoizedState={baseLanes:0,cachePool:null,transitions:null},et(Co,wn),wn|=a;else{if((a&1073741824)===0)return r=g!==null?g.baseLanes|a:a,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:r,cachePool:null,transitions:null},i.updateQueue=null,et(Co,wn),wn|=r,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,et(Co,wn),wn|=c}else g!==null?(c=g.baseLanes|a,i.memoizedState=null):c=a,et(Co,wn),wn|=c;return Zt(r,i,d,a),i.child}function ig(r,i){var a=i.ref;(r===null&&a!==null||r!==null&&r.ref!==a)&&(i.flags|=512,i.flags|=2097152)}function sd(r,i,a,c,d){var g=on(a)?fi:$t.current;return g=mo(i,g),Eo(i,d),a=Kh(r,i,a,c,g,d),c=Qh(),r!==null&&!an?(i.updateQueue=r.updateQueue,i.flags&=-2053,r.lanes&=~d,jr(r,i,d)):(ot&&c&&Nh(i),i.flags|=1,Zt(r,i,a,d),i.child)}function og(r,i,a,c,d){if(on(a)){var g=!0;ou(i)}else g=!1;if(Eo(i,d),i.stateNode===null)Su(r,i),Km(i,a,c),td(i,a,c,d),c=!0;else if(r===null){var E=i.stateNode,R=i.memoizedProps;E.props=R;var O=E.context,H=a.contextType;typeof H=="object"&&H!==null?H=xn(H):(H=on(a)?fi:$t.current,H=mo(i,H));var ee=a.getDerivedStateFromProps,te=typeof ee=="function"||typeof E.getSnapshotBeforeUpdate=="function";te||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==c||O!==H)&&Qm(i,E,c,H),gs=!1;var Z=i.memoizedState;E.state=Z,mu(i,c,E,d),O=i.memoizedState,R!==c||Z!==O||sn.current||gs?(typeof ee=="function"&&(ed(i,a,ee,c),O=i.memoizedState),(R=gs||Gm(i,a,R,c,Z,O,H))?(te||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(i.flags|=4194308)):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=c,i.memoizedState=O),E.props=c,E.state=O,E.context=H,c=R):(typeof E.componentDidMount=="function"&&(i.flags|=4194308),c=!1)}else{E=i.stateNode,Tm(r,i),R=i.memoizedProps,H=i.type===i.elementType?R:Gn(i.type,R),E.props=H,te=i.pendingProps,Z=E.context,O=a.contextType,typeof O=="object"&&O!==null?O=xn(O):(O=on(a)?fi:$t.current,O=mo(i,O));var he=a.getDerivedStateFromProps;(ee=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(R!==te||Z!==O)&&Qm(i,E,c,O),gs=!1,Z=i.memoizedState,E.state=Z,mu(i,c,E,d);var me=i.memoizedState;R!==te||Z!==me||sn.current||gs?(typeof he=="function"&&(ed(i,a,he,c),me=i.memoizedState),(H=gs||Gm(i,a,H,c,Z,me,O)||!1)?(ee||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,me,O),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,me,O)),typeof E.componentDidUpdate=="function"&&(i.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),i.memoizedProps=c,i.memoizedState=me),E.props=c,E.state=me,E.context=O,c=H):(typeof E.componentDidUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(i.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||R===r.memoizedProps&&Z===r.memoizedState||(i.flags|=1024),c=!1)}return id(r,i,a,c,g,d)}function id(r,i,a,c,d,g){ig(r,i);var E=(i.flags&128)!==0;if(!c&&!E)return d&&hm(i,a,!1),jr(r,i,g);c=i.stateNode,r0.current=i;var R=E&&typeof a.getDerivedStateFromError!="function"?null:c.render();return i.flags|=1,r!==null&&E?(i.child=_o(i,r.child,null,g),i.child=_o(i,null,R,g)):Zt(r,i,R,g),i.memoizedState=c.state,d&&hm(i,a,!0),i.child}function ag(r){var i=r.stateNode;i.pendingContext?um(r,i.pendingContext,i.pendingContext!==i.context):i.context&&um(r,i.context,!1),Bh(r,i.containerInfo)}function lg(r,i,a,c,d){return vo(),Vh(d),i.flags|=256,Zt(r,i,a,c),i.child}var od={dehydrated:null,treeContext:null,retryLane:0};function ad(r){return{baseLanes:r,cachePool:null,transitions:null}}function ug(r,i,a){var c=i.pendingProps,d=at.current,g=!1,E=(i.flags&128)!==0,R;if((R=E)||(R=r!==null&&r.memoizedState===null?!1:(d&2)!==0),R?(g=!0,i.flags&=-129):(r===null||r.memoizedState!==null)&&(d|=1),et(at,d&1),r===null)return Oh(i),r=i.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((i.mode&1)===0?i.lanes=1:r.data==="$!"?i.lanes=8:i.lanes=1073741824,null):(E=c.children,r=c.fallback,g?(c=i.mode,g=i.child,E={mode:"hidden",children:E},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=Lu(E,c,0,null),r=Ii(r,c,a,null),g.return=i,r.return=i,g.sibling=r,i.child=g,i.child.memoizedState=ad(a),i.memoizedState=od,r):ld(i,E));if(d=r.memoizedState,d!==null&&(R=d.dehydrated,R!==null))return s0(r,i,E,c,R,d,a);if(g){g=c.fallback,E=i.mode,d=r.child,R=d.sibling;var O={mode:"hidden",children:c.children};return(E&1)===0&&i.child!==d?(c=i.child,c.childLanes=0,c.pendingProps=O,i.deletions=null):(c=Is(d,O),c.subtreeFlags=d.subtreeFlags&14680064),R!==null?g=Is(R,g):(g=Ii(g,E,a,null),g.flags|=2),g.return=i,c.return=i,c.sibling=g,i.child=c,c=g,g=i.child,E=r.child.memoizedState,E=E===null?ad(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=r.childLanes&~a,i.memoizedState=od,c}return g=r.child,r=g.sibling,c=Is(g,{mode:"visible",children:c.children}),(i.mode&1)===0&&(c.lanes=a),c.return=i,c.sibling=null,r!==null&&(a=i.deletions,a===null?(i.deletions=[r],i.flags|=16):a.push(r)),i.child=c,i.memoizedState=null,c}function ld(r,i){return i=Lu({mode:"visible",children:i},r.mode,0,null),i.return=r,r.child=i}function Iu(r,i,a,c){return c!==null&&Vh(c),_o(i,r.child,null,a),r=ld(i,i.pendingProps.children),r.flags|=2,i.memoizedState=null,r}function s0(r,i,a,c,d,g,E){if(a)return i.flags&256?(i.flags&=-257,c=nd(Error(t(422))),Iu(r,i,E,c)):i.memoizedState!==null?(i.child=r.child,i.flags|=128,null):(g=c.fallback,d=i.mode,c=Lu({mode:"visible",children:c.children},d,0,null),g=Ii(g,d,E,null),g.flags|=2,c.return=i,g.return=i,c.sibling=g,i.child=c,(i.mode&1)!==0&&_o(i,r.child,null,E),i.child.memoizedState=ad(E),i.memoizedState=od,g);if((i.mode&1)===0)return Iu(r,i,E,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var R=c.dgst;return c=R,g=Error(t(419)),c=nd(g,c,void 0),Iu(r,i,E,c)}if(R=(E&r.childLanes)!==0,an||R){if(c=bt,c!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|E))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,Vr(r,d),Yn(c,r,d,-1))}return Sd(),c=nd(Error(t(421))),Iu(r,i,E,c)}return d.data==="$?"?(i.flags|=128,i.child=r.child,i=y0.bind(null,r),d._reactRetry=i,null):(r=g.treeContext,_n=ds(d.nextSibling),vn=i,ot=!0,qn=null,r!==null&&(Pn[Rn++]=br,Pn[Rn++]=Or,Pn[Rn++]=pi,br=r.id,Or=r.overflow,pi=i),i=ld(i,c.children),i.flags|=4096,i)}function cg(r,i,a){r.lanes|=i;var c=r.alternate;c!==null&&(c.lanes|=i),Uh(r.return,i,a)}function ud(r,i,a,c,d){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=i,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function hg(r,i,a){var c=i.pendingProps,d=c.revealOrder,g=c.tail;if(Zt(r,i,c.children,a),c=at.current,(c&2)!==0)c=c&1|2,i.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=i.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&cg(r,a,i);else if(r.tag===19)cg(r,a,i);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===i)break e;for(;r.sibling===null;){if(r.return===null||r.return===i)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}c&=1}if(et(at,c),(i.mode&1)===0)i.memoizedState=null;else switch(d){case"forwards":for(a=i.child,d=null;a!==null;)r=a.alternate,r!==null&&gu(r)===null&&(d=a),a=a.sibling;a=d,a===null?(d=i.child,i.child=null):(d=a.sibling,a.sibling=null),ud(i,!1,d,a,g);break;case"backwards":for(a=null,d=i.child,i.child=null;d!==null;){if(r=d.alternate,r!==null&&gu(r)===null){i.child=d;break}r=d.sibling,d.sibling=a,a=d,d=r}ud(i,!0,a,null,g);break;case"together":ud(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function Su(r,i){(i.mode&1)===0&&r!==null&&(r.alternate=null,i.alternate=null,i.flags|=2)}function jr(r,i,a){if(r!==null&&(i.dependencies=r.dependencies),_i|=i.lanes,(a&i.childLanes)===0)return null;if(r!==null&&i.child!==r.child)throw Error(t(153));if(i.child!==null){for(r=i.child,a=Is(r,r.pendingProps),i.child=a,a.return=i;r.sibling!==null;)r=r.sibling,a=a.sibling=Is(r,r.pendingProps),a.return=i;a.sibling=null}return i.child}function i0(r,i,a){switch(i.tag){case 3:ag(i),vo();break;case 5:Cm(i);break;case 1:on(i.type)&&ou(i);break;case 4:Bh(i,i.stateNode.containerInfo);break;case 10:var c=i.type._context,d=i.memoizedProps.value;et(du,c._currentValue),c._currentValue=d;break;case 13:if(c=i.memoizedState,c!==null)return c.dehydrated!==null?(et(at,at.current&1),i.flags|=128,null):(a&i.child.childLanes)!==0?ug(r,i,a):(et(at,at.current&1),r=jr(r,i,a),r!==null?r.sibling:null);et(at,at.current&1);break;case 19:if(c=(a&i.childLanes)!==0,(r.flags&128)!==0){if(c)return hg(r,i,a);i.flags|=128}if(d=i.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),et(at,at.current),c)break;return null;case 22:case 23:return i.lanes=0,sg(r,i,a)}return jr(r,i,a)}var dg,cd,fg,pg;dg=function(r,i){for(var a=i.child;a!==null;){if(a.tag===5||a.tag===6)r.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},cd=function(){},fg=function(r,i,a,c){var d=r.memoizedProps;if(d!==c){r=i.stateNode,yi(cr.current);var g=null;switch(a){case"input":d=Tr(r,d),c=Tr(r,c),g=[];break;case"select":d=ce({},d,{value:void 0}),c=ce({},c,{value:void 0}),g=[];break;case"textarea":d=Se(r,d),c=Se(r,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(r.onclick=ru)}ia(a,c);var E;a=null;for(H in d)if(!c.hasOwnProperty(H)&&d.hasOwnProperty(H)&&d[H]!=null)if(H==="style"){var R=d[H];for(E in R)R.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else H!=="dangerouslySetInnerHTML"&&H!=="children"&&H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&H!=="autoFocus"&&(o.hasOwnProperty(H)?g||(g=[]):(g=g||[]).push(H,null));for(H in c){var O=c[H];if(R=d!=null?d[H]:void 0,c.hasOwnProperty(H)&&O!==R&&(O!=null||R!=null))if(H==="style")if(R){for(E in R)!R.hasOwnProperty(E)||O&&O.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in O)O.hasOwnProperty(E)&&R[E]!==O[E]&&(a||(a={}),a[E]=O[E])}else a||(g||(g=[]),g.push(H,a)),a=O;else H==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,R=R?R.__html:void 0,O!=null&&R!==O&&(g=g||[]).push(H,O)):H==="children"?typeof O!="string"&&typeof O!="number"||(g=g||[]).push(H,""+O):H!=="suppressContentEditableWarning"&&H!=="suppressHydrationWarning"&&(o.hasOwnProperty(H)?(O!=null&&H==="onScroll"&&rt("scroll",r),g||R===O||(g=[])):(g=g||[]).push(H,O))}a&&(g=g||[]).push("style",a);var H=g;(i.updateQueue=H)&&(i.flags|=4)}},pg=function(r,i,a,c){a!==c&&(i.flags|=4)};function Ua(r,i){if(!ot)switch(r.tailMode){case"hidden":i=r.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?r.tail=null:a.sibling=null;break;case"collapsed":a=r.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?i||r.tail===null?r.tail=null:r.tail.sibling=null:c.sibling=null}}function Ht(r){var i=r.alternate!==null&&r.alternate.child===r.child,a=0,c=0;if(i)for(var d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=r,d=d.sibling;else for(d=r.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=r,d=d.sibling;return r.subtreeFlags|=c,r.childLanes=a,i}function o0(r,i,a){var c=i.pendingProps;switch(Dh(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ht(i),null;case 1:return on(i.type)&&iu(),Ht(i),null;case 3:return c=i.stateNode,To(),st(sn),st($t),Hh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(r===null||r.child===null)&&(cu(i)?i.flags|=4:r===null||r.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,qn!==null&&(Ed(qn),qn=null))),cd(r,i),Ht(i),null;case 5:$h(i);var d=yi(Oa.current);if(a=i.type,r!==null&&i.stateNode!=null)fg(r,i,a,c,d),r.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!c){if(i.stateNode===null)throw Error(t(166));return Ht(i),null}if(r=yi(cr.current),cu(i)){c=i.stateNode,a=i.type;var g=i.memoizedProps;switch(c[ur]=i,c[xa]=g,r=(i.mode&1)!==0,a){case"dialog":rt("cancel",c),rt("close",c);break;case"iframe":case"object":case"embed":rt("load",c);break;case"video":case"audio":for(d=0;d<Aa.length;d++)rt(Aa[d],c);break;case"source":rt("error",c);break;case"img":case"image":case"link":rt("error",c),rt("load",c);break;case"details":rt("toggle",c);break;case"input":Jr(c,g),rt("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},rt("invalid",c);break;case"textarea":nt(c,g),rt("invalid",c)}ia(a,g),d=null;for(var E in g)if(g.hasOwnProperty(E)){var R=g[E];E==="children"?typeof R=="string"?c.textContent!==R&&(g.suppressHydrationWarning!==!0&&nu(c.textContent,R,r),d=["children",R]):typeof R=="number"&&c.textContent!==""+R&&(g.suppressHydrationWarning!==!0&&nu(c.textContent,R,r),d=["children",""+R]):o.hasOwnProperty(E)&&R!=null&&E==="onScroll"&&rt("scroll",c)}switch(a){case"input":Tn(c),tn(c,g,!0);break;case"textarea":Tn(c),es(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=ru)}c=d,i.updateQueue=c,c!==null&&(i.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=Ye(a)),r==="http://www.w3.org/1999/xhtml"?a==="script"?(r=E.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof c.is=="string"?r=E.createElement(a,{is:c.is}):(r=E.createElement(a),a==="select"&&(E=r,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):r=E.createElementNS(r,a),r[ur]=i,r[xa]=c,dg(r,i,!1,!1),i.stateNode=r;e:{switch(E=oa(a,c),a){case"dialog":rt("cancel",r),rt("close",r),d=c;break;case"iframe":case"object":case"embed":rt("load",r),d=c;break;case"video":case"audio":for(d=0;d<Aa.length;d++)rt(Aa[d],r);d=c;break;case"source":rt("error",r),d=c;break;case"img":case"image":case"link":rt("error",r),rt("load",r),d=c;break;case"details":rt("toggle",r),d=c;break;case"input":Jr(r,c),d=Tr(r,c),rt("invalid",r);break;case"option":d=c;break;case"select":r._wrapperState={wasMultiple:!!c.multiple},d=ce({},c,{value:void 0}),rt("invalid",r);break;case"textarea":nt(r,c),d=Se(r,c),rt("invalid",r);break;default:d=c}ia(a,d),R=d;for(g in R)if(R.hasOwnProperty(g)){var O=R[g];g==="style"?ra(r,O):g==="dangerouslySetInnerHTML"?(O=O?O.__html:void 0,O!=null&&ta(r,O)):g==="children"?typeof O=="string"?(a!=="textarea"||O!=="")&&ts(r,O):typeof O=="number"&&ts(r,""+O):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?O!=null&&g==="onScroll"&&rt("scroll",r):O!=null&&Q(r,g,O,E))}switch(a){case"input":Tn(r),tn(r,c,!1);break;case"textarea":Tn(r),es(r);break;case"option":c.value!=null&&r.setAttribute("value",""+Me(c.value));break;case"select":r.multiple=!!c.multiple,g=c.value,g!=null?ae(r,!!c.multiple,g,!1):c.defaultValue!=null&&ae(r,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(r.onclick=ru)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return Ht(i),null;case 6:if(r&&i.stateNode!=null)pg(r,i,r.memoizedProps,c);else{if(typeof c!="string"&&i.stateNode===null)throw Error(t(166));if(a=yi(Oa.current),yi(cr.current),cu(i)){if(c=i.stateNode,a=i.memoizedProps,c[ur]=i,(g=c.nodeValue!==a)&&(r=vn,r!==null))switch(r.tag){case 3:nu(c.nodeValue,a,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&nu(c.nodeValue,a,(r.mode&1)!==0)}g&&(i.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[ur]=i,i.stateNode=c}return Ht(i),null;case 13:if(st(at),c=i.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(ot&&_n!==null&&(i.mode&1)!==0&&(i.flags&128)===0)ym(),vo(),i.flags|=98560,g=!1;else if(g=cu(i),c!==null&&c.dehydrated!==null){if(r===null){if(!g)throw Error(t(318));if(g=i.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[ur]=i}else vo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;Ht(i),g=!1}else qn!==null&&(Ed(qn),qn=null),g=!0;if(!g)return i.flags&65536?i:null}return(i.flags&128)!==0?(i.lanes=a,i):(c=c!==null,c!==(r!==null&&r.memoizedState!==null)&&c&&(i.child.flags|=8192,(i.mode&1)!==0&&(r===null||(at.current&1)!==0?Rt===0&&(Rt=3):Sd())),i.updateQueue!==null&&(i.flags|=4),Ht(i),null);case 4:return To(),cd(r,i),r===null&&Pa(i.stateNode.containerInfo),Ht(i),null;case 10:return Mh(i.type._context),Ht(i),null;case 17:return on(i.type)&&iu(),Ht(i),null;case 19:if(st(at),g=i.memoizedState,g===null)return Ht(i),null;if(c=(i.flags&128)!==0,E=g.rendering,E===null)if(c)Ua(g,!1);else{if(Rt!==0||r!==null&&(r.flags&128)!==0)for(r=i.child;r!==null;){if(E=gu(r),E!==null){for(i.flags|=128,Ua(g,!1),c=E.updateQueue,c!==null&&(i.updateQueue=c,i.flags|=4),i.subtreeFlags=0,c=a,a=i.child;a!==null;)g=a,r=c,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=r,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,r=E.dependencies,g.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),a=a.sibling;return et(at,at.current&1|2),i.child}r=r.sibling}g.tail!==null&&Ze()>Ao&&(i.flags|=128,c=!0,Ua(g,!1),i.lanes=4194304)}else{if(!c)if(r=gu(E),r!==null){if(i.flags|=128,c=!0,a=r.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),Ua(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!ot)return Ht(i),null}else 2*Ze()-g.renderingStartTime>Ao&&a!==1073741824&&(i.flags|=128,c=!0,Ua(g,!1),i.lanes=4194304);g.isBackwards?(E.sibling=i.child,i.child=E):(a=g.last,a!==null?a.sibling=E:i.child=E,g.last=E)}return g.tail!==null?(i=g.tail,g.rendering=i,g.tail=i.sibling,g.renderingStartTime=Ze(),i.sibling=null,a=at.current,et(at,c?a&1|2:a&1),i):(Ht(i),null);case 22:case 23:return Id(),c=i.memoizedState!==null,r!==null&&r.memoizedState!==null!==c&&(i.flags|=8192),c&&(i.mode&1)!==0?(wn&1073741824)!==0&&(Ht(i),i.subtreeFlags&6&&(i.flags|=8192)):Ht(i),null;case 24:return null;case 25:return null}throw Error(t(156,i.tag))}function a0(r,i){switch(Dh(i),i.tag){case 1:return on(i.type)&&iu(),r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 3:return To(),st(sn),st($t),Hh(),r=i.flags,(r&65536)!==0&&(r&128)===0?(i.flags=r&-65537|128,i):null;case 5:return $h(i),null;case 13:if(st(at),r=i.memoizedState,r!==null&&r.dehydrated!==null){if(i.alternate===null)throw Error(t(340));vo()}return r=i.flags,r&65536?(i.flags=r&-65537|128,i):null;case 19:return st(at),null;case 4:return To(),null;case 10:return Mh(i.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var Cu=!1,qt=!1,l0=typeof WeakSet=="function"?WeakSet:Set,pe=null;function So(r,i){var a=r.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){ht(r,i,c)}else a.current=null}function hd(r,i,a){try{a()}catch(c){ht(r,i,c)}}var mg=!1;function u0(r,i){if(Ih=us,r=Gp(),mh(r)){if("selectionStart"in r)var a={start:r.selectionStart,end:r.selectionEnd};else e:{a=(a=r.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,R=-1,O=-1,H=0,ee=0,te=r,Z=null;t:for(;;){for(var he;te!==a||d!==0&&te.nodeType!==3||(R=E+d),te!==g||c!==0&&te.nodeType!==3||(O=E+c),te.nodeType===3&&(E+=te.nodeValue.length),(he=te.firstChild)!==null;)Z=te,te=he;for(;;){if(te===r)break t;if(Z===a&&++H===d&&(R=E),Z===g&&++ee===c&&(O=E),(he=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=he}a=R===-1||O===-1?null:{start:R,end:O}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sh={focusedElem:r,selectionRange:a},us=!1,pe=i;pe!==null;)if(i=pe,r=i.child,(i.subtreeFlags&1028)!==0&&r!==null)r.return=i,pe=r;else for(;pe!==null;){i=pe;try{var me=i.alternate;if((i.flags&1024)!==0)switch(i.tag){case 0:case 11:case 15:break;case 1:if(me!==null){var ye=me.memoizedProps,pt=me.memoizedState,z=i.stateNode,V=z.getSnapshotBeforeUpdate(i.elementType===i.type?ye:Gn(i.type,ye),pt);z.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var B=i.stateNode.containerInfo;B.nodeType===1?B.textContent="":B.nodeType===9&&B.documentElement&&B.removeChild(B.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(se){ht(i,i.return,se)}if(r=i.sibling,r!==null){r.return=i.return,pe=r;break}pe=i.return}return me=mg,mg=!1,me}function Fa(r,i,a){var c=i.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&r)===r){var g=d.destroy;d.destroy=void 0,g!==void 0&&hd(i,a,g)}d=d.next}while(d!==c)}}function Au(r,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var a=i=i.next;do{if((a.tag&r)===r){var c=a.create;a.destroy=c()}a=a.next}while(a!==i)}}function dd(r){var i=r.ref;if(i!==null){var a=r.stateNode;switch(r.tag){case 5:r=a;break;default:r=a}typeof i=="function"?i(r):i.current=r}}function gg(r){var i=r.alternate;i!==null&&(r.alternate=null,gg(i)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(i=r.stateNode,i!==null&&(delete i[ur],delete i[xa],delete i[Rh],delete i[HE],delete i[qE])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function yg(r){return r.tag===5||r.tag===3||r.tag===4}function vg(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||yg(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function fd(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.nodeType===8?a.parentNode.insertBefore(r,i):a.insertBefore(r,i):(a.nodeType===8?(i=a.parentNode,i.insertBefore(r,a)):(i=a,i.appendChild(r)),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=ru));else if(c!==4&&(r=r.child,r!==null))for(fd(r,i,a),r=r.sibling;r!==null;)fd(r,i,a),r=r.sibling}function pd(r,i,a){var c=r.tag;if(c===5||c===6)r=r.stateNode,i?a.insertBefore(r,i):a.appendChild(r);else if(c!==4&&(r=r.child,r!==null))for(pd(r,i,a),r=r.sibling;r!==null;)pd(r,i,a),r=r.sibling}var Mt=null,Kn=!1;function vs(r,i,a){for(a=a.child;a!==null;)_g(r,i,a),a=a.sibling}function _g(r,i,a){if(pn&&typeof pn.onCommitFiberUnmount=="function")try{pn.onCommitFiberUnmount(ii,a)}catch{}switch(a.tag){case 5:qt||So(a,i);case 6:var c=Mt,d=Kn;Mt=null,vs(r,i,a),Mt=c,Kn=d,Mt!==null&&(Kn?(r=Mt,a=a.stateNode,r.nodeType===8?r.parentNode.removeChild(a):r.removeChild(a)):Mt.removeChild(a.stateNode));break;case 18:Mt!==null&&(Kn?(r=Mt,a=a.stateNode,r.nodeType===8?Ph(r.parentNode,a):r.nodeType===1&&Ph(r,a),$n(r)):Ph(Mt,a.stateNode));break;case 4:c=Mt,d=Kn,Mt=a.stateNode.containerInfo,Kn=!0,vs(r,i,a),Mt=c,Kn=d;break;case 0:case 11:case 14:case 15:if(!qt&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&hd(a,i,E),d=d.next}while(d!==c)}vs(r,i,a);break;case 1:if(!qt&&(So(a,i),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(R){ht(a,i,R)}vs(r,i,a);break;case 21:vs(r,i,a);break;case 22:a.mode&1?(qt=(c=qt)||a.memoizedState!==null,vs(r,i,a),qt=c):vs(r,i,a);break;default:vs(r,i,a)}}function wg(r){var i=r.updateQueue;if(i!==null){r.updateQueue=null;var a=r.stateNode;a===null&&(a=r.stateNode=new l0),i.forEach(function(c){var d=v0.bind(null,r,c);a.has(c)||(a.add(c),c.then(d,d))})}}function Qn(r,i){var a=i.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=r,E=i,R=E;e:for(;R!==null;){switch(R.tag){case 5:Mt=R.stateNode,Kn=!1;break e;case 3:Mt=R.stateNode.containerInfo,Kn=!0;break e;case 4:Mt=R.stateNode.containerInfo,Kn=!0;break e}R=R.return}if(Mt===null)throw Error(t(160));_g(g,E,d),Mt=null,Kn=!1;var O=d.alternate;O!==null&&(O.return=null),d.return=null}catch(H){ht(d,i,H)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)Eg(i,r),i=i.sibling}function Eg(r,i){var a=r.alternate,c=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Qn(i,r),dr(r),c&4){try{Fa(3,r,r.return),Au(3,r)}catch(ye){ht(r,r.return,ye)}try{Fa(5,r,r.return)}catch(ye){ht(r,r.return,ye)}}break;case 1:Qn(i,r),dr(r),c&512&&a!==null&&So(a,a.return);break;case 5:if(Qn(i,r),dr(r),c&512&&a!==null&&So(a,a.return),r.flags&32){var d=r.stateNode;try{ts(d,"")}catch(ye){ht(r,r.return,ye)}}if(c&4&&(d=r.stateNode,d!=null)){var g=r.memoizedProps,E=a!==null?a.memoizedProps:g,R=r.type,O=r.updateQueue;if(r.updateQueue=null,O!==null)try{R==="input"&&g.type==="radio"&&g.name!=null&&Zr(d,g),oa(R,E);var H=oa(R,g);for(E=0;E<O.length;E+=2){var ee=O[E],te=O[E+1];ee==="style"?ra(d,te):ee==="dangerouslySetInnerHTML"?ta(d,te):ee==="children"?ts(d,te):Q(d,ee,te,H)}switch(R){case"input":Ui(d,g);break;case"textarea":Qe(d,g);break;case"select":var Z=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var he=g.value;he!=null?ae(d,!!g.multiple,he,!1):Z!==!!g.multiple&&(g.defaultValue!=null?ae(d,!!g.multiple,g.defaultValue,!0):ae(d,!!g.multiple,g.multiple?[]:"",!1))}d[xa]=g}catch(ye){ht(r,r.return,ye)}}break;case 6:if(Qn(i,r),dr(r),c&4){if(r.stateNode===null)throw Error(t(162));d=r.stateNode,g=r.memoizedProps;try{d.nodeValue=g}catch(ye){ht(r,r.return,ye)}}break;case 3:if(Qn(i,r),dr(r),c&4&&a!==null&&a.memoizedState.isDehydrated)try{$n(i.containerInfo)}catch(ye){ht(r,r.return,ye)}break;case 4:Qn(i,r),dr(r);break;case 13:Qn(i,r),dr(r),d=r.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(yd=Ze())),c&4&&wg(r);break;case 22:if(ee=a!==null&&a.memoizedState!==null,r.mode&1?(qt=(H=qt)||ee,Qn(i,r),qt=H):Qn(i,r),dr(r),c&8192){if(H=r.memoizedState!==null,(r.stateNode.isHidden=H)&&!ee&&(r.mode&1)!==0)for(pe=r,ee=r.child;ee!==null;){for(te=pe=ee;pe!==null;){switch(Z=pe,he=Z.child,Z.tag){case 0:case 11:case 14:case 15:Fa(4,Z,Z.return);break;case 1:So(Z,Z.return);var me=Z.stateNode;if(typeof me.componentWillUnmount=="function"){c=Z,a=Z.return;try{i=c,me.props=i.memoizedProps,me.state=i.memoizedState,me.componentWillUnmount()}catch(ye){ht(c,a,ye)}}break;case 5:So(Z,Z.return);break;case 22:if(Z.memoizedState!==null){Sg(te);continue}}he!==null?(he.return=Z,pe=he):Sg(te)}ee=ee.sibling}e:for(ee=null,te=r;;){if(te.tag===5){if(ee===null){ee=te;try{d=te.stateNode,H?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(R=te.stateNode,O=te.memoizedProps.style,E=O!=null&&O.hasOwnProperty("display")?O.display:null,R.style.display=na("display",E))}catch(ye){ht(r,r.return,ye)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=H?"":te.memoizedProps}catch(ye){ht(r,r.return,ye)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===r)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===r)break e;for(;te.sibling===null;){if(te.return===null||te.return===r)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Qn(i,r),dr(r),c&4&&wg(r);break;case 21:break;default:Qn(i,r),dr(r)}}function dr(r){var i=r.flags;if(i&2){try{e:{for(var a=r.return;a!==null;){if(yg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(ts(d,""),c.flags&=-33);var g=vg(r);pd(r,g,d);break;case 3:case 4:var E=c.stateNode.containerInfo,R=vg(r);fd(r,R,E);break;default:throw Error(t(161))}}catch(O){ht(r,r.return,O)}r.flags&=-3}i&4096&&(r.flags&=-4097)}function c0(r,i,a){pe=r,Tg(r)}function Tg(r,i,a){for(var c=(r.mode&1)!==0;pe!==null;){var d=pe,g=d.child;if(d.tag===22&&c){var E=d.memoizedState!==null||Cu;if(!E){var R=d.alternate,O=R!==null&&R.memoizedState!==null||qt;R=Cu;var H=qt;if(Cu=E,(qt=O)&&!H)for(pe=d;pe!==null;)E=pe,O=E.child,E.tag===22&&E.memoizedState!==null?Cg(d):O!==null?(O.return=E,pe=O):Cg(d);for(;g!==null;)pe=g,Tg(g),g=g.sibling;pe=d,Cu=R,qt=H}Ig(r)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,pe=g):Ig(r)}}function Ig(r){for(;pe!==null;){var i=pe;if((i.flags&8772)!==0){var a=i.alternate;try{if((i.flags&8772)!==0)switch(i.tag){case 0:case 11:case 15:qt||Au(5,i);break;case 1:var c=i.stateNode;if(i.flags&4&&!qt)if(a===null)c.componentDidMount();else{var d=i.elementType===i.type?a.memoizedProps:Gn(i.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=i.updateQueue;g!==null&&Sm(i,g,c);break;case 3:var E=i.updateQueue;if(E!==null){if(a=null,i.child!==null)switch(i.child.tag){case 5:a=i.child.stateNode;break;case 1:a=i.child.stateNode}Sm(i,E,a)}break;case 5:var R=i.stateNode;if(a===null&&i.flags&4){a=R;var O=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":O.autoFocus&&a.focus();break;case"img":O.src&&(a.src=O.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var H=i.alternate;if(H!==null){var ee=H.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&$n(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}qt||i.flags&512&&dd(i)}catch(Z){ht(i,i.return,Z)}}if(i===r){pe=null;break}if(a=i.sibling,a!==null){a.return=i.return,pe=a;break}pe=i.return}}function Sg(r){for(;pe!==null;){var i=pe;if(i===r){pe=null;break}var a=i.sibling;if(a!==null){a.return=i.return,pe=a;break}pe=i.return}}function Cg(r){for(;pe!==null;){var i=pe;try{switch(i.tag){case 0:case 11:case 15:var a=i.return;try{Au(4,i)}catch(O){ht(i,a,O)}break;case 1:var c=i.stateNode;if(typeof c.componentDidMount=="function"){var d=i.return;try{c.componentDidMount()}catch(O){ht(i,d,O)}}var g=i.return;try{dd(i)}catch(O){ht(i,g,O)}break;case 5:var E=i.return;try{dd(i)}catch(O){ht(i,E,O)}}}catch(O){ht(i,i.return,O)}if(i===r){pe=null;break}var R=i.sibling;if(R!==null){R.return=i.return,pe=R;break}pe=i.return}}var h0=Math.ceil,Pu=ne.ReactCurrentDispatcher,md=ne.ReactCurrentOwner,Nn=ne.ReactCurrentBatchConfig,We=0,bt=null,wt=null,Ut=0,wn=0,Co=fs(0),Rt=0,za=null,_i=0,Ru=0,gd=0,Ba=null,ln=null,yd=0,Ao=1/0,Mr=null,xu=!1,vd=null,_s=null,ku=!1,ws=null,Nu=0,$a=0,_d=null,Du=-1,bu=0;function en(){return(We&6)!==0?Ze():Du!==-1?Du:Du=Ze()}function Es(r){return(r.mode&1)===0?1:(We&2)!==0&&Ut!==0?Ut&-Ut:KE.transition!==null?(bu===0&&(bu=ai()),bu):(r=ze,r!==0||(r=window.event,r=r===void 0?16:ya(r.type)),r)}function Yn(r,i,a,c){if(50<$a)throw $a=0,_d=null,Error(t(185));is(r,a,c),((We&2)===0||r!==bt)&&(r===bt&&((We&2)===0&&(Ru|=a),Rt===4&&Ts(r,Ut)),un(r,c),a===1&&We===0&&(i.mode&1)===0&&(Ao=Ze()+500,au&&ms()))}function un(r,i){var a=r.callbackNode;Ar(r,i);var c=oi(r,r===bt?Ut:0);if(c===0)a!==null&&da(a),r.callbackNode=null,r.callbackPriority=0;else if(i=c&-c,r.callbackPriority!==i){if(a!=null&&da(a),i===1)r.tag===0?GE(Pg.bind(null,r)):dm(Pg.bind(null,r)),$E(function(){(We&6)===0&&ms()}),a=null;else{switch(as(c)){case 1:a=si;break;case 4:a=ns;break;case 16:a=Sn;break;case 536870912:a=bl;break;default:a=Sn}a=Vg(a,Ag.bind(null,r))}r.callbackPriority=i,r.callbackNode=a}}function Ag(r,i){if(Du=-1,bu=0,(We&6)!==0)throw Error(t(327));var a=r.callbackNode;if(Po()&&r.callbackNode!==a)return null;var c=oi(r,r===bt?Ut:0);if(c===0)return null;if((c&30)!==0||(c&r.expiredLanes)!==0||i)i=Ou(r,c);else{i=c;var d=We;We|=2;var g=xg();(bt!==r||Ut!==i)&&(Mr=null,Ao=Ze()+500,Ei(r,i));do try{p0();break}catch(R){Rg(r,R)}while(!0);jh(),Pu.current=g,We=d,wt!==null?i=0:(bt=null,Ut=0,i=Rt)}if(i!==0){if(i===2&&(d=mn(r),d!==0&&(c=d,i=wd(r,d))),i===1)throw a=za,Ei(r,0),Ts(r,c),un(r,Ze()),a;if(i===6)Ts(r,c);else{if(d=r.current.alternate,(c&30)===0&&!d0(d)&&(i=Ou(r,c),i===2&&(g=mn(r),g!==0&&(c=g,i=wd(r,g))),i===1))throw a=za,Ei(r,0),Ts(r,c),un(r,Ze()),a;switch(r.finishedWork=d,r.finishedLanes=c,i){case 0:case 1:throw Error(t(345));case 2:Ti(r,ln,Mr);break;case 3:if(Ts(r,c),(c&130023424)===c&&(i=yd+500-Ze(),10<i)){if(oi(r,0)!==0)break;if(d=r.suspendedLanes,(d&c)!==c){en(),r.pingedLanes|=r.suspendedLanes&d;break}r.timeoutHandle=Ah(Ti.bind(null,r,ln,Mr),i);break}Ti(r,ln,Mr);break;case 4:if(Ts(r,c),(c&4194240)===c)break;for(i=r.eventTimes,d=-1;0<c;){var E=31-Xt(c);g=1<<E,E=i[E],E>d&&(d=E),c&=~g}if(c=d,c=Ze()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*h0(c/1960))-c,10<c){r.timeoutHandle=Ah(Ti.bind(null,r,ln,Mr),c);break}Ti(r,ln,Mr);break;case 5:Ti(r,ln,Mr);break;default:throw Error(t(329))}}}return un(r,Ze()),r.callbackNode===a?Ag.bind(null,r):null}function wd(r,i){var a=Ba;return r.current.memoizedState.isDehydrated&&(Ei(r,i).flags|=256),r=Ou(r,i),r!==2&&(i=ln,ln=a,i!==null&&Ed(i)),r}function Ed(r){ln===null?ln=r:ln.push.apply(ln,r)}function d0(r){for(var i=r;;){if(i.flags&16384){var a=i.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!Hn(g(),d))return!1}catch{return!1}}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===r)break;for(;i.sibling===null;){if(i.return===null||i.return===r)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Ts(r,i){for(i&=~gd,i&=~Ru,r.suspendedLanes|=i,r.pingedLanes&=~i,r=r.expirationTimes;0<i;){var a=31-Xt(i),c=1<<a;r[a]=-1,i&=~c}}function Pg(r){if((We&6)!==0)throw Error(t(327));Po();var i=oi(r,0);if((i&1)===0)return un(r,Ze()),null;var a=Ou(r,i);if(r.tag!==0&&a===2){var c=mn(r);c!==0&&(i=c,a=wd(r,c))}if(a===1)throw a=za,Ei(r,0),Ts(r,i),un(r,Ze()),a;if(a===6)throw Error(t(345));return r.finishedWork=r.current.alternate,r.finishedLanes=i,Ti(r,ln,Mr),un(r,Ze()),null}function Td(r,i){var a=We;We|=1;try{return r(i)}finally{We=a,We===0&&(Ao=Ze()+500,au&&ms())}}function wi(r){ws!==null&&ws.tag===0&&(We&6)===0&&Po();var i=We;We|=1;var a=Nn.transition,c=ze;try{if(Nn.transition=null,ze=1,r)return r()}finally{ze=c,Nn.transition=a,We=i,(We&6)===0&&ms()}}function Id(){wn=Co.current,st(Co)}function Ei(r,i){r.finishedWork=null,r.finishedLanes=0;var a=r.timeoutHandle;if(a!==-1&&(r.timeoutHandle=-1,BE(a)),wt!==null)for(a=wt.return;a!==null;){var c=a;switch(Dh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&iu();break;case 3:To(),st(sn),st($t),Hh();break;case 5:$h(c);break;case 4:To();break;case 13:st(at);break;case 19:st(at);break;case 10:Mh(c.type._context);break;case 22:case 23:Id()}a=a.return}if(bt=r,wt=r=Is(r.current,null),Ut=wn=i,Rt=0,za=null,gd=Ru=_i=0,ln=Ba=null,gi!==null){for(i=0;i<gi.length;i++)if(a=gi[i],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var E=g.next;g.next=d,c.next=E}a.pending=c}gi=null}return r}function Rg(r,i){do{var a=wt;try{if(jh(),yu.current=Eu,vu){for(var c=lt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}vu=!1}if(vi=0,Dt=Pt=lt=null,Va=!1,La=0,md.current=null,a===null||a.return===null){Rt=1,za=i,wt=null;break}e:{var g=r,E=a.return,R=a,O=i;if(i=Ut,R.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){var H=O,ee=R,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var he=Zm(E);if(he!==null){he.flags&=-257,eg(he,E,R,g,i),he.mode&1&&Jm(g,H,i),i=he,O=H;var me=i.updateQueue;if(me===null){var ye=new Set;ye.add(O),i.updateQueue=ye}else me.add(O);break e}else{if((i&1)===0){Jm(g,H,i),Sd();break e}O=Error(t(426))}}else if(ot&&R.mode&1){var pt=Zm(E);if(pt!==null){(pt.flags&65536)===0&&(pt.flags|=256),eg(pt,E,R,g,i),Vh(Io(O,R));break e}}g=O=Io(O,R),Rt!==4&&(Rt=2),Ba===null?Ba=[g]:Ba.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,i&=-i,g.lanes|=i;var z=Ym(g,O,i);Im(g,z);break e;case 1:R=O;var V=g.type,B=g.stateNode;if((g.flags&128)===0&&(typeof V.getDerivedStateFromError=="function"||B!==null&&typeof B.componentDidCatch=="function"&&(_s===null||!_s.has(B)))){g.flags|=65536,i&=-i,g.lanes|=i;var se=Xm(g,R,i);Im(g,se);break e}}g=g.return}while(g!==null)}Ng(a)}catch(ve){i=ve,wt===a&&a!==null&&(wt=a=a.return);continue}break}while(!0)}function xg(){var r=Pu.current;return Pu.current=Eu,r===null?Eu:r}function Sd(){(Rt===0||Rt===3||Rt===2)&&(Rt=4),bt===null||(_i&268435455)===0&&(Ru&268435455)===0||Ts(bt,Ut)}function Ou(r,i){var a=We;We|=2;var c=xg();(bt!==r||Ut!==i)&&(Mr=null,Ei(r,i));do try{f0();break}catch(d){Rg(r,d)}while(!0);if(jh(),We=a,Pu.current=c,wt!==null)throw Error(t(261));return bt=null,Ut=0,Rt}function f0(){for(;wt!==null;)kg(wt)}function p0(){for(;wt!==null&&!Nl();)kg(wt)}function kg(r){var i=Og(r.alternate,r,wn);r.memoizedProps=r.pendingProps,i===null?Ng(r):wt=i,md.current=null}function Ng(r){var i=r;do{var a=i.alternate;if(r=i.return,(i.flags&32768)===0){if(a=o0(a,i,wn),a!==null){wt=a;return}}else{if(a=a0(a,i),a!==null){a.flags&=32767,wt=a;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{Rt=6,wt=null;return}}if(i=i.sibling,i!==null){wt=i;return}wt=i=r}while(i!==null);Rt===0&&(Rt=5)}function Ti(r,i,a){var c=ze,d=Nn.transition;try{Nn.transition=null,ze=1,m0(r,i,a,c)}finally{Nn.transition=d,ze=c}return null}function m0(r,i,a,c){do Po();while(ws!==null);if((We&6)!==0)throw Error(t(327));a=r.finishedWork;var d=r.finishedLanes;if(a===null)return null;if(r.finishedWork=null,r.finishedLanes=0,a===r.current)throw Error(t(177));r.callbackNode=null,r.callbackPriority=0;var g=a.lanes|a.childLanes;if(Je(r,g),r===bt&&(wt=bt=null,Ut=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||ku||(ku=!0,Vg(Sn,function(){return Po(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Nn.transition,Nn.transition=null;var E=ze;ze=1;var R=We;We|=4,md.current=null,u0(r,a),Eg(a,r),VE(Sh),us=!!Ih,Sh=Ih=null,r.current=a,c0(a),ah(),We=R,ze=E,Nn.transition=g}else r.current=a;if(ku&&(ku=!1,ws=r,Nu=d),g=r.pendingLanes,g===0&&(_s=null),Ol(a.stateNode),un(r,Ze()),i!==null)for(c=r.onRecoverableError,a=0;a<i.length;a++)d=i[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(xu)throw xu=!1,r=vd,vd=null,r;return(Nu&1)!==0&&r.tag!==0&&Po(),g=r.pendingLanes,(g&1)!==0?r===_d?$a++:($a=0,_d=r):$a=0,ms(),null}function Po(){if(ws!==null){var r=as(Nu),i=Nn.transition,a=ze;try{if(Nn.transition=null,ze=16>r?16:r,ws===null)var c=!1;else{if(r=ws,ws=null,Nu=0,(We&6)!==0)throw Error(t(331));var d=We;for(We|=4,pe=r.current;pe!==null;){var g=pe,E=g.child;if((pe.flags&16)!==0){var R=g.deletions;if(R!==null){for(var O=0;O<R.length;O++){var H=R[O];for(pe=H;pe!==null;){var ee=pe;switch(ee.tag){case 0:case 11:case 15:Fa(8,ee,g)}var te=ee.child;if(te!==null)te.return=ee,pe=te;else for(;pe!==null;){ee=pe;var Z=ee.sibling,he=ee.return;if(gg(ee),ee===H){pe=null;break}if(Z!==null){Z.return=he,pe=Z;break}pe=he}}}var me=g.alternate;if(me!==null){var ye=me.child;if(ye!==null){me.child=null;do{var pt=ye.sibling;ye.sibling=null,ye=pt}while(ye!==null)}}pe=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,pe=E;else e:for(;pe!==null;){if(g=pe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Fa(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,pe=z;break e}pe=g.return}}var V=r.current;for(pe=V;pe!==null;){E=pe;var B=E.child;if((E.subtreeFlags&2064)!==0&&B!==null)B.return=E,pe=B;else e:for(E=V;pe!==null;){if(R=pe,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Au(9,R)}}catch(ve){ht(R,R.return,ve)}if(R===E){pe=null;break e}var se=R.sibling;if(se!==null){se.return=R.return,pe=se;break e}pe=R.return}}if(We=d,ms(),pn&&typeof pn.onPostCommitFiberRoot=="function")try{pn.onPostCommitFiberRoot(ii,r)}catch{}c=!0}return c}finally{ze=a,Nn.transition=i}}return!1}function Dg(r,i,a){i=Io(a,i),i=Ym(r,i,1),r=ys(r,i,1),i=en(),r!==null&&(is(r,1,i),un(r,i))}function ht(r,i,a){if(r.tag===3)Dg(r,r,a);else for(;i!==null;){if(i.tag===3){Dg(i,r,a);break}else if(i.tag===1){var c=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(_s===null||!_s.has(c))){r=Io(a,r),r=Xm(i,r,1),i=ys(i,r,1),r=en(),i!==null&&(is(i,1,r),un(i,r));break}}i=i.return}}function g0(r,i,a){var c=r.pingCache;c!==null&&c.delete(i),i=en(),r.pingedLanes|=r.suspendedLanes&a,bt===r&&(Ut&a)===a&&(Rt===4||Rt===3&&(Ut&130023424)===Ut&&500>Ze()-yd?Ei(r,0):gd|=a),un(r,i)}function bg(r,i){i===0&&((r.mode&1)===0?i=1:(i=Qi,Qi<<=1,(Qi&130023424)===0&&(Qi=4194304)));var a=en();r=Vr(r,i),r!==null&&(is(r,i,a),un(r,a))}function y0(r){var i=r.memoizedState,a=0;i!==null&&(a=i.retryLane),bg(r,a)}function v0(r,i){var a=0;switch(r.tag){case 13:var c=r.stateNode,d=r.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=r.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(i),bg(r,a)}var Og;Og=function(r,i,a){if(r!==null)if(r.memoizedProps!==i.pendingProps||sn.current)an=!0;else{if((r.lanes&a)===0&&(i.flags&128)===0)return an=!1,i0(r,i,a);an=(r.flags&131072)!==0}else an=!1,ot&&(i.flags&1048576)!==0&&fm(i,uu,i.index);switch(i.lanes=0,i.tag){case 2:var c=i.type;Su(r,i),r=i.pendingProps;var d=mo(i,$t.current);Eo(i,a),d=Kh(null,i,c,r,d,a);var g=Qh();return i.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,on(c)?(g=!0,ou(i)):g=!1,i.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,zh(i),d.updater=Tu,i.stateNode=d,d._reactInternals=i,td(i,c,r,a),i=id(null,i,c,!0,g,a)):(i.tag=0,ot&&g&&Nh(i),Zt(null,i,d,a),i=i.child),i;case 16:c=i.elementType;e:{switch(Su(r,i),r=i.pendingProps,d=c._init,c=d(c._payload),i.type=c,d=i.tag=w0(c),r=Gn(c,r),d){case 0:i=sd(null,i,c,r,a);break e;case 1:i=og(null,i,c,r,a);break e;case 11:i=tg(null,i,c,r,a);break e;case 14:i=ng(null,i,c,Gn(c.type,r),a);break e}throw Error(t(306,c,""))}return i;case 0:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Gn(c,d),sd(r,i,c,d,a);case 1:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Gn(c,d),og(r,i,c,d,a);case 3:e:{if(ag(i),r===null)throw Error(t(387));c=i.pendingProps,g=i.memoizedState,d=g.element,Tm(r,i),mu(i,c,null,a);var E=i.memoizedState;if(c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){d=Io(Error(t(423)),i),i=lg(r,i,c,a,d);break e}else if(c!==d){d=Io(Error(t(424)),i),i=lg(r,i,c,a,d);break e}else for(_n=ds(i.stateNode.containerInfo.firstChild),vn=i,ot=!0,qn=null,a=wm(i,null,c,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(vo(),c===d){i=jr(r,i,a);break e}Zt(r,i,c,a)}i=i.child}return i;case 5:return Cm(i),r===null&&Oh(i),c=i.type,d=i.pendingProps,g=r!==null?r.memoizedProps:null,E=d.children,Ch(c,d)?E=null:g!==null&&Ch(c,g)&&(i.flags|=32),ig(r,i),Zt(r,i,E,a),i.child;case 6:return r===null&&Oh(i),null;case 13:return ug(r,i,a);case 4:return Bh(i,i.stateNode.containerInfo),c=i.pendingProps,r===null?i.child=_o(i,null,c,a):Zt(r,i,c,a),i.child;case 11:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Gn(c,d),tg(r,i,c,d,a);case 7:return Zt(r,i,i.pendingProps,a),i.child;case 8:return Zt(r,i,i.pendingProps.children,a),i.child;case 12:return Zt(r,i,i.pendingProps.children,a),i.child;case 10:e:{if(c=i.type._context,d=i.pendingProps,g=i.memoizedProps,E=d.value,et(du,c._currentValue),c._currentValue=E,g!==null)if(Hn(g.value,E)){if(g.children===d.children&&!sn.current){i=jr(r,i,a);break e}}else for(g=i.child,g!==null&&(g.return=i);g!==null;){var R=g.dependencies;if(R!==null){E=g.child;for(var O=R.firstContext;O!==null;){if(O.context===c){if(g.tag===1){O=Lr(-1,a&-a),O.tag=2;var H=g.updateQueue;if(H!==null){H=H.shared;var ee=H.pending;ee===null?O.next=O:(O.next=ee.next,ee.next=O),H.pending=O}}g.lanes|=a,O=g.alternate,O!==null&&(O.lanes|=a),Uh(g.return,a,i),R.lanes|=a;break}O=O.next}}else if(g.tag===10)E=g.type===i.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,R=E.alternate,R!==null&&(R.lanes|=a),Uh(E,a,i),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===i){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Zt(r,i,d.children,a),i=i.child}return i;case 9:return d=i.type,c=i.pendingProps.children,Eo(i,a),d=xn(d),c=c(d),i.flags|=1,Zt(r,i,c,a),i.child;case 14:return c=i.type,d=Gn(c,i.pendingProps),d=Gn(c.type,d),ng(r,i,c,d,a);case 15:return rg(r,i,i.type,i.pendingProps,a);case 17:return c=i.type,d=i.pendingProps,d=i.elementType===c?d:Gn(c,d),Su(r,i),i.tag=1,on(c)?(r=!0,ou(i)):r=!1,Eo(i,a),Km(i,c,d),td(i,c,d,a),id(null,i,c,!0,r,a);case 19:return hg(r,i,a);case 22:return sg(r,i,a)}throw Error(t(156,i.tag))};function Vg(r,i){return Gi(r,i)}function _0(r,i,a,c){this.tag=r,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(r,i,a,c){return new _0(r,i,a,c)}function Cd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function w0(r){if(typeof r=="function")return Cd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===j)return 11;if(r===oe)return 14}return 2}function Is(r,i){var a=r.alternate;return a===null?(a=Dn(r.tag,i,r.key,r.mode),a.elementType=r.elementType,a.type=r.type,a.stateNode=r.stateNode,a.alternate=r,r.alternate=a):(a.pendingProps=i,a.type=r.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=r.flags&14680064,a.childLanes=r.childLanes,a.lanes=r.lanes,a.child=r.child,a.memoizedProps=r.memoizedProps,a.memoizedState=r.memoizedState,a.updateQueue=r.updateQueue,i=r.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=r.sibling,a.index=r.index,a.ref=r.ref,a}function Vu(r,i,a,c,d,g){var E=2;if(c=r,typeof r=="function")Cd(r)&&(E=1);else if(typeof r=="string")E=5;else e:switch(r){case D:return Ii(a.children,d,g,i);case A:E=8,d|=8;break;case P:return r=Dn(12,a,i,d|2),r.elementType=P,r.lanes=g,r;case I:return r=Dn(13,a,i,d),r.elementType=I,r.lanes=g,r;case le:return r=Dn(19,a,i,d),r.elementType=le,r.lanes=g,r;case ke:return Lu(a,d,g,i);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case N:E=10;break e;case x:E=9;break e;case j:E=11;break e;case oe:E=14;break e;case be:E=16,c=null;break e}throw Error(t(130,r==null?r:typeof r,""))}return i=Dn(E,a,i,d),i.elementType=r,i.type=c,i.lanes=g,i}function Ii(r,i,a,c){return r=Dn(7,r,c,i),r.lanes=a,r}function Lu(r,i,a,c){return r=Dn(22,r,c,i),r.elementType=ke,r.lanes=a,r.stateNode={isHidden:!1},r}function Ad(r,i,a){return r=Dn(6,r,null,i),r.lanes=a,r}function Pd(r,i,a){return i=Dn(4,r.children!==null?r.children:[],r.key,i),i.lanes=a,i.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},i}function E0(r,i,a,c,d){this.tag=i,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Rd(r,i,a,c,d,g,E,R,O){return r=new E0(r,i,a,R,O),i===1?(i=1,g===!0&&(i|=8)):i=0,g=Dn(3,null,null,i),r.current=g,g.stateNode=r,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},zh(g),r}function T0(r,i,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fe,key:c==null?null:""+c,children:r,containerInfo:i,implementation:a}}function Lg(r){if(!r)return ps;r=r._reactInternals;e:{if(Mn(r)!==r||r.tag!==1)throw Error(t(170));var i=r;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(on(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(t(171))}if(r.tag===1){var a=r.type;if(on(a))return cm(r,a,i)}return i}function jg(r,i,a,c,d,g,E,R,O){return r=Rd(a,c,!0,r,d,g,E,R,O),r.context=Lg(null),a=r.current,c=en(),d=Es(a),g=Lr(c,d),g.callback=i??null,ys(a,g,d),r.current.lanes=d,is(r,d,c),un(r,c),r}function ju(r,i,a,c){var d=i.current,g=en(),E=Es(d);return a=Lg(a),i.context===null?i.context=a:i.pendingContext=a,i=Lr(g,E),i.payload={element:r},c=c===void 0?null:c,c!==null&&(i.callback=c),r=ys(d,i,E),r!==null&&(Yn(r,d,E,g),pu(r,d,E)),E}function Mu(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Mg(r,i){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var a=r.retryLane;r.retryLane=a!==0&&a<i?a:i}}function xd(r,i){Mg(r,i),(r=r.alternate)&&Mg(r,i)}function I0(){return null}var Ug=typeof reportError=="function"?reportError:function(r){console.error(r)};function kd(r){this._internalRoot=r}Uu.prototype.render=kd.prototype.render=function(r){var i=this._internalRoot;if(i===null)throw Error(t(409));ju(r,i,null,null)},Uu.prototype.unmount=kd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var i=r.containerInfo;wi(function(){ju(null,r,null,null)}),i[Nr]=null}};function Uu(r){this._internalRoot=r}Uu.prototype.unstable_scheduleHydration=function(r){if(r){var i=Ul();r={blockedOn:null,target:r,priority:i};for(var a=0;a<ir.length&&i!==0&&i<ir[a].priority;a++);ir.splice(a,0,r),a===0&&Bl(r)}};function Nd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Fu(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Fg(){}function S0(r,i,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var H=Mu(E);g.call(H)}}var E=jg(i,c,r,0,null,!1,!1,"",Fg);return r._reactRootContainer=E,r[Nr]=E.current,Pa(r.nodeType===8?r.parentNode:r),wi(),E}for(;d=r.lastChild;)r.removeChild(d);if(typeof c=="function"){var R=c;c=function(){var H=Mu(O);R.call(H)}}var O=Rd(r,0,!1,null,null,!1,!1,"",Fg);return r._reactRootContainer=O,r[Nr]=O.current,Pa(r.nodeType===8?r.parentNode:r),wi(function(){ju(i,O,a,c)}),O}function zu(r,i,a,c,d){var g=a._reactRootContainer;if(g){var E=g;if(typeof d=="function"){var R=d;d=function(){var O=Mu(E);R.call(O)}}ju(i,E,r,d)}else E=S0(a,i,r,d,c);return Mu(E)}jl=function(r){switch(r.tag){case 3:var i=r.stateNode;if(i.current.memoizedState.isDehydrated){var a=rs(i.pendingLanes);a!==0&&(os(i,a|1),un(i,Ze()),(We&6)===0&&(Ao=Ze()+500,ms()))}break;case 13:wi(function(){var c=Vr(r,1);if(c!==null){var d=en();Yn(c,r,1,d)}}),xd(r,1)}},Yi=function(r){if(r.tag===13){var i=Vr(r,134217728);if(i!==null){var a=en();Yn(i,r,134217728,a)}xd(r,134217728)}},Ml=function(r){if(r.tag===13){var i=Es(r),a=Vr(r,i);if(a!==null){var c=en();Yn(a,r,i,c)}xd(r,i)}},Ul=function(){return ze},Fl=function(r,i){var a=ze;try{return ze=r,i()}finally{ze=a}},zi=function(r,i,a){switch(i){case"input":if(Ui(r,a),i=a.name,a.type==="radio"&&i!=null){for(a=r;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<a.length;i++){var c=a[i];if(c!==r&&c.form===r.form){var d=su(c);if(!d)throw Error(t(90));St(c),Ui(c,d)}}}break;case"textarea":Qe(r,a);break;case"select":i=a.value,i!=null&&ae(r,!!a.multiple,i,!1)}},ei=Td,la=wi;var C0={usingClientEntryPoint:!1,Events:[ka,fo,su,rr,aa,Td]},Wa={findFiberByHostInstance:di,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},A0={bundleType:Wa.bundleType,version:Wa.version,rendererPackageName:Wa.rendererPackageName,rendererConfig:Wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ne.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=ha(r),r===null?null:r.stateNode},findFiberByHostInstance:Wa.findFiberByHostInstance||I0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Bu.isDisabled&&Bu.supportsFiber)try{ii=Bu.inject(A0),pn=Bu}catch{}}return cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=C0,cn.createPortal=function(r,i){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Nd(i))throw Error(t(200));return T0(r,i,null,a)},cn.createRoot=function(r,i){if(!Nd(r))throw Error(t(299));var a=!1,c="",d=Ug;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(c=i.identifierPrefix),i.onRecoverableError!==void 0&&(d=i.onRecoverableError)),i=Rd(r,1,!1,null,null,a,!1,c,d),r[Nr]=i.current,Pa(r.nodeType===8?r.parentNode:r),new kd(i)},cn.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var i=r._reactInternals;if(i===void 0)throw typeof r.render=="function"?Error(t(188)):(r=Object.keys(r).join(","),Error(t(268,r)));return r=ha(i),r=r===null?null:r.stateNode,r},cn.flushSync=function(r){return wi(r)},cn.hydrate=function(r,i,a){if(!Fu(i))throw Error(t(200));return zu(null,r,i,!0,a)},cn.hydrateRoot=function(r,i,a){if(!Nd(r))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",E=Ug;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),i=jg(i,null,r,1,a??null,d,!1,g,E),r[Nr]=i.current,Pa(r),c)for(r=0;r<c.length;r++)a=c[r],d=a._getVersion,d=d(a._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[a,d]:i.mutableSourceEagerHydrationData.push(a,d);return new Uu(i)},cn.render=function(r,i,a){if(!Fu(i))throw Error(t(200));return zu(null,r,i,!1,a)},cn.unmountComponentAtNode=function(r){if(!Fu(r))throw Error(t(40));return r._reactRootContainer?(wi(function(){zu(null,null,r,!1,function(){r._reactRootContainer=null,r[Nr]=null})}),!0):!1},cn.unstable_batchedUpdates=Td,cn.unstable_renderSubtreeIntoContainer=function(r,i,a,c){if(!Fu(a))throw Error(t(200));if(r==null||r._reactInternals===void 0)throw Error(t(38));return zu(r,i,a,!1,c)},cn.version="18.3.1-next-f1338f8080-20240426",cn}var Kg;function Uv(){if(Kg)return Od.exports;Kg=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Od.exports=j0(),Od.exports}var Qg;function M0(){if(Qg)return $u;Qg=1;var n=Uv();return $u.createRoot=n.createRoot,$u.hydrateRoot=n.hydrateRoot,$u}var U0=M0();Uv();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},il.apply(this,arguments)}var Ns;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ns||(Ns={}));const Yg="popstate";function F0(n){n===void 0&&(n={});function e(s,o){let{pathname:l,search:h,hash:f}=s.location;return Jd("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(s,o){return typeof o=="string"?o:hc(o)}return B0(e,t,null,n)}function yt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Nf(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z0(){return Math.random().toString(36).substr(2,8)}function Xg(n,e){return{usr:n.state,key:n.key,idx:e}}function Jd(n,e,t,s){return t===void 0&&(t=null),il({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Ho(e):e,{state:t,key:e&&e.key||s||z0()})}function hc(n){let{pathname:e="/",search:t="",hash:s=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),s&&s!=="#"&&(e+=s.charAt(0)==="#"?s:"#"+s),e}function Ho(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let s=n.indexOf("?");s>=0&&(e.search=n.substr(s),n=n.substr(0,s)),n&&(e.pathname=n)}return e}function B0(n,e,t,s){s===void 0&&(s={});let{window:o=document.defaultView,v5Compat:l=!1}=s,h=o.history,f=Ns.Pop,p=null,v=w();v==null&&(v=0,h.replaceState(il({},h.state,{idx:v}),""));function w(){return(h.state||{idx:null}).idx}function T(){f=Ns.Pop;let k=w(),W=k==null?null:k-v;v=k,p&&p({action:f,location:M.location,delta:W})}function C(k,W){f=Ns.Push;let G=Jd(M.location,k,W);v=w()+1;let Q=Xg(G,v),ne=M.createHref(G);try{h.pushState(Q,"",ne)}catch(ge){if(ge instanceof DOMException&&ge.name==="DataCloneError")throw ge;o.location.assign(ne)}l&&p&&p({action:f,location:M.location,delta:1})}function b(k,W){f=Ns.Replace;let G=Jd(M.location,k,W);v=w();let Q=Xg(G,v),ne=M.createHref(G);h.replaceState(Q,"",ne),l&&p&&p({action:f,location:M.location,delta:0})}function L(k){let W=o.location.origin!=="null"?o.location.origin:o.location.href,G=typeof k=="string"?k:hc(k);return G=G.replace(/ $/,"%20"),yt(W,"No window.location.(origin|href) available to create URL for href: "+G),new URL(G,W)}let M={get action(){return f},get location(){return n(o,h)},listen(k){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Yg,T),p=k,()=>{o.removeEventListener(Yg,T),p=null}},createHref(k){return e(o,k)},createURL:L,encodeLocation(k){let W=L(k);return{pathname:W.pathname,search:W.search,hash:W.hash}},push:C,replace:b,go(k){return h.go(k)}};return M}var Jg;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(Jg||(Jg={}));function $0(n,e,t){return t===void 0&&(t="/"),W0(n,e,t)}function W0(n,e,t,s){let o=typeof e=="string"?Ho(e):e,l=Df(o.pathname||"/",t);if(l==null)return null;let h=Fv(n);H0(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let v=rT(l);f=eT(h[p],v)}return f}function Fv(n,e,t,s){e===void 0&&(e=[]),t===void 0&&(t=[]),s===void 0&&(s="");let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(yt(p.relativePath.startsWith(s),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(s.length));let v=bs([s,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(yt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Fv(l.children,e,w,v)),!(l.path==null&&!l.index)&&e.push({path:v,score:J0(v,l.index),routesMeta:w})};return n.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let p of zv(l.path))o(l,h,p)}),e}function zv(n){let e=n.split("/");if(e.length===0)return[];let[t,...s]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(s.length===0)return o?[l,""]:[l];let h=zv(s.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>n.startsWith("/")&&p===""?"/":p)}function H0(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Z0(e.routesMeta.map(s=>s.childrenIndex),t.routesMeta.map(s=>s.childrenIndex)))}const q0=/^:[\w-]+$/,G0=3,K0=2,Q0=1,Y0=10,X0=-2,Zg=n=>n==="*";function J0(n,e){let t=n.split("/"),s=t.length;return t.some(Zg)&&(s+=X0),e&&(s+=K0),t.filter(o=>!Zg(o)).reduce((o,l)=>o+(q0.test(l)?G0:l===""?Q0:Y0),s)}function Z0(n,e){return n.length===e.length&&n.slice(0,-1).every((s,o)=>s===e[o])?n[n.length-1]-e[e.length-1]:0}function eT(n,e,t){let{routesMeta:s}=n,o={},l="/",h=[];for(let f=0;f<s.length;++f){let p=s[f],v=f===s.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=tT({path:p.relativePath,caseSensitive:p.caseSensitive,end:v},w),C=p.route;if(!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:bs([l,T.pathname]),pathnameBase:lT(bs([l,T.pathnameBase])),route:C}),T.pathnameBase!=="/"&&(l=bs([l,T.pathnameBase]))}return h}function tT(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,s]=nT(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:s.reduce((v,w,T)=>{let{paramName:C,isOptional:b}=w;if(C==="*"){let M=f[T]||"";h=l.slice(0,l.length-M.length).replace(/(.)\/+$/,"$1")}const L=f[T];return b&&!L?v[C]=void 0:v[C]=(L||"").replace(/%2F/g,"/"),v},{}),pathname:l,pathnameBase:h,pattern:n}}function nT(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Nf(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(s.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(s.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rT(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nf(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Df(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,s=n.charAt(t);return s&&s!=="/"?null:n.slice(t)||"/"}const sT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,iT=n=>sT.test(n);function oT(n,e){e===void 0&&(e="/");let{pathname:t,search:s="",hash:o=""}=typeof n=="string"?Ho(n):n,l;if(t)if(iT(t))l=t;else{if(t.includes("//")){let h=t;t=t.replace(/\/\/+/g,"/"),Nf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+t))}t.startsWith("/")?l=ey(t.substring(1),"/"):l=ey(t,e)}else l=e;return{pathname:l,search:uT(s),hash:cT(o)}}function ey(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function jd(n,e,t,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aT(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bf(n,e){let t=aT(n);return e?t.map((s,o)=>o===t.length-1?s.pathname:s.pathnameBase):t.map(s=>s.pathnameBase)}function Of(n,e,t,s){s===void 0&&(s=!1);let o;typeof n=="string"?o=Ho(n):(o=il({},n),yt(!o.pathname||!o.pathname.includes("?"),jd("?","pathname","search",o)),yt(!o.pathname||!o.pathname.includes("#"),jd("#","pathname","hash",o)),yt(!o.search||!o.search.includes("#"),jd("#","search","hash",o)));let l=n===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!s&&h.startsWith("..")){let C=h.split("/");for(;C[0]==="..";)C.shift(),T-=1;o.pathname=C.join("/")}f=T>=0?e[T]:"/"}let p=oT(o,f),v=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(v||w)&&(p.pathname+="/"),p}const bs=n=>n.join("/").replace(/\/\/+/g,"/"),lT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),uT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,cT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function hT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const Bv=["post","put","patch","delete"];new Set(Bv);const dT=["get",...Bv];new Set(dT);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ol(){return ol=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ol.apply(this,arguments)}const Vf=$.createContext(null),fT=$.createContext(null),qs=$.createContext(null),Vc=$.createContext(null),Qr=$.createContext({outlet:null,matches:[],isDataRoute:!1}),$v=$.createContext(null);function pT(n,e){let{relative:t}=e===void 0?{}:e;qo()||yt(!1);let{basename:s,navigator:o}=$.useContext(qs),{hash:l,pathname:h,search:f}=Hv(n,{relative:t}),p=h;return s!=="/"&&(p=h==="/"?s:bs([s,h])),o.createHref({pathname:p,search:f,hash:l})}function qo(){return $.useContext(Vc)!=null}function Go(){return qo()||yt(!1),$.useContext(Vc).location}function Wv(n){$.useContext(qs).static||$.useLayoutEffect(n)}function Ko(){let{isDataRoute:n}=$.useContext(Qr);return n?RT():mT()}function mT(){qo()||yt(!1);let n=$.useContext(Vf),{basename:e,future:t,navigator:s}=$.useContext(qs),{matches:o}=$.useContext(Qr),{pathname:l}=Go(),h=JSON.stringify(bf(o,t.v7_relativeSplatPath)),f=$.useRef(!1);return Wv(()=>{f.current=!0}),$.useCallback(function(v,w){if(w===void 0&&(w={}),!f.current)return;if(typeof v=="number"){s.go(v);return}let T=Of(v,JSON.parse(h),l,w.relative==="path");n==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:bs([e,T.pathname])),(w.replace?s.replace:s.push)(T,w.state,w)},[e,s,h,l,n])}function gT(){let{matches:n}=$.useContext(Qr),e=n[n.length-1];return e?e.params:{}}function Hv(n,e){let{relative:t}=e===void 0?{}:e,{future:s}=$.useContext(qs),{matches:o}=$.useContext(Qr),{pathname:l}=Go(),h=JSON.stringify(bf(o,s.v7_relativeSplatPath));return $.useMemo(()=>Of(n,JSON.parse(h),l,t==="path"),[n,h,l,t])}function yT(n,e){return vT(n,e)}function vT(n,e,t,s){qo()||yt(!1);let{navigator:o}=$.useContext(qs),{matches:l}=$.useContext(Qr),h=l[l.length-1],f=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let v=Go(),w;if(e){var T;let k=typeof e=="string"?Ho(e):e;p==="/"||(T=k.pathname)!=null&&T.startsWith(p)||yt(!1),w=k}else w=v;let C=w.pathname||"/",b=C;if(p!=="/"){let k=p.replace(/^\//,"").split("/");b="/"+C.replace(/^\//,"").split("/").slice(k.length).join("/")}let L=$0(n,{pathname:b}),M=IT(L&&L.map(k=>Object.assign({},k,{params:Object.assign({},f,k.params),pathname:bs([p,o.encodeLocation?o.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:bs([p,o.encodeLocation?o.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),l,t,s);return e&&M?$.createElement(Vc.Provider,{value:{location:ol({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Ns.Pop}},M):M}function _T(){let n=PT(),e=hT(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),t?$.createElement("pre",{style:o},t):null,null)}const wT=$.createElement(_T,null);class ET extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?$.createElement(Qr.Provider,{value:this.props.routeContext},$.createElement($v.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function TT(n){let{routeContext:e,match:t,children:s}=n,o=$.useContext(Vf);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),$.createElement(Qr.Provider,{value:e},s)}function IT(n,e,t,s){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),s===void 0&&(s=null),n==null){var l;if(!t)return null;if(t.errors)n=t.matches;else if((l=s)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let h=n,f=(o=t)==null?void 0:o.errors;if(f!=null){let w=h.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);w>=0||yt(!1),h=h.slice(0,Math.min(h.length,w+1))}let p=!1,v=-1;if(t&&s&&s.v7_partialHydration)for(let w=0;w<h.length;w++){let T=h[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(v=w),T.route.id){let{loaderData:C,errors:b}=t,L=T.route.loader&&C[T.route.id]===void 0&&(!b||b[T.route.id]===void 0);if(T.route.lazy||L){p=!0,v>=0?h=h.slice(0,v+1):h=[h[0]];break}}}return h.reduceRight((w,T,C)=>{let b,L=!1,M=null,k=null;t&&(b=f&&T.route.id?f[T.route.id]:void 0,M=T.route.errorElement||wT,p&&(v<0&&C===0?(xT("route-fallback"),L=!0,k=null):v===C&&(L=!0,k=T.route.hydrateFallbackElement||null)));let W=e.concat(h.slice(0,C+1)),G=()=>{let Q;return b?Q=M:L?Q=k:T.route.Component?Q=$.createElement(T.route.Component,null):T.route.element?Q=T.route.element:Q=w,$.createElement(TT,{match:T,routeContext:{outlet:w,matches:W,isDataRoute:t!=null},children:Q})};return t&&(T.route.ErrorBoundary||T.route.errorElement||C===0)?$.createElement(ET,{location:t.location,revalidation:t.revalidation,component:M,error:b,children:G(),routeContext:{outlet:null,matches:W,isDataRoute:!0}}):G()},null)}var qv=(function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n})(qv||{}),Gv=(function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n})(Gv||{});function ST(n){let e=$.useContext(Vf);return e||yt(!1),e}function CT(n){let e=$.useContext(fT);return e||yt(!1),e}function AT(n){let e=$.useContext(Qr);return e||yt(!1),e}function Kv(n){let e=AT(),t=e.matches[e.matches.length-1];return t.route.id||yt(!1),t.route.id}function PT(){var n;let e=$.useContext($v),t=CT(),s=Kv();return e!==void 0?e:(n=t.errors)==null?void 0:n[s]}function RT(){let{router:n}=ST(qv.UseNavigateStable),e=Kv(Gv.UseNavigateStable),t=$.useRef(!1);return Wv(()=>{t.current=!0}),$.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,ol({fromRouteId:e},l)))},[n,e])}const ty={};function xT(n,e,t){ty[n]||(ty[n]=!0)}function kT(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function dc(n){let{to:e,replace:t,state:s,relative:o}=n;qo()||yt(!1);let{future:l,static:h}=$.useContext(qs),{matches:f}=$.useContext(Qr),{pathname:p}=Go(),v=Ko(),w=Of(e,bf(f,l.v7_relativeSplatPath),p,o==="path"),T=JSON.stringify(w);return $.useEffect(()=>v(JSON.parse(T),{replace:t,state:s,relative:o}),[v,T,o,t,s]),null}function As(n){yt(!1)}function NT(n){let{basename:e="/",children:t=null,location:s,navigationType:o=Ns.Pop,navigator:l,static:h=!1,future:f}=n;qo()&&yt(!1);let p=e.replace(/^\/*/,"/"),v=$.useMemo(()=>({basename:p,navigator:l,static:h,future:ol({v7_relativeSplatPath:!1},f)}),[p,f,l,h]);typeof s=="string"&&(s=Ho(s));let{pathname:w="/",search:T="",hash:C="",state:b=null,key:L="default"}=s,M=$.useMemo(()=>{let k=Df(w,p);return k==null?null:{location:{pathname:k,search:T,hash:C,state:b,key:L},navigationType:o}},[p,w,T,C,b,L,o]);return M==null?null:$.createElement(qs.Provider,{value:v},$.createElement(Vc.Provider,{children:t,value:M}))}function DT(n){let{children:e,location:t}=n;return yT(Zd(e),t)}new Promise(()=>{});function Zd(n,e){e===void 0&&(e=[]);let t=[];return $.Children.forEach(n,(s,o)=>{if(!$.isValidElement(s))return;let l=[...e,o];if(s.type===$.Fragment){t.push.apply(t,Zd(s.props.children,l));return}s.type!==As&&yt(!1),!s.props.index||!s.props.children||yt(!1);let h={id:s.props.id||l.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Zd(s.props.children,l)),t.push(h)}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(){return ef=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(n[s]=t[s])}return n},ef.apply(this,arguments)}function bT(n,e){if(n==null)return{};var t={},s=Object.keys(n),o,l;for(l=0;l<s.length;l++)o=s[l],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function OT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function VT(n,e){return n.button===0&&(!e||e==="_self")&&!OT(n)}const LT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jT="6";try{window.__reactRouterVersion=jT}catch{}const MT="startTransition",ny=O0[MT];function UT(n){let{basename:e,children:t,future:s,window:o}=n,l=$.useRef();l.current==null&&(l.current=F0({window:o,v5Compat:!0}));let h=l.current,[f,p]=$.useState({action:h.action,location:h.location}),{v7_startTransition:v}=s||{},w=$.useCallback(T=>{v&&ny?ny(()=>p(T)):p(T)},[p,v]);return $.useLayoutEffect(()=>h.listen(w),[h,w]),$.useEffect(()=>kT(s),[s]),$.createElement(NT,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:h,future:s})}const FT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,pr=$.forwardRef(function(e,t){let{onClick:s,relative:o,reloadDocument:l,replace:h,state:f,target:p,to:v,preventScrollReset:w,viewTransition:T}=e,C=bT(e,LT),{basename:b}=$.useContext(qs),L,M=!1;if(typeof v=="string"&&zT.test(v)&&(L=v,FT))try{let Q=new URL(window.location.href),ne=v.startsWith("//")?new URL(Q.protocol+v):new URL(v),ge=Df(ne.pathname,b);ne.origin===Q.origin&&ge!=null?v=ge+ne.search+ne.hash:M=!0}catch{}let k=pT(v,{relative:o}),W=BT(v,{replace:h,state:f,target:p,preventScrollReset:w,relative:o,viewTransition:T});function G(Q){s&&s(Q),Q.defaultPrevented||W(Q)}return $.createElement("a",ef({},C,{href:L||k,onClick:M||l?s:G,ref:t,target:p}))});var ry;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(ry||(ry={}));var sy;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(sy||(sy={}));function BT(n,e){let{target:t,replace:s,state:o,preventScrollReset:l,relative:h,viewTransition:f}=e===void 0?{}:e,p=Ko(),v=Go(),w=Hv(n,{relative:h});return $.useCallback(T=>{if(VT(T,t)){T.preventDefault();let C=s!==void 0?s:hc(v)===hc(w);p(n,{replace:C,state:o,preventScrollReset:l,relative:h,viewTransition:f})}},[v,p,w,s,o,t,n,l,h,f])}const $T=()=>{};var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=function(n){const e=[];let t=0;for(let s=0;s<n.length;s++){let o=n.charCodeAt(s);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++s)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},WT=function(n){const e=[];let t=0,s=0;for(;t<n.length;){const o=n[t++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const l=n[t++];e[s++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=n[t++],h=n[t++],f=n[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const l=n[t++],h=n[t++];e[s++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Yv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<n.length;o+=3){const l=n[o],h=o+1<n.length,f=h?n[o+1]:0,p=o+2<n.length,v=p?n[o+2]:0,w=l>>2,T=(l&3)<<4|f>>4;let C=(f&15)<<2|v>>6,b=v&63;p||(b=64,h||(C=64)),s.push(t[w],t[T],t[C],t[b])}return s.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Qv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):WT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<n.length;){const l=t[n.charAt(o++)],f=o<n.length?t[n.charAt(o)]:0;++o;const v=o<n.length?t[n.charAt(o)]:64;++o;const T=o<n.length?t[n.charAt(o)]:64;if(++o,l==null||f==null||v==null||T==null)throw new HT;const C=l<<2|f>>4;if(s.push(C),v!==64){const b=f<<4&240|v>>2;if(s.push(b),T!==64){const L=v<<6&192|T;s.push(L)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class HT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qT=function(n){const e=Qv(n);return Yv.encodeByteArray(e,!0)},fc=function(n){return qT(n).replace(/\./g,"")},Xv=function(n){try{return Yv.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KT=()=>GT().__FIREBASE_DEFAULTS__,QT=()=>{if(typeof process>"u"||typeof iy>"u")return;const n=iy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},YT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&Xv(n[1]);return e&&JSON.parse(e)},Lc=()=>{try{return $T()||KT()||QT()||YT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Jv=n=>{var e,t;return(t=(e=Lc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},XT=n=>{const e=Jv(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),s]:[e.substring(0,t),s]},Zv=()=>{var n;return(n=Lc())===null||n===void 0?void 0:n.config},e_=n=>{var e;return(e=Lc())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,s)=>{t?this.reject(t):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qo(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function t_(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},s=e||"demo-project",o=n.iat||0,l=n.sub||n.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fc(JSON.stringify(t)),fc(JSON.stringify(h)),""].join(".")}const Ja={};function eI(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ja))Ja[e]?n.emulator.push(e):n.prod.push(e);return n}function tI(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let oy=!1;function n_(n,e){if(typeof window>"u"||typeof document>"u"||!Qo(window.location.host)||Ja[n]===e||Ja[n]||oy)return;Ja[n]=e;function t(C){return`__firebase__banner__${C}`}const s="__firebase__banner",l=eI().prod.length>0;function h(){const C=document.getElementById(s);C&&C.remove()}function f(C){C.style.display="flex",C.style.background="#7faaf0",C.style.position="fixed",C.style.bottom="5px",C.style.left="5px",C.style.padding=".5em",C.style.borderRadius="5px",C.style.alignItems="center"}function p(C,b){C.setAttribute("width","24"),C.setAttribute("id",b),C.setAttribute("height","24"),C.setAttribute("viewBox","0 0 24 24"),C.setAttribute("fill","none"),C.style.marginLeft="-6px"}function v(){const C=document.createElement("span");return C.style.cursor="pointer",C.style.marginLeft="16px",C.style.fontSize="24px",C.innerHTML=" &times;",C.onclick=()=>{oy=!0,h()},C}function w(C,b){C.setAttribute("id",b),C.innerText="Learn more",C.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",C.setAttribute("target","__blank"),C.style.paddingLeft="5px",C.style.textDecoration="underline"}function T(){const C=tI(s),b=t("text"),L=document.getElementById(b)||document.createElement("span"),M=t("learnmore"),k=document.getElementById(M)||document.createElement("a"),W=t("preprendIcon"),G=document.getElementById(W)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(C.created){const Q=C.element;f(Q),w(k,M);const ne=v();p(G,W),Q.append(G,L,k,ne),document.body.appendChild(Q)}l?(L.innerText="Preview backend disconnected.",G.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(G.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,L.innerText="Preview backend running in this workspace."),L.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Yt())}function rI(){var n;const e=(n=Lc())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sI(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iI(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function oI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function aI(){const n=Yt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function lI(){return!rI()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function uI(){try{return typeof indexedDB=="object"}catch{return!1}}function cI(){return new Promise((n,e)=>{try{let t=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(s),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI="FirebaseError";class Yr extends Error{constructor(e,t,s){super(t),this.code=e,this.customData=s,this.name=hI,Object.setPrototypeOf(this,Yr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}}class ml{constructor(e,t,s){this.service=e,this.serviceName=t,this.errors=s}create(e,...t){const s=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?dI(l,s):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Yr(o,f,s)}}function dI(n,e){return n.replace(fI,(t,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const fI=/\{\$([^}]+)}/g;function pI(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Ri(n,e){if(n===e)return!0;const t=Object.keys(n),s=Object.keys(e);for(const o of t){if(!s.includes(o))return!1;const l=n[o],h=e[o];if(ay(l)&&ay(h)){if(!Ri(l,h))return!1}else if(l!==h)return!1}for(const o of s)if(!t.includes(o))return!1;return!0}function ay(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(n){const e=[];for(const[t,s]of Object.entries(n))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function qa(n){const e={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,l]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ga(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function mI(n,e){const t=new gI(n,e);return t.subscribe.bind(t)}class gI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,s){let o;if(e===void 0&&t===void 0&&s===void 0)throw new Error("Missing Observer.");yI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:s},o.next===void 0&&(o.next=Md),o.error===void 0&&(o.error=Md),o.complete===void 0&&(o.complete=Md);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yI(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Md(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(n){return n&&n._delegate?n._delegate:n}class xi{constructor(e,t,s){this.name=e,this.instanceFactory=t,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Si="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const s=new JT;if(this.instancesDeferred.set(t,s),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wI(e))try{this.getOrInitializeService({instanceIdentifier:Si})}catch{}for(const[t,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});s.resolve(l)}catch{}}}}clearInstance(e=Si){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Si){return this.instances.has(e)}getOptions(e=Si){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);s===f&&h.resolve(o)}return o}onInit(e,t){var s;const o=this.normalizeInstanceIdentifier(t),l=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const s=this.onInitCallbacks.get(t);if(s)for(const o of s)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:_I(e),options:t}),this.instances.set(e,s),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Si){return this.component?this.component.multipleInstances?e:Si:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function _I(n){return n===Si?void 0:n}function wI(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new vI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ue;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ue||(Ue={}));const TI={debug:Ue.DEBUG,verbose:Ue.VERBOSE,info:Ue.INFO,warn:Ue.WARN,error:Ue.ERROR,silent:Ue.SILENT},II=Ue.INFO,SI={[Ue.DEBUG]:"log",[Ue.VERBOSE]:"log",[Ue.INFO]:"info",[Ue.WARN]:"warn",[Ue.ERROR]:"error"},CI=(n,e,...t)=>{if(e<n.logLevel)return;const s=new Date().toISOString(),o=SI[e];if(o)console[o](`[${s}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Lf{constructor(e){this.name=e,this._logLevel=II,this._logHandler=CI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?TI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ue.DEBUG,...e),this._logHandler(this,Ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ue.VERBOSE,...e),this._logHandler(this,Ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ue.INFO,...e),this._logHandler(this,Ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ue.WARN,...e),this._logHandler(this,Ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ue.ERROR,...e),this._logHandler(this,Ue.ERROR,...e)}}const AI=(n,e)=>e.some(t=>n instanceof t);let ly,uy;function PI(){return ly||(ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function RI(){return uy||(uy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const r_=new WeakMap,tf=new WeakMap,s_=new WeakMap,Ud=new WeakMap,jf=new WeakMap;function xI(n){const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("success",l),n.removeEventListener("error",h)},l=()=>{t(Os(n.result)),o()},h=()=>{s(n.error),o()};n.addEventListener("success",l),n.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&r_.set(t,n)}).catch(()=>{}),jf.set(e,n),e}function kI(n){if(tf.has(n))return;const e=new Promise((t,s)=>{const o=()=>{n.removeEventListener("complete",l),n.removeEventListener("error",h),n.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{s(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",l),n.addEventListener("error",h),n.addEventListener("abort",h)});tf.set(n,e)}let nf={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return tf.get(n);if(e==="objectStoreNames")return n.objectStoreNames||s_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Os(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function NI(n){nf=n(nf)}function DI(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const s=n.call(Fd(this),e,...t);return s_.set(s,e.sort?e.sort():[e]),Os(s)}:RI().includes(n)?function(...e){return n.apply(Fd(this),e),Os(r_.get(this))}:function(...e){return Os(n.apply(Fd(this),e))}}function bI(n){return typeof n=="function"?DI(n):(n instanceof IDBTransaction&&kI(n),AI(n,PI())?new Proxy(n,nf):n)}function Os(n){if(n instanceof IDBRequest)return xI(n);if(Ud.has(n))return Ud.get(n);const e=bI(n);return e!==n&&(Ud.set(n,e),jf.set(e,n)),e}const Fd=n=>jf.get(n);function OI(n,e,{blocked:t,upgrade:s,blocking:o,terminated:l}={}){const h=indexedDB.open(n,e),f=Os(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Os(h.result),p.oldVersion,p.newVersion,Os(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",v=>o(v.oldVersion,v.newVersion,v))}).catch(()=>{}),f}const VI=["get","getKey","getAll","getAllKeys","count"],LI=["put","add","delete","clear"],zd=new Map;function cy(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(zd.get(e))return zd.get(e);const t=e.replace(/FromIndex$/,""),s=e!==t,o=LI.includes(t);if(!(t in(s?IDBIndex:IDBObjectStore).prototype)||!(o||VI.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let v=p.store;return s&&(v=v.index(f.shift())),(await Promise.all([v[t](...f),o&&p.done]))[0]};return zd.set(e,l),l}NI(n=>({...n,get:(e,t,s)=>cy(e,t)||n.get(e,t,s),has:(e,t)=>!!cy(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(MI(t)){const s=t.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(t=>t).join(" ")}}function MI(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rf="@firebase/app",hy="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wr=new Lf("@firebase/app"),UI="@firebase/app-compat",FI="@firebase/analytics-compat",zI="@firebase/analytics",BI="@firebase/app-check-compat",$I="@firebase/app-check",WI="@firebase/auth",HI="@firebase/auth-compat",qI="@firebase/database",GI="@firebase/data-connect",KI="@firebase/database-compat",QI="@firebase/functions",YI="@firebase/functions-compat",XI="@firebase/installations",JI="@firebase/installations-compat",ZI="@firebase/messaging",eS="@firebase/messaging-compat",tS="@firebase/performance",nS="@firebase/performance-compat",rS="@firebase/remote-config",sS="@firebase/remote-config-compat",iS="@firebase/storage",oS="@firebase/storage-compat",aS="@firebase/firestore",lS="@firebase/ai",uS="@firebase/firestore-compat",cS="firebase",hS="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="[DEFAULT]",dS={[rf]:"fire-core",[UI]:"fire-core-compat",[zI]:"fire-analytics",[FI]:"fire-analytics-compat",[$I]:"fire-app-check",[BI]:"fire-app-check-compat",[WI]:"fire-auth",[HI]:"fire-auth-compat",[qI]:"fire-rtdb",[GI]:"fire-data-connect",[KI]:"fire-rtdb-compat",[QI]:"fire-fn",[YI]:"fire-fn-compat",[XI]:"fire-iid",[JI]:"fire-iid-compat",[ZI]:"fire-fcm",[eS]:"fire-fcm-compat",[tS]:"fire-perf",[nS]:"fire-perf-compat",[rS]:"fire-rc",[sS]:"fire-rc-compat",[iS]:"fire-gcs",[oS]:"fire-gcs-compat",[aS]:"fire-fst",[uS]:"fire-fst-compat",[lS]:"fire-vertex","fire-js":"fire-js",[cS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,fS=new Map,of=new Map;function dy(n,e){try{n.container.addComponent(e)}catch(t){Wr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function jo(n){const e=n.name;if(of.has(e))return Wr.debug(`There were multiple attempts to register component ${e}.`),!1;of.set(e,n);for(const t of pc.values())dy(t,n);for(const t of fS.values())dy(t,n);return!0}function Mf(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function bn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vs=new ml("app","Firebase",pS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mS{constructor(e,t,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new xi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yo=hS;function i_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const s=Object.assign({name:sf,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Vs.create("bad-app-name",{appName:String(o)});if(t||(t=Zv()),!t)throw Vs.create("no-options");const l=pc.get(o);if(l){if(Ri(t,l.options)&&Ri(s,l.config))return l;throw Vs.create("duplicate-app",{appName:o})}const h=new EI(o);for(const p of of.values())h.addComponent(p);const f=new mS(t,s,h);return pc.set(o,f),f}function o_(n=sf){const e=pc.get(n);if(!e&&n===sf&&Zv())return i_();if(!e)throw Vs.create("no-app",{appName:n});return e}function Ls(n,e,t){var s;let o=(s=dS[n])!==null&&s!==void 0?s:n;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Wr.warn(f.join(" "));return}jo(new xi(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS="firebase-heartbeat-database",yS=1,al="firebase-heartbeat-store";let Bd=null;function a_(){return Bd||(Bd=OI(gS,yS,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(al)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vs.create("idb-open",{originalErrorMessage:n.message})})),Bd}async function vS(n){try{const t=(await a_()).transaction(al),s=await t.objectStore(al).get(l_(n));return await t.done,s}catch(e){if(e instanceof Yr)Wr.warn(e.message);else{const t=Vs.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Wr.warn(t.message)}}}async function fy(n,e){try{const s=(await a_()).transaction(al,"readwrite");await s.objectStore(al).put(e,l_(n)),await s.done}catch(t){if(t instanceof Yr)Wr.warn(t.message);else{const s=Vs.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Wr.warn(s.message)}}}function l_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _S=1024,wS=30;class ES{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new IS(t),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=py();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>wS){const h=SS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wr.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=py(),{heartbeatsToSend:s,unsentEntries:o}=TS(this._heartbeatsCache.heartbeats),l=fc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wr.warn(t),""}}}function py(){return new Date().toISOString().substring(0,10)}function TS(n,e=_S){const t=[];let s=n.slice();for(const o of n){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),my(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),my(t)>e){t.pop();break}s=s.slice(1)}return{heartbeatsToSend:t,unsentEntries:s}}class IS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return uI()?cI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await vS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return fy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return fy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function my(n){return fc(JSON.stringify({version:2,heartbeats:n})).length}function SS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let s=1;s<n.length;s++)n[s].date<t&&(t=n[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(n){jo(new xi("platform-logger",e=>new jI(e),"PRIVATE")),jo(new xi("heartbeat",e=>new ES(e),"PRIVATE")),Ls(rf,hy,n),Ls(rf,hy,"esm2017"),Ls("fire-js","")}CS("");function Uf(n,e){var t={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&e.indexOf(s)<0&&(t[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(n);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(n,s[o])&&(t[s[o]]=n[s[o]]);return t}function u_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const AS=u_,c_=new ml("auth","Firebase",u_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mc=new Lf("@firebase/auth");function PS(n,...e){mc.logLevel<=Ue.WARN&&mc.warn(`Auth (${Yo}): ${n}`,...e)}function tc(n,...e){mc.logLevel<=Ue.ERROR&&mc.error(`Auth (${Yo}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(n,...e){throw Ff(n,...e)}function mr(n,...e){return Ff(n,...e)}function h_(n,e,t){const s=Object.assign(Object.assign({},AS()),{[e]:t});return new ml("auth","Firebase",s).create(e,{appName:n.name})}function zr(n){return h_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ff(n,...e){if(typeof n!="string"){const t=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(t,...s)}return c_.create(n,...e)}function Ce(n,e,...t){if(!n)throw Ff(e,...t)}function Ur(n){const e="INTERNAL ASSERTION FAILED: "+n;throw tc(e),new Error(e)}function Hr(n,e){n||Ur(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function RS(){return gy()==="http:"||gy()==="https:"}function gy(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(RS()||iI()||"connection"in navigator)?navigator.onLine:!0}function kS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Hr(t>e,"Short delay should be less than long delay!"),this.isMobile=nI()||oI()}get(){return xS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zf(n,e){Hr(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{static initialize(e,t,s){this.fetchImpl=e,t&&(this.headersImpl=t),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],bS=new yl(3e4,6e4);function Gs(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Xr(n,e,t,s,o={}){return f_(n,o,async()=>{let l={},h={};s&&(e==="GET"?h=s:l={body:JSON.stringify(s)});const f=gl(Object.assign({key:n.config.apiKey},h)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const v=Object.assign({method:e,headers:p},l);return sI()||(v.referrerPolicy="no-referrer"),n.emulatorConfig&&Qo(n.emulatorConfig.host)&&(v.credentials="include"),d_.fetch()(await p_(n,n.config.apiHost,t,f),v)})}async function f_(n,e,t){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},NS),e);try{const o=new VS(n),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw Wu(n,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,v]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wu(n,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw Wu(n,"email-already-in-use",h);if(p==="USER_DISABLED")throw Wu(n,"user-disabled",h);const w=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw h_(n,w,v);Zn(n,w)}}catch(o){if(o instanceof Yr)throw o;Zn(n,"network-request-failed",{message:String(o)})}}async function vl(n,e,t,s,o={}){const l=await Xr(n,e,t,s,o);return"mfaPendingCredential"in l&&Zn(n,"multi-factor-auth-required",{_serverResponse:l}),l}async function p_(n,e,t,s){const o=`${e}${t}?${s}`,l=n,h=l.config.emulator?zf(n.config,o):`${n.config.apiScheme}://${o}`;return DS.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function OS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class VS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,s)=>{this.timer=setTimeout(()=>s(mr(this.auth,"network-request-failed")),bS.get())})}}function Wu(n,e,t){const s={appName:n.name};t.email&&(s.email=t.email),t.phoneNumber&&(s.phoneNumber=t.phoneNumber);const o=mr(n,e,s);return o.customData._tokenResponse=t,o}function yy(n){return n!==void 0&&n.enterprise!==void 0}class LS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return OS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function jS(n,e){return Xr(n,"GET","/v2/recaptchaConfig",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MS(n,e){return Xr(n,"POST","/v1/accounts:delete",e)}async function gc(n,e){return Xr(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function US(n,e=!1){const t=vt(n),s=await t.getIdToken(e),o=Bf(s);Ce(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:s,authTime:Za($d(o.auth_time)),issuedAtTime:Za($d(o.iat)),expirationTime:Za($d(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function $d(n){return Number(n)*1e3}function Bf(n){const[e,t,s]=n.split(".");if(e===void 0||t===void 0||s===void 0)return tc("JWT malformed, contained fewer than 3 sections"),null;try{const o=Xv(t);return o?JSON.parse(o):(tc("Failed to decode base64 JWT payload"),null)}catch(o){return tc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function vy(n){const e=Bf(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mo(n,e,t=!1){if(t)return e;try{return await e}catch(s){throw s instanceof Yr&&FS(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function FS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yc(n){var e;const t=n.auth,s=await n.getIdToken(),o=await Mo(n,gc(t,{idToken:s}));Ce(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];n._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?m_(l.providerUserInfo):[],f=$S(n.providerData,h),p=n.isAnonymous,v=!(n.email&&l.passwordHash)&&!(f!=null&&f.length),w=p?v:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new lf(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(n,T)}async function BS(n){const e=vt(n);await yc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $S(n,e){return[...n.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function m_(n){return n.map(e=>{var{providerId:t}=e,s=Uf(e,["providerId"]);return{providerId:t,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(n,e){const t=await f_(n,{},async()=>{const s=gl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=n.config,h=await p_(n,o,"/v1/token",`key=${l}`),f=await n._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:s};return n.emulatorConfig&&Qo(n.emulatorConfig.host)&&(p.credentials="include"),d_.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function HS(n,e){return Xr(n,"POST","/v2/accounts:revokeToken",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):vy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=vy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:s,refreshToken:o,expiresIn:l}=await WS(e,t);this.updateTokensAndExpiration(s,o,Number(l))}updateTokensAndExpiration(e,t,s){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,t){const{refreshToken:s,accessToken:o,expirationTime:l}=t,h=new bo;return s&&(Ce(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Ce(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Ce(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bo,this.toJSON())}_performRefresh(){return Ur("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cs(n,e){Ce(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Jn{constructor(e){var{uid:t,auth:s,stsTokenManager:o}=e,l=Uf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new lf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Mo(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return US(this,e)}reload(){return BS(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Jn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),t&&await yc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(bn(this.auth.app))return Promise.reject(zr(this.auth));const e=await this.getIdToken();return await Mo(this,MS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var s,o,l,h,f,p,v,w;const T=(s=t.displayName)!==null&&s!==void 0?s:void 0,C=(o=t.email)!==null&&o!==void 0?o:void 0,b=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,L=(h=t.photoURL)!==null&&h!==void 0?h:void 0,M=(f=t.tenantId)!==null&&f!==void 0?f:void 0,k=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,W=(v=t.createdAt)!==null&&v!==void 0?v:void 0,G=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:Q,emailVerified:ne,isAnonymous:ge,providerData:fe,stsTokenManager:D}=t;Ce(Q&&D,e,"internal-error");const A=bo.fromJSON(this.name,D);Ce(typeof Q=="string",e,"internal-error"),Cs(T,e.name),Cs(C,e.name),Ce(typeof ne=="boolean",e,"internal-error"),Ce(typeof ge=="boolean",e,"internal-error"),Cs(b,e.name),Cs(L,e.name),Cs(M,e.name),Cs(k,e.name),Cs(W,e.name),Cs(G,e.name);const P=new Jn({uid:Q,auth:e,email:C,emailVerified:ne,displayName:T,isAnonymous:ge,photoURL:L,phoneNumber:b,tenantId:M,stsTokenManager:A,createdAt:W,lastLoginAt:G});return fe&&Array.isArray(fe)&&(P.providerData=fe.map(N=>Object.assign({},N))),k&&(P._redirectEventId=k),P}static async _fromIdTokenResponse(e,t,s=!1){const o=new bo;o.updateFromServerResponse(t);const l=new Jn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await yc(l),l}static async _fromGetAccountInfoResponse(e,t,s){const o=t.users[0];Ce(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?m_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new bo;f.updateFromIdToken(s);const p=new Jn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),v={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new lf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,v),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=new Map;function Fr(n){Hr(n instanceof Function,"Expected a class definition");let e=_y.get(n);return e?(Hr(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,_y.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}g_.type="NONE";const wy=g_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nc(n,e,t){return`firebase:${n}:${e}:${t}`}class Oo{constructor(e,t,s){this.persistence=e,this.auth=t,this.userKey=s;const{config:o,name:l}=this.auth;this.fullUserKey=nc(this.userKey,o.apiKey,l),this.fullPersistenceKey=nc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await gc(this.auth,{idToken:e}).catch(()=>{});return t?Jn._fromGetAccountInfoResponse(this.auth,t,e):null}return Jn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,s="authUser"){if(!t.length)return new Oo(Fr(wy),e,s);const o=(await Promise.all(t.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let l=o[0]||Fr(wy);const h=nc(s,e.config.apiKey,e.name);let f=null;for(const v of t)try{const w=await v._get(h);if(w){let T;if(typeof w=="string"){const C=await gc(e,{idToken:w}).catch(()=>{});if(!C)break;T=await Jn._fromGetAccountInfoResponse(e,C,w)}else T=Jn._fromJSON(e,w);v!==l&&(f=T),l=v;break}}catch{}const p=o.filter(v=>v._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new Oo(l,e,s):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async v=>{if(v!==l)try{await v._remove(h)}catch{}})),new Oo(l,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ey(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(w_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(y_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(T_(e))return"Blackberry";if(I_(e))return"Webos";if(v_(e))return"Safari";if((e.includes("chrome/")||__(e))&&!e.includes("edge/"))return"Chrome";if(E_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(t);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function y_(n=Yt()){return/firefox\//i.test(n)}function v_(n=Yt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function __(n=Yt()){return/crios\//i.test(n)}function w_(n=Yt()){return/iemobile/i.test(n)}function E_(n=Yt()){return/android/i.test(n)}function T_(n=Yt()){return/blackberry/i.test(n)}function I_(n=Yt()){return/webos/i.test(n)}function $f(n=Yt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function qS(n=Yt()){var e;return $f(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GS(){return aI()&&document.documentMode===10}function S_(n=Yt()){return $f(n)||E_(n)||I_(n)||T_(n)||/windows phone/i.test(n)||w_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(n,e=[]){let t;switch(n){case"Browser":t=Ey(Yt());break;case"Worker":t=`${Ey(Yt())}-${n}`;break;default:t=n}const s=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Yo}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const s=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});s.onAbort=t,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const s of this.queue)await s(e),s.onAbort&&t.push(s.onAbort)}catch(s){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QS(n,e={}){return Xr(n,"GET","/v2/passwordPolicy",Gs(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YS=6;class XS{constructor(e){var t,s,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:YS,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,s,o,l,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(t.meetsMinPasswordLength=e.length>=s),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,t,s,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,t,s,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ty(this),this.idTokenSubscription=new Ty(this),this.beforeStateQueue=new KS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Fr(t)),this._initializationPromise=this.queue(async()=>{var s,o,l;if(!this._deleted&&(this.persistenceManager=await Oo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await gc(this,{idToken:e}),s=await Jn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(s)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(bn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await yc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=kS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(bn(this.app))return Promise.reject(zr(this));const t=e?vt(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return bn(this.app)?Promise.reject(zr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return bn(this.app)?Promise.reject(zr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await QS(this),t=new XS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ml("auth","Firebase",e())}onAuthStateChanged(e,t,s){return this.registerStateListener(this.authStateSubscription,e,t,s)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,s){return this.registerStateListener(this.idTokenSubscription,e,t,s)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(s.tenantId=this.tenantId),await HS(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const s=await this.getOrInitRedirectPersistenceManager(t);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Fr(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await Oo.create(this,[Fr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,s;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,s,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=C_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(t["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(bn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&PS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Oi(n){return vt(n)}class Ty{constructor(e){this.auth=e,this.observer=null,this.addObserver=mI(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZS(n){jc=n}function A_(n){return jc.loadJS(n)}function e1(){return jc.recaptchaEnterpriseScript}function t1(){return jc.gapiScript}function n1(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class r1{constructor(){this.enterprise=new s1}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class s1{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const i1="recaptcha-enterprise",P_="NO_RECAPTCHA";class o1{constructor(e){this.type=i1,this.auth=Oi(e)}async verify(e="verify",t=!1){async function s(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{jS(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const v=new LS(p);return l.tenantId==null?l._agentRecaptchaConfig=v:l._tenantRecaptchaConfigs[l.tenantId]=v,h(v.siteKey)}}).catch(p=>{f(p)})})}function o(l,h,f){const p=window.grecaptcha;yy(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(v=>{h(v)}).catch(()=>{h(P_)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new r1().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{s(this.auth).then(f=>{if(!t&&yy(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=e1();p.length!==0&&(p+=f),A_(p).then(()=>{o(f,l,h)}).catch(v=>{h(v)})}}).catch(f=>{h(f)})})}}async function Iy(n,e,t,s=!1,o=!1){const l=new o1(n);let h;if(o)h=P_;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,v=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:v,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return s?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function uf(n,e,t,s,o){var l;if(!((l=n._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await Iy(n,e,t,t==="getOobCode");return s(n,h)}else return s(n,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await Iy(n,e,t,t==="getOobCode");return s(n,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a1(n,e){const t=Mf(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ri(l,e??{}))return o;Zn(o,"already-initialized")}return t.initialize({options:e})}function l1(n,e){const t=(e==null?void 0:e.persistence)||[],s=(Array.isArray(t)?t:[t]).map(Fr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function u1(n,e,t){const s=Oi(n);Ce(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,l=R_(e),{host:h,port:f}=c1(e),p=f===null?"":`:${f}`,v={url:`${l}//${h}${p}/`},w=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Ce(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Ce(Ri(v,s.config.emulator)&&Ri(w,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=v,s.emulatorConfig=w,s.settings.appVerificationDisabledForTesting=!0,Qo(h)?(t_(`${l}//${h}${p}`),n_("Auth",!0)):h1()}function R_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function c1(n){const e=R_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const s=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const l=o[1];return{host:l,port:Sy(s.substr(l.length+1))}}else{const[l,h]=s.split(":");return{host:l,port:Sy(h)}}}function Sy(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function h1(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,t){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}}async function d1(n,e){return Xr(n,"POST","/v1/accounts:update",e)}async function f1(n,e){return Xr(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function p1(n,e){return vl(n,"POST","/v1/accounts:signInWithPassword",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function m1(n,e){return vl(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}async function g1(n,e){return vl(n,"POST","/v1/accounts:signInWithEmailLink",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ll extends Wf{constructor(e,t,s,o=null){super("password",s),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new ll(e,t,"password")}static _fromEmailAndCode(e,t,s=null){return new ll(e,t,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uf(e,t,"signInWithPassword",p1);case"emailLink":return m1(e,{email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const s={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uf(e,s,"signUpPassword",f1);case"emailLink":return g1(e,{idToken:t,email:this._email,oobCode:this._password});default:Zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(n,e){return vl(n,"POST","/v1/accounts:signInWithIdp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1="http://localhost";class ki extends Wf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new ki(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=t,l=Uf(t,["providerId","signInMethod"]);if(!s||!o)return null;const h=new ki(s,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return Vo(e,t)}_linkToIdToken(e,t){const s=this.buildRequest();return s.idToken=t,Vo(e,s)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Vo(e,t)}buildRequest(){const e={requestUri:y1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=gl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v1(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function _1(n){const e=qa(Ga(n)).link,t=e?qa(Ga(e)).deep_link_id:null,s=qa(Ga(n)).deep_link_id;return(s?qa(Ga(s)).link:null)||s||t||e||n}class Hf{constructor(e){var t,s,o,l,h,f;const p=qa(Ga(e)),v=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(s=p.oobCode)!==null&&s!==void 0?s:null,T=v1((o=p.mode)!==null&&o!==void 0?o:null);Ce(v&&w&&T,"argument-error"),this.apiKey=v,this.operation=T,this.code=w,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=_1(e);try{return new Hf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi{constructor(){this.providerId=Vi.PROVIDER_ID}static credential(e,t){return ll._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const s=Hf.parseLink(t);return Ce(s,"argument-error"),ll._fromEmailAndCode(e,s.code,s.tenantId)}}Vi.PROVIDER_ID="password";Vi.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Vi.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l extends x_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps extends _l{constructor(){super("facebook.com")}static credential(e){return ki._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ps.credentialFromTaggedObject(e)}static credentialFromError(e){return Ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ps.credential(e.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rs extends _l{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return ki._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:s}=e;if(!t&&!s)return null;try{return Rs.credential(t,s)}catch{return null}}}Rs.GOOGLE_SIGN_IN_METHOD="google.com";Rs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends _l{constructor(){super("github.com")}static credential(e){return ki._fromParams({providerId:xs.PROVIDER_ID,signInMethod:xs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xs.credentialFromTaggedObject(e)}static credentialFromError(e){return xs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xs.credential(e.oauthAccessToken)}catch{return null}}}xs.GITHUB_SIGN_IN_METHOD="github.com";xs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks extends _l{constructor(){super("twitter.com")}static credential(e,t){return ki._fromParams({providerId:ks.PROVIDER_ID,signInMethod:ks.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ks.credentialFromTaggedObject(e)}static credentialFromError(e){return ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:s}=e;if(!t||!s)return null;try{return ks.credential(t,s)}catch{return null}}}ks.TWITTER_SIGN_IN_METHOD="twitter.com";ks.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w1(n,e){return vl(n,"POST","/v1/accounts:signUp",Gs(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ni{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,s,o=!1){const l=await Jn._fromIdTokenResponse(e,s,o),h=Cy(s);return new Ni({user:l,providerId:h,_tokenResponse:s,operationType:t})}static async _forOperation(e,t,s){await e._updateTokensIfNecessary(s,!0);const o=Cy(s);return new Ni({user:e,providerId:o,_tokenResponse:s,operationType:t})}}function Cy(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends Yr{constructor(e,t,s,o){var l;super(t.code,t.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,vc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,t,s,o){return new vc(e,t,s,o)}}function k_(n,e,t,s){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?vc._fromErrorAndOperation(n,l,e,s):l})}async function E1(n,e,t=!1){const s=await Mo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Ni._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N_(n,e,t=!1){const{auth:s}=n;if(bn(s.app))return Promise.reject(zr(s));const o="reauthenticate";try{const l=await Mo(n,k_(s,o,e,n),t);Ce(l.idToken,s,"internal-error");const h=Bf(l.idToken);Ce(h,s,"internal-error");const{sub:f}=h;return Ce(n.uid===f,s,"user-mismatch"),Ni._forOperation(n,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Zn(s,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D_(n,e,t=!1){if(bn(n.app))return Promise.reject(zr(n));const s="signIn",o=await k_(n,s,e),l=await Ni._fromIdTokenResponse(n,s,o);return t||await n._updateCurrentUser(l.user),l}async function T1(n,e){return D_(Oi(n),e)}async function I1(n,e){return N_(vt(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b_(n){const e=Oi(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function S1(n,e,t){if(bn(n.app))return Promise.reject(zr(n));const s=Oi(n),h=await uf(s,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",w1).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&b_(n),p}),f=await Ni._fromIdTokenResponse(s,"signIn",h);return await s._updateCurrentUser(f.user),f}function C1(n,e,t){return bn(n.app)?Promise.reject(zr(n)):T1(vt(n),Vi.credential(e,t)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&b_(n),s})}function A1(n,e){return P1(vt(n),null,e)}async function P1(n,e,t){const{auth:s}=n,l={idToken:await n.getIdToken(),returnSecureToken:!0};t&&(l.password=t);const h=await Mo(n,d1(s,l));await n._updateTokensIfNecessary(h,!0)}function R1(n,e,t,s){return vt(n).onIdTokenChanged(e,t,s)}function x1(n,e,t){return vt(n).beforeAuthStateChanged(e,t)}function k1(n,e,t,s){return vt(n).onAuthStateChanged(e,t,s)}function N1(n){return vt(n).signOut()}const _c="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(_c,"1"),this.storage.removeItem(_c),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=1e3,b1=10;class V_ extends O_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=S_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const s=this.storage.getItem(t),o=this.localCache[t];s!==o&&e(t,o,s)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const s=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!t&&this.localCache[s]===h||this.notifyListeners(s,h)},l=this.storage.getItem(s);GS()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,b1):o()}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:s}),!0)})},D1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}V_.type="LOCAL";const O1=V_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_ extends O_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}L_.type="SESSION";const j_=L_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const s=new Mc(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:s,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const f=Array.from(h).map(async v=>v(t.origin,l)),p=await V1(f);t.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(n="",e=10){let t="";for(let s=0;s<e;s++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const v=qf("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(T){const C=T;if(C.data.eventId===v)switch(C.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(C.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:v,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(){return window}function j1(n){gr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){return typeof gr().WorkerGlobalScope<"u"&&typeof gr().importScripts=="function"}async function M1(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function U1(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function F1(){return M_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="firebaseLocalStorageDb",z1=1,wc="firebaseLocalStorage",F_="fbase_key";class wl{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Uc(n,e){return n.transaction([wc],e?"readwrite":"readonly").objectStore(wc)}function B1(){const n=indexedDB.deleteDatabase(U_);return new wl(n).toPromise()}function cf(){const n=indexedDB.open(U_,z1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(wc,{keyPath:F_})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(wc)?e(s):(s.close(),await B1(),e(await cf()))})})}async function Ay(n,e,t){const s=Uc(n,!0).put({[F_]:e,value:t});return new wl(s).toPromise()}async function $1(n,e){const t=Uc(n,!1).get(e),s=await new wl(t).toPromise();return s===void 0?null:s.value}function Py(n,e){const t=Uc(n,!0).delete(e);return new wl(t).toPromise()}const W1=800,H1=3;class z_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(t++>H1)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return M_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mc._getInstance(F1()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await M1(),!this.activeServiceWorker)return;this.sender=new L1(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((t=s[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||U1()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cf();return await Ay(e,_c,"1"),await Py(e,_c),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(s=>Ay(s,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(s=>$1(s,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Py(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Uc(o,!1).getAll();return new wl(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),W1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z_.type="LOCAL";const q1=z_;new yl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(n,e){return e?Fr(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf extends Wf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Vo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Vo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Vo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function K1(n){return D_(n.auth,new Gf(n),n.bypassAuthState)}function Q1(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),N_(t,new Gf(n),n.bypassAuthState)}async function Y1(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),E1(t,new Gf(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(e,t,s,o,l=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:s,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:s,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(v){this.reject(v)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K1;case"linkViaPopup":case"linkViaRedirect":return Y1;case"reauthViaPopup":case"reauthViaRedirect":return Q1;default:Zn(this.auth,"internal-error")}}resolve(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1=new yl(2e3,1e4);class Do extends B_{constructor(e,t,s,o,l){super(e,t,o,l),this.provider=s,this.authWindow=null,this.pollId=null,Do.currentPopupAction&&Do.currentPopupAction.cancel(),Do.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Hr(this.filter.length===1,"Popup operations only handle one event");const e=qf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(mr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(mr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Do.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,s;if(!((s=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(mr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,X1.get())};e()}}Do.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1="pendingRedirect",rc=new Map;class Z1 extends B_{constructor(e,t,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,s),this.eventId=null}async execute(){let e=rc.get(this.auth._key());if(!e){try{const s=await eC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(t){e=()=>Promise.reject(t)}rc.set(this.auth._key(),e)}return this.bypassAuthState||rc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eC(n,e){const t=rC(e),s=nC(n);if(!await s._isAvailable())return!1;const o=await s._get(t)==="true";return await s._remove(t),o}function tC(n,e){rc.set(n._key(),e)}function nC(n){return Fr(n._redirectPersistence)}function rC(n){return nc(J1,n.config.apiKey,n.name)}async function sC(n,e,t=!1){if(bn(n.app))return Promise.reject(zr(n));const s=Oi(n),o=G1(s,e),h=await new Z1(s,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iC=600*1e3;class oC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(t=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!aC(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var s;if(e.error&&!$_(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";t.onError(mr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const s=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=iC&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ry(e))}saveEventToCache(e){this.cachedEventUids.add(Ry(e)),this.lastProcessedEventTime=Date.now()}}function Ry(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function $_({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function aC(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return $_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(n,e={}){return Xr(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cC=/^https?/;async function hC(n){if(n.config.emulator)return;const{authorizedDomains:e}=await lC(n);for(const t of e)try{if(dC(t))return}catch{}Zn(n,"unauthorized-domain")}function dC(n){const e=af(),{protocol:t,hostname:s}=new URL(e);if(n.startsWith("chrome-extension://")){const h=new URL(n);return h.hostname===""&&s===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===s}if(!cC.test(t))return!1;if(uC.test(n))return s===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fC=new yl(3e4,6e4);function xy(){const n=gr().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function pC(n){return new Promise((e,t)=>{var s,o,l;function h(){xy(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xy(),t(mr(n,"network-request-failed"))},timeout:fC.get()})}if(!((o=(s=gr().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=gr().gapi)===null||l===void 0)&&l.load)h();else{const f=n1("iframefcb");return gr()[f]=()=>{gapi.load?h():t(mr(n,"network-request-failed"))},A_(`${t1()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw sc=null,e})}let sc=null;function mC(n){return sc=sc||pC(n),sc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gC=new yl(5e3,15e3),yC="__/auth/iframe",vC="emulator/auth/iframe",_C={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},wC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function EC(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zf(e,vC):`https://${n.config.authDomain}/${yC}`,s={apiKey:e.apiKey,appName:n.name,v:Yo},o=wC.get(n.config.apiHost);o&&(s.eid=o);const l=n._getFrameworks();return l.length&&(s.fw=l.join(",")),`${t}?${gl(s).slice(1)}`}async function TC(n){const e=await mC(n),t=gr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:EC(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:_C,dontclear:!0},s=>new Promise(async(o,l)=>{await s.restyle({setHideOnLeave:!1});const h=mr(n,"network-request-failed"),f=gr().setTimeout(()=>{l(h)},gC.get());function p(){gr().clearTimeout(f),o(s)}s.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SC=500,CC=600,AC="_blank",PC="http://localhost";class ky{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RC(n,e,t,s=SC,o=CC){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let f="";const p=Object.assign(Object.assign({},IC),{width:s.toString(),height:o.toString(),top:l,left:h}),v=Yt().toLowerCase();t&&(f=__(v)?AC:t),y_(v)&&(e=e||PC,p.scrollbars="yes");const w=Object.entries(p).reduce((C,[b,L])=>`${C}${b}=${L},`,"");if(qS(v)&&f!=="_self")return xC(e||"",f),new ky(null);const T=window.open(e||"",f,w);Ce(T,n,"popup-blocked");try{T.focus()}catch{}return new ky(T)}function xC(n,e){const t=document.createElement("a");t.href=n,t.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="__/auth/handler",NC="emulator/auth/handler",DC=encodeURIComponent("fac");async function Ny(n,e,t,s,o,l){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const h={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:s,v:Yo,eventId:o};if(e instanceof x_){e.setDefaultLanguage(n.languageCode),h.providerId=e.providerId||"",pI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))h[w]=T}if(e instanceof _l){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(h.scopes=w.join(","))}n.tenantId&&(h.tid=n.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const p=await n._getAppCheckToken(),v=p?`#${DC}=${encodeURIComponent(p)}`:"";return`${bC(n)}?${gl(f).slice(1)}${v}`}function bC({config:n}){return n.emulator?zf(n,NC):`https://${n.authDomain}/${kC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="webStorageSupport";class OC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=j_,this._completeRedirectFn=sC,this._overrideRedirectResult=tC}async _openPopup(e,t,s,o){var l;Hr((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Ny(e,t,s,af(),o);return RC(e,h,qf())}async _openRedirect(e,t,s,o){await this._originValidation(e);const l=await Ny(e,t,s,af(),o);return j1(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Hr(l,"If manager is not set, promise should be"),l)}const s=this.initAndGetManager(e);return this.eventManagers[t]={promise:s},s.catch(()=>{delete this.eventManagers[t]}),s}async initAndGetManager(e){const t=await TC(e),s=new oC(e);return t.register("authEvent",o=>(Ce(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=t,s}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wd,{type:Wd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Wd];h!==void 0&&t(!!h),Zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hC(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return S_()||v_()||$f()}}const VC=OC;var Dy="@firebase/auth",by="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jC(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function MC(n){jo(new xi("auth",(e,{options:t})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=s.options;Ce(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:f,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:C_(n)},v=new JS(s,o,l,p);return l1(v,t),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,s)=>{e.getProvider("auth-internal").initialize()})),jo(new xi("auth-internal",e=>{const t=Oi(e.getProvider("auth").getImmediate());return(s=>new LC(s))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ls(Dy,by,jC(n)),Ls(Dy,by,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=300,FC=e_("authIdTokenMaxAge")||UC;let Oy=null;const zC=n=>async e=>{const t=e&&await e.getIdTokenResult(),s=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(s&&s>FC)return;const o=t==null?void 0:t.token;Oy!==o&&(Oy=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function BC(n=o_()){const e=Mf(n,"auth");if(e.isInitialized())return e.getImmediate();const t=a1(n,{popupRedirectResolver:VC,persistence:[q1,O1,j_]}),s=e_("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(s,location.origin);if(location.origin===l.origin){const h=zC(l.toString());x1(t,h,()=>h(t.currentUser)),R1(t,f=>h(f))}}const o=Jv("auth");return o&&u1(t,`http://${o}`),t}function $C(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}ZS({loadJS(n){return new Promise((e,t)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=e,s.onerror=o=>{const l=mr("internal-error");l.customData=o,t(l)},s.type="text/javascript",s.charset="UTF-8",$C().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});MC("Browser");var WC="firebase",HC="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ls(WC,HC,"app");var Vy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var js,W_;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function P(){}P.prototype=A.prototype,D.D=A.prototype,D.prototype=new P,D.prototype.constructor=D,D.C=function(N,x,j){for(var I=Array(arguments.length-2),le=2;le<arguments.length;le++)I[le-2]=arguments[le];return A.prototype[x].apply(N,I)}}function t(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,t),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(D,A,P){P||(P=0);var N=Array(16);if(typeof A=="string")for(var x=0;16>x;++x)N[x]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(x=0;16>x;++x)N[x]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=D.g[0],P=D.g[1],x=D.g[2];var j=D.g[3],I=A+(j^P&(x^j))+N[0]+3614090360&4294967295;A=P+(I<<7&4294967295|I>>>25),I=j+(x^A&(P^x))+N[1]+3905402710&4294967295,j=A+(I<<12&4294967295|I>>>20),I=x+(P^j&(A^P))+N[2]+606105819&4294967295,x=j+(I<<17&4294967295|I>>>15),I=P+(A^x&(j^A))+N[3]+3250441966&4294967295,P=x+(I<<22&4294967295|I>>>10),I=A+(j^P&(x^j))+N[4]+4118548399&4294967295,A=P+(I<<7&4294967295|I>>>25),I=j+(x^A&(P^x))+N[5]+1200080426&4294967295,j=A+(I<<12&4294967295|I>>>20),I=x+(P^j&(A^P))+N[6]+2821735955&4294967295,x=j+(I<<17&4294967295|I>>>15),I=P+(A^x&(j^A))+N[7]+4249261313&4294967295,P=x+(I<<22&4294967295|I>>>10),I=A+(j^P&(x^j))+N[8]+1770035416&4294967295,A=P+(I<<7&4294967295|I>>>25),I=j+(x^A&(P^x))+N[9]+2336552879&4294967295,j=A+(I<<12&4294967295|I>>>20),I=x+(P^j&(A^P))+N[10]+4294925233&4294967295,x=j+(I<<17&4294967295|I>>>15),I=P+(A^x&(j^A))+N[11]+2304563134&4294967295,P=x+(I<<22&4294967295|I>>>10),I=A+(j^P&(x^j))+N[12]+1804603682&4294967295,A=P+(I<<7&4294967295|I>>>25),I=j+(x^A&(P^x))+N[13]+4254626195&4294967295,j=A+(I<<12&4294967295|I>>>20),I=x+(P^j&(A^P))+N[14]+2792965006&4294967295,x=j+(I<<17&4294967295|I>>>15),I=P+(A^x&(j^A))+N[15]+1236535329&4294967295,P=x+(I<<22&4294967295|I>>>10),I=A+(x^j&(P^x))+N[1]+4129170786&4294967295,A=P+(I<<5&4294967295|I>>>27),I=j+(P^x&(A^P))+N[6]+3225465664&4294967295,j=A+(I<<9&4294967295|I>>>23),I=x+(A^P&(j^A))+N[11]+643717713&4294967295,x=j+(I<<14&4294967295|I>>>18),I=P+(j^A&(x^j))+N[0]+3921069994&4294967295,P=x+(I<<20&4294967295|I>>>12),I=A+(x^j&(P^x))+N[5]+3593408605&4294967295,A=P+(I<<5&4294967295|I>>>27),I=j+(P^x&(A^P))+N[10]+38016083&4294967295,j=A+(I<<9&4294967295|I>>>23),I=x+(A^P&(j^A))+N[15]+3634488961&4294967295,x=j+(I<<14&4294967295|I>>>18),I=P+(j^A&(x^j))+N[4]+3889429448&4294967295,P=x+(I<<20&4294967295|I>>>12),I=A+(x^j&(P^x))+N[9]+568446438&4294967295,A=P+(I<<5&4294967295|I>>>27),I=j+(P^x&(A^P))+N[14]+3275163606&4294967295,j=A+(I<<9&4294967295|I>>>23),I=x+(A^P&(j^A))+N[3]+4107603335&4294967295,x=j+(I<<14&4294967295|I>>>18),I=P+(j^A&(x^j))+N[8]+1163531501&4294967295,P=x+(I<<20&4294967295|I>>>12),I=A+(x^j&(P^x))+N[13]+2850285829&4294967295,A=P+(I<<5&4294967295|I>>>27),I=j+(P^x&(A^P))+N[2]+4243563512&4294967295,j=A+(I<<9&4294967295|I>>>23),I=x+(A^P&(j^A))+N[7]+1735328473&4294967295,x=j+(I<<14&4294967295|I>>>18),I=P+(j^A&(x^j))+N[12]+2368359562&4294967295,P=x+(I<<20&4294967295|I>>>12),I=A+(P^x^j)+N[5]+4294588738&4294967295,A=P+(I<<4&4294967295|I>>>28),I=j+(A^P^x)+N[8]+2272392833&4294967295,j=A+(I<<11&4294967295|I>>>21),I=x+(j^A^P)+N[11]+1839030562&4294967295,x=j+(I<<16&4294967295|I>>>16),I=P+(x^j^A)+N[14]+4259657740&4294967295,P=x+(I<<23&4294967295|I>>>9),I=A+(P^x^j)+N[1]+2763975236&4294967295,A=P+(I<<4&4294967295|I>>>28),I=j+(A^P^x)+N[4]+1272893353&4294967295,j=A+(I<<11&4294967295|I>>>21),I=x+(j^A^P)+N[7]+4139469664&4294967295,x=j+(I<<16&4294967295|I>>>16),I=P+(x^j^A)+N[10]+3200236656&4294967295,P=x+(I<<23&4294967295|I>>>9),I=A+(P^x^j)+N[13]+681279174&4294967295,A=P+(I<<4&4294967295|I>>>28),I=j+(A^P^x)+N[0]+3936430074&4294967295,j=A+(I<<11&4294967295|I>>>21),I=x+(j^A^P)+N[3]+3572445317&4294967295,x=j+(I<<16&4294967295|I>>>16),I=P+(x^j^A)+N[6]+76029189&4294967295,P=x+(I<<23&4294967295|I>>>9),I=A+(P^x^j)+N[9]+3654602809&4294967295,A=P+(I<<4&4294967295|I>>>28),I=j+(A^P^x)+N[12]+3873151461&4294967295,j=A+(I<<11&4294967295|I>>>21),I=x+(j^A^P)+N[15]+530742520&4294967295,x=j+(I<<16&4294967295|I>>>16),I=P+(x^j^A)+N[2]+3299628645&4294967295,P=x+(I<<23&4294967295|I>>>9),I=A+(x^(P|~j))+N[0]+4096336452&4294967295,A=P+(I<<6&4294967295|I>>>26),I=j+(P^(A|~x))+N[7]+1126891415&4294967295,j=A+(I<<10&4294967295|I>>>22),I=x+(A^(j|~P))+N[14]+2878612391&4294967295,x=j+(I<<15&4294967295|I>>>17),I=P+(j^(x|~A))+N[5]+4237533241&4294967295,P=x+(I<<21&4294967295|I>>>11),I=A+(x^(P|~j))+N[12]+1700485571&4294967295,A=P+(I<<6&4294967295|I>>>26),I=j+(P^(A|~x))+N[3]+2399980690&4294967295,j=A+(I<<10&4294967295|I>>>22),I=x+(A^(j|~P))+N[10]+4293915773&4294967295,x=j+(I<<15&4294967295|I>>>17),I=P+(j^(x|~A))+N[1]+2240044497&4294967295,P=x+(I<<21&4294967295|I>>>11),I=A+(x^(P|~j))+N[8]+1873313359&4294967295,A=P+(I<<6&4294967295|I>>>26),I=j+(P^(A|~x))+N[15]+4264355552&4294967295,j=A+(I<<10&4294967295|I>>>22),I=x+(A^(j|~P))+N[6]+2734768916&4294967295,x=j+(I<<15&4294967295|I>>>17),I=P+(j^(x|~A))+N[13]+1309151649&4294967295,P=x+(I<<21&4294967295|I>>>11),I=A+(x^(P|~j))+N[4]+4149444226&4294967295,A=P+(I<<6&4294967295|I>>>26),I=j+(P^(A|~x))+N[11]+3174756917&4294967295,j=A+(I<<10&4294967295|I>>>22),I=x+(A^(j|~P))+N[2]+718787259&4294967295,x=j+(I<<15&4294967295|I>>>17),I=P+(j^(x|~A))+N[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(x+(I<<21&4294967295|I>>>11))&4294967295,D.g[2]=D.g[2]+x&4294967295,D.g[3]=D.g[3]+j&4294967295}s.prototype.u=function(D,A){A===void 0&&(A=D.length);for(var P=A-this.blockSize,N=this.B,x=this.h,j=0;j<A;){if(x==0)for(;j<=P;)o(this,D,j),j+=this.blockSize;if(typeof D=="string"){for(;j<A;)if(N[x++]=D.charCodeAt(j++),x==this.blockSize){o(this,N),x=0;break}}else for(;j<A;)if(N[x++]=D[j++],x==this.blockSize){o(this,N),x=0;break}}this.h=x,this.o+=A},s.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;var P=8*this.o;for(A=D.length-8;A<D.length;++A)D[A]=P&255,P/=256;for(this.u(D),D=Array(16),A=P=0;4>A;++A)for(var N=0;32>N;N+=8)D[P++]=this.g[A]>>>N&255;return D};function l(D,A){var P=f;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=A(D)}function h(D,A){this.h=A;for(var P=[],N=!0,x=D.length-1;0<=x;x--){var j=D[x]|0;N&&j==A||(P[x]=j,N=!1)}this.g=P}var f={};function p(D){return-128<=D&&128>D?l(D,function(A){return new h([A|0],0>A?-1:0)}):new h([D|0],0>D?-1:0)}function v(D){if(isNaN(D)||!isFinite(D))return T;if(0>D)return k(v(-D));for(var A=[],P=1,N=0;D>=P;N++)A[N]=D/P|0,P*=4294967296;return new h(A,0)}function w(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return k(w(D.substring(1),A));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var P=v(Math.pow(A,8)),N=T,x=0;x<D.length;x+=8){var j=Math.min(8,D.length-x),I=parseInt(D.substring(x,x+j),A);8>j?(j=v(Math.pow(A,j)),N=N.j(j).add(v(I))):(N=N.j(P),N=N.add(v(I)))}return N}var T=p(0),C=p(1),b=p(16777216);n=h.prototype,n.m=function(){if(M(this))return-k(this).m();for(var D=0,A=1,P=0;P<this.g.length;P++){var N=this.i(P);D+=(0<=N?N:4294967296+N)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(L(this))return"0";if(M(this))return"-"+k(this).toString(D);for(var A=v(Math.pow(D,6)),P=this,N="";;){var x=ne(P,A).g;P=W(P,x.j(A));var j=((0<P.g.length?P.g[0]:P.h)>>>0).toString(D);if(P=x,L(P))return j+N;for(;6>j.length;)j="0"+j;N=j+N}},n.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function L(D){if(D.h!=0)return!1;for(var A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function M(D){return D.h==-1}n.l=function(D){return D=W(this,D),M(D)?-1:L(D)?0:1};function k(D){for(var A=D.g.length,P=[],N=0;N<A;N++)P[N]=~D.g[N];return new h(P,~D.h).add(C)}n.abs=function(){return M(this)?k(this):this},n.add=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],N=0,x=0;x<=A;x++){var j=N+(this.i(x)&65535)+(D.i(x)&65535),I=(j>>>16)+(this.i(x)>>>16)+(D.i(x)>>>16);N=I>>>16,j&=65535,I&=65535,P[x]=I<<16|j}return new h(P,P[P.length-1]&-2147483648?-1:0)};function W(D,A){return D.add(k(A))}n.j=function(D){if(L(this)||L(D))return T;if(M(this))return M(D)?k(this).j(k(D)):k(k(this).j(D));if(M(D))return k(this.j(k(D)));if(0>this.l(b)&&0>D.l(b))return v(this.m()*D.m());for(var A=this.g.length+D.g.length,P=[],N=0;N<2*A;N++)P[N]=0;for(N=0;N<this.g.length;N++)for(var x=0;x<D.g.length;x++){var j=this.i(N)>>>16,I=this.i(N)&65535,le=D.i(x)>>>16,oe=D.i(x)&65535;P[2*N+2*x]+=I*oe,G(P,2*N+2*x),P[2*N+2*x+1]+=j*oe,G(P,2*N+2*x+1),P[2*N+2*x+1]+=I*le,G(P,2*N+2*x+1),P[2*N+2*x+2]+=j*le,G(P,2*N+2*x+2)}for(N=0;N<A;N++)P[N]=P[2*N+1]<<16|P[2*N];for(N=A;N<2*A;N++)P[N]=0;return new h(P,0)};function G(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function Q(D,A){this.g=D,this.h=A}function ne(D,A){if(L(A))throw Error("division by zero");if(L(D))return new Q(T,T);if(M(D))return A=ne(k(D),A),new Q(k(A.g),k(A.h));if(M(A))return A=ne(D,k(A)),new Q(k(A.g),A.h);if(30<D.g.length){if(M(D)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var P=C,N=A;0>=N.l(D);)P=ge(P),N=ge(N);var x=fe(P,1),j=fe(N,1);for(N=fe(N,2),P=fe(P,2);!L(N);){var I=j.add(N);0>=I.l(D)&&(x=x.add(P),j=I),N=fe(N,1),P=fe(P,1)}return A=W(D,x.j(A)),new Q(x,A)}for(x=T;0<=D.l(A);){for(P=Math.max(1,Math.floor(D.m()/A.m())),N=Math.ceil(Math.log(P)/Math.LN2),N=48>=N?1:Math.pow(2,N-48),j=v(P),I=j.j(A);M(I)||0<I.l(D);)P-=N,j=v(P),I=j.j(A);L(j)&&(j=C),x=x.add(j),D=W(D,I)}return new Q(x,D)}n.A=function(D){return ne(this,D).h},n.and=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],N=0;N<A;N++)P[N]=this.i(N)&D.i(N);return new h(P,this.h&D.h)},n.or=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],N=0;N<A;N++)P[N]=this.i(N)|D.i(N);return new h(P,this.h|D.h)},n.xor=function(D){for(var A=Math.max(this.g.length,D.g.length),P=[],N=0;N<A;N++)P[N]=this.i(N)^D.i(N);return new h(P,this.h^D.h)};function ge(D){for(var A=D.g.length+1,P=[],N=0;N<A;N++)P[N]=D.i(N)<<1|D.i(N-1)>>>31;return new h(P,D.h)}function fe(D,A){var P=A>>5;A%=32;for(var N=D.g.length-P,x=[],j=0;j<N;j++)x[j]=0<A?D.i(j+P)>>>A|D.i(j+P+1)<<32-A:D.i(j+P);return new h(x,D.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,W_=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,js=h}).apply(typeof Vy<"u"?Vy:typeof self<"u"?self:typeof window<"u"?window:{});var Hu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var H_,Ka,q_,ic,hf,G_,K_,Q_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,_){return u==Array.prototype||u==Object.prototype||(u[m]=_.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Hu=="object"&&Hu];for(var m=0;m<u.length;++m){var _=u[m];if(_&&_.Math==Math)return _}throw Error("Cannot find global object")}var s=t(this);function o(u,m){if(m)e:{var _=s;u=u.split(".");for(var S=0;S<u.length-1;S++){var F=u[S];if(!(F in _))break e;_=_[F]}u=u[u.length-1],S=_[u],m=m(S),m!=S&&m!=null&&e(_,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var _=0,S=!1,F={next:function(){if(!S&&_<u.length){var q=_++;return{value:m(q,u[q]),done:!1}}return S=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,_){return _})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,_){return u.call.apply(u.bind,arguments)}function T(u,m,_){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,S),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function C(u,m,_){return C=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,C.apply(null,arguments)}function b(u,m){var _=Array.prototype.slice.call(arguments,1);return function(){var S=_.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function L(u,m){function _(){}_.prototype=m.prototype,u.aa=m.prototype,u.prototype=new _,u.prototype.constructor=u,u.Qb=function(S,F,q){for(var ie=Array(arguments.length-2),Ke=2;Ke<arguments.length;Ke++)ie[Ke-2]=arguments[Ke];return m.prototype[F].apply(S,ie)}}function M(u){const m=u.length;if(0<m){const _=Array(m);for(let S=0;S<m;S++)_[S]=u[S];return _}return[]}function k(u,m){for(let _=1;_<arguments.length;_++){const S=arguments[_];if(p(S)){const F=u.length||0,q=S.length||0;u.length=F+q;for(let ie=0;ie<q;ie++)u[F+ie]=S[ie]}else u.push(S)}}class W{constructor(m,_){this.i=m,this.j=_,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function G(u){return/^[\s\xa0]*$/.test(u)}function Q(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function ne(u){return ne[" "](u),u}ne[" "]=function(){};var ge=Q().indexOf("Gecko")!=-1&&!(Q().toLowerCase().indexOf("webkit")!=-1&&Q().indexOf("Edge")==-1)&&!(Q().indexOf("Trident")!=-1||Q().indexOf("MSIE")!=-1)&&Q().indexOf("Edge")==-1;function fe(u,m,_){for(const S in u)m.call(_,u[S],S,u)}function D(u,m){for(const _ in u)m.call(void 0,u[_],_,u)}function A(u){const m={};for(const _ in u)m[_]=u[_];return m}const P="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function N(u,m){let _,S;for(let F=1;F<arguments.length;F++){S=arguments[F];for(_ in S)u[_]=S[_];for(let q=0;q<P.length;q++)_=P[q],Object.prototype.hasOwnProperty.call(S,_)&&(u[_]=S[_])}}function x(u){var m=1;u=u.split(":");const _=[];for(;0<m&&u.length;)_.push(u.shift()),m--;return u.length&&_.push(u.join(":")),_}function j(u){f.setTimeout(()=>{throw u},0)}function I(){var u=we;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class le{constructor(){this.h=this.g=null}add(m,_){const S=oe.get();S.set(m,_),this.h?this.h.next=S:this.g=S,this.h=S}}var oe=new W(()=>new be,u=>u.reset());class be{constructor(){this.next=this.g=this.h=null}set(m,_){this.h=m,this.g=_,this.next=null}reset(){this.next=this.g=this.h=null}}let ke,re=!1,we=new le,ce=()=>{const u=f.Promise.resolve(void 0);ke=()=>{u.then(U)}};var U=()=>{for(var u;u=I();){try{u.h.call(u.g)}catch(_){j(_)}var m=oe;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}re=!1};function X(){this.s=this.s,this.C=this.C}X.prototype.s=!1,X.prototype.ma=function(){this.s||(this.s=!0,this.N())},X.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function _e(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}_e.prototype.h=function(){this.defaultPrevented=!0};var Ne=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const _=()=>{};f.addEventListener("test",_,m),f.removeEventListener("test",_,m)}catch{}return u})();function De(u,m){if(_e.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var _=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(ge){e:{try{ne(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else _=="mouseover"?m=u.fromElement:_=="mouseout"&&(m=u.toElement);this.relatedTarget=m,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:je[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&De.aa.h.call(this)}}L(De,_e);var je={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Me=0;function qe(u,m,_,S,F){this.listener=u,this.proxy=null,this.src=m,this.type=_,this.capture=!!S,this.ha=F,this.key=++Me,this.da=this.fa=!1}function ct(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Tn(u){this.src=u,this.g={},this.h=0}Tn.prototype.add=function(u,m,_,S,F){var q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);var ie=tr(u,m,S,F);return-1<ie?(m=u[ie],_||(m.fa=!1)):(m=new qe(m,this.src,q,!!S,F),m.fa=_,u.push(m)),m};function St(u,m){var _=m.type;if(_ in u.g){var S=u.g[_],F=Array.prototype.indexOf.call(S,m,void 0),q;(q=0<=F)&&Array.prototype.splice.call(S,F,1),q&&(ct(m),u.g[_].length==0&&(delete u.g[_],u.h--))}}function tr(u,m,_,S){for(var F=0;F<u.length;++F){var q=u[F];if(!q.da&&q.listener==m&&q.capture==!!_&&q.ha==S)return F}return-1}var Tr="closure_lm_"+(1e6*Math.random()|0),Jr={};function Zr(u,m,_,S,F){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Zr(u,m[q],_,S,F);return null}return _=es(_),u&&u[Oe]?u.K(m,_,v(S)?!!S.capture:!1,F):Ui(u,m,_,!1,S,F)}function Ui(u,m,_,S,F,q){if(!m)throw Error("Invalid event type");var ie=v(F)?!!F.capture:!!F,Ke=nt(u);if(Ke||(u[Tr]=Ke=new Tn(u)),_=Ke.add(m,_,S,ie,q),_.proxy)return _;if(S=tn(),_.proxy=S,S.src=u,S.listener=_,u.addEventListener)Ne||(F=ie),F===void 0&&(F=!1),u.addEventListener(m.toString(),S,F);else if(u.attachEvent)u.attachEvent(ae(m.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return _}function tn(){function u(_){return m.call(u.src,u.listener,_)}const m=Se;return u}function Ir(u,m,_,S,F){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ir(u,m[q],_,S,F);else S=v(S)?!!S.capture:!!S,_=es(_),u&&u[Oe]?(u=u.i,m=String(m).toString(),m in u.g&&(q=u.g[m],_=tr(q,_,S,F),-1<_&&(ct(q[_]),Array.prototype.splice.call(q,_,1),q.length==0&&(delete u.g[m],u.h--)))):u&&(u=nt(u))&&(m=u.g[m.toString()],u=-1,m&&(u=tr(m,_,S,F)),(_=-1<u?m[u]:null)&&K(_))}function K(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Oe])St(m.i,u);else{var _=u.type,S=u.proxy;m.removeEventListener?m.removeEventListener(_,S,u.capture):m.detachEvent?m.detachEvent(ae(_),S):m.addListener&&m.removeListener&&m.removeListener(S),(_=nt(m))?(St(_,u),_.h==0&&(_.src=null,m[Tr]=null)):ct(u)}}}function ae(u){return u in Jr?Jr[u]:Jr[u]="on"+u}function Se(u,m){if(u.da)u=!0;else{m=new De(m,this);var _=u.listener,S=u.ha||u.src;u.fa&&K(u),u=_.call(S,m)}return u}function nt(u){return u=u[Tr],u instanceof Tn?u:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function es(u){return typeof u=="function"?u:(u[Qe]||(u[Qe]=function(m){return u.handleEvent(m)}),u[Qe])}function Ye(){X.call(this),this.i=new Tn(this),this.M=this,this.F=null}L(Ye,X),Ye.prototype[Oe]=!0,Ye.prototype.removeEventListener=function(u,m,_,S){Ir(this,u,m,_,S)};function Ct(u,m){var _,S=u.F;if(S)for(_=[];S;S=S.F)_.push(S);if(u=u.M,S=m.type||m,typeof m=="string")m=new _e(m,u);else if(m instanceof _e)m.target=m.target||u;else{var F=m;m=new _e(S,u),N(m,F)}if(F=!0,_)for(var q=_.length-1;0<=q;q--){var ie=m.g=_[q];F=Sr(ie,S,!0,m)&&F}if(ie=m.g=u,F=Sr(ie,S,!0,m)&&F,F=Sr(ie,S,!1,m)&&F,_)for(q=0;q<_.length;q++)ie=m.g=_[q],F=Sr(ie,S,!1,m)&&F}Ye.prototype.N=function(){if(Ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var _=u.g[m],S=0;S<_.length;S++)ct(_[S]);delete u.g[m],u.h--}}this.F=null},Ye.prototype.K=function(u,m,_,S){return this.i.add(String(u),m,!1,_,S)},Ye.prototype.L=function(u,m,_,S){return this.i.add(String(u),m,!0,_,S)};function Sr(u,m,_,S){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,q=0;q<m.length;++q){var ie=m[q];if(ie&&!ie.da&&ie.capture==_){var Ke=ie.listener,At=ie.ha||ie.src;ie.fa&&St(u.i,ie),F=Ke.call(At,S)!==!1&&F}}return F&&!S.defaultPrevented}function ta(u,m,_){if(typeof u=="function")_&&(u=C(u,_));else if(u&&typeof u.handleEvent=="function")u=C(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function ts(u){u.g=ta(()=>{u.g=null,u.i&&(u.i=!1,ts(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Xs extends X{constructor(m,_){super(),this.m=m,this.l=_,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ts(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Js(u){X.call(this),this.h=u,this.g={}}L(Js,X);var na=[];function ra(u){fe(u.g,function(m,_){this.g.hasOwnProperty(_)&&K(m)},u),u.g={}}Js.prototype.N=function(){Js.aa.N.call(this),ra(this)},Js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sa=f.JSON.stringify,ia=f.JSON.parse,oa=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function Zs(){}Zs.prototype.h=null;function Fi(u){return u.h||(u.h=u.i())}function zi(){}var In={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function nr(){_e.call(this,"d")}L(nr,_e);function Bi(){_e.call(this,"c")}L(Bi,_e);var rr={},aa=null;function ei(){return aa=aa||new Ye}rr.La="serverreachability";function la(u){_e.call(this,rr.La,u)}L(la,_e);function Cr(u){const m=ei();Ct(m,new la(m))}rr.STAT_EVENT="statevent";function ua(u,m){_e.call(this,rr.STAT_EVENT,u),this.stat=m}L(ua,_e);function ft(u){const m=ei();Ct(m,new ua(m,u))}rr.Ma="timingevent";function $i(u,m){_e.call(this,rr.Ma,u),this.size=m}L($i,_e);function Ln(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function ti(){this.g=!0}ti.prototype.xa=function(){this.g=!1};function ni(u,m,_,S,F,q){u.info(function(){if(u.g)if(q)for(var ie="",Ke=q.split("&"),At=0;At<Ke.length;At++){var Be=Ke[At].split("=");if(1<Be.length){var Nt=Be[0];Be=Be[1];var _t=Nt.split("_");ie=2<=_t.length&&_t[1]=="type"?ie+(Nt+"="+Be+"&"):ie+(Nt+"=redacted&")}}else ie=null;else ie=q;return"XMLHTTP REQ ("+S+") [attempt "+F+"]: "+m+`
`+_+`
`+ie})}function Wi(u,m,_,S,F,q,ie){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+F+"]: "+m+`
`+_+`
`+q+" "+ie})}function jn(u,m,_,S){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+oh(u,_)+(S?" "+S:"")})}function ca(u,m){u.info(function(){return"TIMEOUT: "+m})}ti.prototype.info=function(){};function oh(u,m){if(!u.g)return m;if(!m)return null;try{var _=JSON.parse(m);if(_){for(u=0;u<_.length;u++)if(Array.isArray(_[u])){var S=_[u];if(!(2>S.length)){var F=S[1];if(Array.isArray(F)&&!(1>F.length)){var q=F[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return sa(_)}catch{return m}}var Hi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function ri(){}L(ri,Zs),ri.prototype.g=function(){return new XMLHttpRequest},ri.prototype.i=function(){return{}},Mn=new ri;function Un(u,m,_,S){this.j=u,this.i=m,this.l=_,this.R=S||1,this.U=new Js(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new kl}function kl(){this.i=null,this.g="",this.h=!1}var ha={},qi={};function Gi(u,m,_){u.L=1,u.v=os(mn(m)),u.m=_,u.P=!0,da(u,null)}function da(u,m){u.F=Date.now(),Ze(u),u.A=mn(u.v);var _=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),ls(_.i,"t",S),u.C=0,_=u.j.J,u.h=new kl,u.g=Kl(u.j,_?m:null,!u.m),0<u.O&&(u.M=new Xs(C(u.Y,u,u.g),u.O)),m=u.U,_=u.g,S=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(na[0]=F.toString()),F=na);for(var q=0;q<F.length;q++){var ie=Zr(_,F[q],S||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?A(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Cr(),ni(u.i,u.u,u.A,u.l,u.R,u.m)}Un.prototype.ca=function(u){u=u.target;const m=this.M;m&&rn(u)==3?m.j():this.Y(u)},Un.prototype.Y=function(u){try{if(u==this.g)e:{const _t=rn(this.g);var m=this.g.Ba();const An=this.g.Z();if(!(3>_t)&&(_t!=3||this.g&&(this.h.h||this.g.oa()||va(this.g)))){this.J||_t!=4||m==7||(m==8||0>=An?Cr(3):Cr(2)),si(this);var _=this.g.Z();this.X=_;t:if(Nl(this)){var S=va(this.g);u="";var F=S.length,q=rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Sn(this),ns(this);var ie="";break t}this.h.i=new f.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(S[m],{stream:!(q&&m==F-1)});S.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=_==200,Wi(this.i,this.u,this.A,this.l,this.R,_t,_),this.o){if(this.T&&!this.K){t:{if(this.g){var Ke,At=this.g;if((Ke=At.g?At.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Ke)){var Be=Ke;break t}}Be=null}if(_=Be)jn(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,_);else{this.o=!1,this.s=3,ft(12),Sn(this),ns(this);break e}}if(this.P){_=!0;let yn;for(;!this.J&&this.C<ie.length;)if(yn=ah(this,ie),yn==qi){_t==4&&(this.s=4,ft(14),_=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(yn==ha){this.s=4,ft(15),jn(this.i,this.l,ie,"[Invalid Chunk]"),_=!1;break}else jn(this.i,this.l,yn,null),fa(this,yn);if(Nl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_t!=4||ie.length!=0||this.h.h||(this.s=1,ft(16),_=!1),this.o=this.o&&_,!_)jn(this.i,this.l,ie,"[Invalid Chunked Response]"),Sn(this),ns(this);else if(0<ie.length&&!this.W){this.W=!0;var Nt=this.j;Nt.g==this&&Nt.ba&&!Nt.M&&(Nt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),wa(Nt),Nt.M=!0,ft(11))}}else jn(this.i,this.l,ie,null),fa(this,ie);_t==4&&Sn(this),this.o&&!this.J&&(_t==4?so(this.j,this):(this.o=!1,Ze(this)))}else Zi(this.g),_==400&&0<ie.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),Sn(this),ns(this)}}}catch{}finally{}};function Nl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ah(u,m){var _=u.C,S=m.indexOf(`
`,_);return S==-1?qi:(_=Number(m.substring(_,S)),isNaN(_)?ha:(S+=1,S+_>m.length?qi:(m=m.slice(S,S+_),u.C=S+_,m)))}Un.prototype.cancel=function(){this.J=!0,Sn(this)};function Ze(u){u.S=Date.now()+u.I,Dl(u,u.I)}function Dl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ln(C(u.ba,u),m)}function si(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Un.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ca(this.i,this.A),this.L!=2&&(Cr(),ft(17)),Sn(this),this.s=2,ns(this)):Dl(this,this.S-u)};function ns(u){u.j.G==0||u.J||so(u.j,u)}function Sn(u){si(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ra(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function fa(u,m){try{var _=u.j;if(_.G!=0&&(_.g==u||Xt(_.h,u))){if(!u.K&&Xt(_.h,u)&&_.G==3){try{var S=_.Da.g.parse(m)}catch{S=null}if(Array.isArray(S)&&S.length==3){var F=S;if(F[0]==0){e:if(!_.u){if(_.g)if(_.g.F+3e3<u.F)ro(_),Wn(_);else break e;no(_),ft(18)}}else _.za=F[1],0<_.za-_.T&&37500>F[2]&&_.F&&_.v==0&&!_.C&&(_.C=Ln(C(_.Za,_),6e3));if(1>=Ol(_.h)&&_.ca){try{_.ca()}catch{}_.ca=void 0}}else kr(_,11)}else if((u.K||_.g==u)&&ro(_),!G(m))for(F=_.Da.g.parse(m),m=0;m<F.length;m++){let Be=F[m];if(_.T=Be[0],Be=Be[1],_.G==2)if(Be[0]=="c"){_.K=Be[1],_.ia=Be[2];const Nt=Be[3];Nt!=null&&(_.la=Nt,_.j.info("VER="+_.la));const _t=Be[4];_t!=null&&(_.Aa=_t,_.j.info("SVER="+_.Aa));const An=Be[5];An!=null&&typeof An=="number"&&0<An&&(S=1.5*An,_.L=S,_.j.info("backChannelRequestTimeoutMs_="+S)),S=_;const yn=u.g;if(yn){const hi=yn.g?yn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(hi){var q=S.h;q.g||hi.indexOf("spdy")==-1&&hi.indexOf("quic")==-1&&hi.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(pa(q,q.h),q.h=null))}if(S.D){const oo=yn.g?yn.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(S.ya=oo,Je(S.I,S.D,oo))}}_.G=3,_.l&&_.l.ua(),_.ba&&(_.R=Date.now()-u.F,_.j.info("Handshake RTT: "+_.R+"ms")),S=_;var ie=u;if(S.qa=Gl(S,S.J?S.ia:null,S.W),ie.K){Vl(S.h,ie);var Ke=ie,At=S.L;At&&(Ke.I=At),Ke.B&&(si(Ke),Ze(Ke)),S.g=ie}else ci(S);0<_.i.length&&ar(_)}else Be[0]!="stop"&&Be[0]!="close"||kr(_,7);else _.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?kr(_,7):jt(_):Be[0]!="noop"&&_.l&&_.l.ta(Be),_.v=0)}}Cr(4)}catch{}}var bl=class{constructor(u,m){this.g=u,this.map=m}};function ii(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pn(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ol(u){return u.h?1:u.g?u.g.size:0}function Xt(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function pa(u,m){u.g?u.g.add(m):u.h=m}function Vl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}ii.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ll(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const _ of u.g.values())m=m.concat(_.D);return m}return M(u.i)}function Ki(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],_=u.length,S=0;S<_;S++)m.push(u[S]);return m}m=[],_=0;for(S in u)m[_++]=u[S];return m}function Qi(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var _=0;_<u;_++)m.push(_);return m}m=[],_=0;for(const S in u)m[_++]=S;return m}}}function rs(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var _=Qi(u),S=Ki(u),F=S.length,q=0;q<F;q++)m.call(void 0,S[q],_&&_[q],u)}var oi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lh(u,m){if(u){u=u.split("&");for(var _=0;_<u.length;_++){var S=u[_].indexOf("="),F=null;if(0<=S){var q=u[_].substring(0,S);F=u[_].substring(S+1)}else q=u[_];m(q,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ar(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof Ar){this.h=u.h,ai(this,u.j),this.o=u.o,this.g=u.g,ss(this,u.s),this.l=u.l;var m=u.i,_=new sr;_.i=m.i,m.g&&(_.g=new Map(m.g),_.h=m.h),is(this,_),this.m=u.m}else u&&(m=String(u).match(oi))?(this.h=!1,ai(this,m[1]||"",!0),this.o=ze(m[2]||""),this.g=ze(m[3]||"",!0),ss(this,m[4]),this.l=ze(m[5]||"",!0),is(this,m[6]||"",!0),this.m=ze(m[7]||"")):(this.h=!1,this.i=new sr(null,this.h))}Ar.prototype.toString=function(){var u=[],m=this.j;m&&u.push(as(m,Yi,!0),":");var _=this.g;return(_||m=="file")&&(u.push("//"),(m=this.o)&&u.push(as(m,Yi,!0),"@"),u.push(encodeURIComponent(String(_)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_=this.s,_!=null&&u.push(":",String(_))),(_=this.l)&&(this.g&&_.charAt(0)!="/"&&u.push("/"),u.push(as(_,_.charAt(0)=="/"?Ul:Ml,!0))),(_=this.i.toString())&&u.push("?",_),(_=this.m)&&u.push("#",as(_,ma)),u.join("")};function mn(u){return new Ar(u)}function ai(u,m,_){u.j=_?ze(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ss(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function is(u,m,_){m instanceof sr?(u.i=m,ir(u.i,u.h)):(_||(m=as(m,Fl)),u.i=new sr(m,u.h))}function Je(u,m,_){u.i.set(m,_)}function os(u){return Je(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ze(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function as(u,m,_){return typeof u=="string"?(u=encodeURI(u).replace(m,jl),_&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function jl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Yi=/[#\/\?@]/g,Ml=/[#\?:]/g,Ul=/[#\?]/g,Fl=/[#\?@]/g,ma=/#/g;function sr(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Lt(u){u.g||(u.g=new Map,u.h=0,u.i&&lh(u.i,function(m,_){u.add(decodeURIComponent(m.replace(/\+/g," ")),_)}))}n=sr.prototype,n.add=function(u,m){Lt(this),this.i=null,u=Cn(this,u);var _=this.g.get(u);return _||this.g.set(u,_=[]),_.push(m),this.h+=1,this};function Fn(u,m){Lt(u),m=Cn(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zn(u,m){return Lt(u),m=Cn(u,m),u.g.has(m)}n.forEach=function(u,m){Lt(this),this.g.forEach(function(_,S){_.forEach(function(F){u.call(m,F,S,this)},this)},this)},n.na=function(){Lt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),_=[];for(let S=0;S<m.length;S++){const F=u[S];for(let q=0;q<F.length;q++)_.push(m[S])}return _},n.V=function(u){Lt(this);let m=[];if(typeof u=="string")zn(this,u)&&(m=m.concat(this.g.get(Cn(this,u))));else{u=Array.from(this.g.values());for(let _=0;_<u.length;_++)m=m.concat(u[_])}return m},n.set=function(u,m){return Lt(this),this.i=null,u=Cn(this,u),zn(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},n.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ls(u,m,_){Fn(u,m),0<_.length&&(u.i=null,u.g.set(Cn(u,m),M(_)),u.h+=_.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var _=0;_<m.length;_++){var S=m[_];const q=encodeURIComponent(String(S)),ie=this.V(S);for(S=0;S<ie.length;S++){var F=q;ie[S]!==""&&(F+="="+encodeURIComponent(String(ie[S]))),u.push(F)}}return this.i=u.join("&")};function Cn(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ir(u,m){m&&!u.j&&(Lt(u),u.i=null,u.g.forEach(function(_,S){var F=S.toLowerCase();S!=F&&(Fn(this,S),ls(this,F,_))},u)),u.j=m}function uh(u,m){const _=new ti;if(f.Image){const S=new Image;S.onload=b(nn,_,"TestLoadImage: loaded",!0,m,S),S.onerror=b(nn,_,"TestLoadImage: error",!1,m,S),S.onabort=b(nn,_,"TestLoadImage: abort",!1,m,S),S.ontimeout=b(nn,_,"TestLoadImage: timeout",!1,m,S),f.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else m(!1)}function zl(u,m){const _=new ti,S=new AbortController,F=setTimeout(()=>{S.abort(),nn(_,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:S.signal}).then(q=>{clearTimeout(F),q.ok?nn(_,"TestPingServer: ok",!0,m):nn(_,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),nn(_,"TestPingServer: error",!1,m)})}function nn(u,m,_,S,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),S(_)}catch{}}function ch(){this.g=new oa}function Bl(u,m,_){const S=_||"";try{rs(u,function(F,q){let ie=F;v(F)&&(ie=sa(F)),m.push(S+q+"="+encodeURIComponent(ie))})}catch(F){throw m.push(S+"type="+encodeURIComponent("_badmap")),F}}function Pr(u){this.l=u.Ub||null,this.j=u.eb||!1}L(Pr,Zs),Pr.prototype.g=function(){return new li(this.l,this.j)},Pr.prototype.i=(function(u){return function(){return u}})({});function li(u,m){Ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}L(li,Ye),n=li.prototype,n.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,$n(this)},n.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Bn(this)),this.readyState=0},n.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,$n(this)),this.g&&(this.readyState=3,$n(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;$l(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function $l(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}n.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Bn(this):$n(this),this.readyState==3&&$l(this)}},n.Ra=function(u){this.g&&(this.response=this.responseText=u,Bn(this))},n.Qa=function(u){this.g&&(this.response=u,Bn(this))},n.ga=function(){this.g&&Bn(this)};function Bn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,$n(u)}n.setRequestHeader=function(u,m){this.u.append(u,m)},n.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var _=m.next();!_.done;)_=_.value,u.push(_[0]+": "+_[1]),_=m.next();return u.join(`\r
`)};function $n(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(li.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rr(u){let m="";return fe(u,function(_,S){m+=S,m+=":",m+=_,m+=`\r
`}),m}function us(u,m,_){e:{for(S in _){var S=!1;break e}S=!0}S||(_=Rr(_),typeof u=="string"?_!=null&&encodeURIComponent(String(_)):Je(u,m,_))}function it(u){Ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}L(it,Ye);var hh=/^https?$/i,ga=["POST","PUT"];n=it.prototype,n.Ha=function(u){this.J=u},n.ea=function(u,m,_,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?Fi(this.o):Fi(Mn),this.g.onreadystatechange=C(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){ui(this,q);return}if(u=_||"",_=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var F in S)_.set(F,S[F]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const q of S.keys())_.set(q,S.get(q));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(_.keys()).find(q=>q.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ga,m,void 0))||S||F||_.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ie]of _)this.g.setRequestHeader(q,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ji(this),this.u=!0,this.g.send(u),this.u=!1}catch(q){ui(this,q)}};function ui(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Xi(u),gn(u)}function Xi(u){u.A||(u.A=!0,Ct(u,"complete"),Ct(u,"error"))}n.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ct(this,"complete"),Ct(this,"abort"),gn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),gn(this,!0)),it.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},n.bb=function(){ya(this)};function ya(u){if(u.h&&typeof h<"u"&&(!u.v[1]||rn(u)!=4||u.Z()!=2)){if(u.u&&rn(u)==4)ta(u.Ea,0,u);else if(Ct(u,"readystatechange"),rn(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var _;if(!(_=m)){var S;if(S=ie===0){var F=String(u.D).match(oi)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),S=!hh.test(F?F.toLowerCase():"")}_=S}if(_)Ct(u,"complete"),Ct(u,"success");else{u.m=6;try{var q=2<rn(u)?u.g.statusText:""}catch{q=""}u.l=q+" ["+u.Z()+"]",Xi(u)}}finally{gn(u)}}}}function gn(u,m){if(u.g){Ji(u);const _=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Ct(u,"ready");try{_.onreadystatechange=S}catch{}}}function Ji(u){u.I&&(f.clearTimeout(u.I),u.I=null)}n.isActive=function(){return!!this.g};function rn(u){return u.g?u.g.readyState:0}n.Z=function(){try{return 2<rn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),ia(m)}};function va(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const m={};u=(u.g&&2<=rn(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(G(u[S]))continue;var _=x(u[S]);const F=_[0];if(_=_[1],typeof _!="string")continue;_=_.trim();const q=m[F]||[];m[F]=q,q.push(_)}D(m,function(S){return S.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function or(u,m,_){return _&&_.internalChannelParams&&_.internalChannelParams[u]||m}function _a(u){this.Aa=0,this.i=[],this.j=new ti,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=or("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=or("baseRetryDelayMs",5e3,u),this.cb=or("retryDelaySeedMs",1e4,u),this.Wa=or("forwardChannelMaxRetries",2,u),this.wa=or("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new ii(u&&u.concurrentRequestLimit),this.Da=new ch,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=_a.prototype,n.la=8,n.G=1,n.connect=function(u,m,_,S){ft(0),this.W=u,this.H=m||{},_&&S!==void 0&&(this.H.OSID=_,this.H.OAID=S),this.F=this.X,this.I=Gl(this,null,this.W),ar(this)};function jt(u){if(eo(u),u.G==3){var m=u.U++,_=mn(u.I);if(Je(_,"SID",u.K),Je(_,"RID",m),Je(_,"TYPE","terminate"),xr(u,_),m=new Un(u,u.j,m),m.L=2,m.v=os(mn(_)),_=!1,f.navigator&&f.navigator.sendBeacon)try{_=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!_&&f.Image&&(new Image().src=m.v,_=!0),_||(m.g=Kl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ze(m)}ql(u)}function Wn(u){u.g&&(wa(u),u.g.cancel(),u.g=null)}function eo(u){Wn(u),u.u&&(f.clearTimeout(u.u),u.u=null),ro(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function ar(u){if(!pn(u.h)&&!u.s){u.s=!0;var m=u.Ga;ke||ce(),re||(ke(),re=!0),we.add(m,u),u.B=0}}function dh(u,m){return Ol(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ln(C(u.Ga,u,m),Hl(u,u.B)),u.B++,!0)}n.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Un(this,this.j,u);let q=this.o;if(this.S&&(q?(q=A(q),N(q,this.S)):q=this.S),this.m!==null||this.O||(F.H=q,q=null),this.P)e:{for(var m=0,_=0;_<this.i.length;_++){t:{var S=this.i[_];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(m+=S,4096<m){m=_;break e}if(m===4096||_===this.i.length-1){m=_+1;break e}}m=1e3}else m=1e3;m=cs(this,F,m),_=mn(this.I),Je(_,"RID",u),Je(_,"CVER",22),this.D&&Je(_,"X-HTTP-Session-Id",this.D),xr(this,_),q&&(this.O?m="headers="+encodeURIComponent(String(Rr(q)))+"&"+m:this.m&&us(_,this.m,q)),pa(this.h,F),this.Ua&&Je(_,"TYPE","init"),this.P?(Je(_,"$req",m),Je(_,"SID","null"),F.T=!0,Gi(F,_,null)):Gi(F,_,m),this.G=2}}else this.G==3&&(u?to(this,u):this.i.length==0||pn(this.h)||to(this))};function to(u,m){var _;m?_=m.l:_=u.U++;const S=mn(u.I);Je(S,"SID",u.K),Je(S,"RID",_),Je(S,"AID",u.T),xr(u,S),u.m&&u.o&&us(S,u.m,u.o),_=new Un(u,u.j,_,u.B+1),u.m===null&&(_.H=u.o),m&&(u.i=m.D.concat(u.i)),m=cs(u,_,1e3),_.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pa(u.h,_),Gi(_,S,m)}function xr(u,m){u.H&&fe(u.H,function(_,S){Je(m,S,_)}),u.l&&rs({},function(_,S){Je(m,S,_)})}function cs(u,m,_){_=Math.min(u.i.length,_);var S=u.l?C(u.l.Na,u.l,u):null;e:{var F=u.i;let q=-1;for(;;){const ie=["count="+_];q==-1?0<_?(q=F[0].g,ie.push("ofs="+q)):q=0:ie.push("ofs="+q);let Ke=!0;for(let At=0;At<_;At++){let Be=F[At].g;const Nt=F[At].map;if(Be-=q,0>Be)q=Math.max(0,F[At].g-100),Ke=!1;else try{Bl(Nt,ie,"req"+Be+"_")}catch{S&&S(Nt)}}if(Ke){S=ie.join("&");break e}}}return u=u.i.splice(0,_),m.D=u,S}function ci(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ke||ce(),re||(ke(),re=!0),we.add(m,u),u.v=0}}function no(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ln(C(u.Fa,u),Hl(u,u.v)),u.v++,!0)}n.Fa=function(){if(this.u=null,Wl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ln(C(this.ab,this),u)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Wn(this),Wl(this))};function wa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function Wl(u){u.g=new Un(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=mn(u.qa);Je(m,"RID","rpc"),Je(m,"SID",u.K),Je(m,"AID",u.T),Je(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&Je(m,"TO",u.ja),Je(m,"TYPE","xmlhttp"),xr(u,m),u.m&&u.o&&us(m,u.m,u.o),u.L&&(u.g.I=u.L);var _=u.g;u=u.ia,_.L=1,_.v=os(mn(m)),_.m=null,_.P=!0,da(_,u)}n.Za=function(){this.C!=null&&(this.C=null,Wn(this),no(this),ft(19))};function ro(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function so(u,m){var _=null;if(u.g==m){ro(u),wa(u),u.g=null;var S=2}else if(Xt(u.h,m))_=m.D,Vl(u.h,m),S=1;else return;if(u.G!=0){if(m.o)if(S==1){_=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;S=ei(),Ct(S,new $i(S,_)),ar(u)}else ci(u);else if(F=m.s,F==3||F==0&&0<m.X||!(S==1&&dh(u,m)||S==2&&no(u)))switch(_&&0<_.length&&(m=u.h,m.i=m.i.concat(_)),F){case 1:kr(u,5);break;case 4:kr(u,10);break;case 3:kr(u,6);break;default:kr(u,2)}}}function Hl(u,m){let _=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(_*=2),_*m}function kr(u,m){if(u.j.info("Error code "+m),m==2){var _=C(u.fb,u),S=u.Xa;const F=!S;S=new Ar(S||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||ai(S,"https"),os(S),F?uh(S.toString(),_):zl(S.toString(),_)}else ft(2);u.G=0,u.l&&u.l.sa(m),ql(u),eo(u)}n.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function ql(u){if(u.G=0,u.ka=[],u.l){const m=Ll(u.h);(m.length!=0||u.i.length!=0)&&(k(u.ka,m),k(u.ka,u.i),u.h.i.length=0,M(u.i),u.i.length=0),u.l.ra()}}function Gl(u,m,_){var S=_ instanceof Ar?mn(_):new Ar(_);if(S.g!="")m&&(S.g=m+"."+S.g),ss(S,S.s);else{var F=f.location;S=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var q=new Ar(null);S&&ai(q,S),m&&(q.g=m),F&&ss(q,F),_&&(q.l=_),S=q}return _=u.D,m=u.ya,_&&m&&Je(S,_,m),Je(S,"VER",u.la),xr(u,S),S}function Kl(u,m,_){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new it(new Pr({eb:_})):new it(u.pa),m.Ha(u.J),m}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ea(){}n=Ea.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function io(){}io.prototype.g=function(u,m){return new Jt(u,m)};function Jt(u,m){Ye.call(this),this.g=new _a(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!G(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!G(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new lr(this)}L(Jt,Ye),Jt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Jt.prototype.close=function(){jt(this.g)},Jt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var _={};_.__data__=u,u=_}else this.u&&(_={},_.__data__=sa(u),u=_);m.i.push(new bl(m.Ya++,u)),m.G==3&&ar(m)},Jt.prototype.N=function(){this.g.l=null,delete this.j,jt(this.g),delete this.g,Jt.aa.N.call(this)};function Ql(u){nr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const _ in m){u=_;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}L(Ql,nr);function Yl(){Bi.call(this),this.status=1}L(Yl,Bi);function lr(u){this.g=u}L(lr,Ea),lr.prototype.ua=function(){Ct(this.g,"a")},lr.prototype.ta=function(u){Ct(this.g,new Ql(u))},lr.prototype.sa=function(u){Ct(this.g,new Yl)},lr.prototype.ra=function(){Ct(this.g,"b")},io.prototype.createWebChannel=io.prototype.g,Jt.prototype.send=Jt.prototype.o,Jt.prototype.open=Jt.prototype.m,Jt.prototype.close=Jt.prototype.close,Q_=function(){return new io},K_=function(){return ei()},G_=rr,hf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Hi.NO_ERROR=0,Hi.TIMEOUT=8,Hi.HTTP_ERROR=6,ic=Hi,xl.COMPLETE="complete",q_=xl,zi.EventType=In,In.OPEN="a",In.CLOSE="b",In.ERROR="c",In.MESSAGE="d",Ye.prototype.listen=Ye.prototype.K,Ka=zi,it.prototype.listenOnce=it.prototype.L,it.prototype.getLastError=it.prototype.Ka,it.prototype.getLastErrorCode=it.prototype.Ba,it.prototype.getStatus=it.prototype.Z,it.prototype.getResponseJson=it.prototype.Oa,it.prototype.getResponseText=it.prototype.oa,it.prototype.send=it.prototype.ea,it.prototype.setWithCredentials=it.prototype.Ha,H_=it}).apply(typeof Hu<"u"?Hu:typeof self<"u"?self:typeof window<"u"?window:{});const Ly="@firebase/firestore",jy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Kt.UNAUTHENTICATED=new Kt(null),Kt.GOOGLE_CREDENTIALS=new Kt("google-credentials-uid"),Kt.FIRST_PARTY=new Kt("first-party-uid"),Kt.MOCK_USER=new Kt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Di=new Lf("@firebase/firestore");function Ro(){return Di.logLevel}function de(n,...e){if(Di.logLevel<=Ue.DEBUG){const t=e.map(Kf);Di.debug(`Firestore (${Xo}): ${n}`,...t)}}function qr(n,...e){if(Di.logLevel<=Ue.ERROR){const t=e.map(Kf);Di.error(`Firestore (${Xo}): ${n}`,...t)}}function Us(n,...e){if(Di.logLevel<=Ue.WARN){const t=e.map(Kf);Di.warn(`Firestore (${Xo}): ${n}`,...t)}}function Kf(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(n,e,t){let s="Unexpected state";typeof e=="string"?s=e:t=e,Y_(n,s,t)}function Y_(n,e,t){let s=`FIRESTORE (${Xo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{s+=" CONTEXT: "+JSON.stringify(t)}catch{s+=" CONTEXT: "+t}throw qr(s),new Error(s)}function Ge(n,e,t,s){let o="Unexpected state";typeof t=="string"?o=t:s=t,n||Y_(e,o,s)}function xe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends Yr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class qC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Kt.UNAUTHENTICATED)))}shutdown(){}}class GC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class KC{constructor(e){this.t=e,this.currentUser=Kt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,t(p)):Promise.resolve();let l=new Br;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Br,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Br)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((s=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new X_(s.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new Kt(e)}}class QC{constructor(e,t,s){this.P=e,this.T=t,this.I=s,this.type="FirstParty",this.user=Kt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class YC{constructor(e,t,s){this.P=e,this.T=t,this.I=s}getToken(){return Promise.resolve(new QC(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Kt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class My{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class XC{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,bn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ge(this.o===void 0,3512);const s=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>s(l)))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new My(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(Ge(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new My(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let s=0;s<n;s++)t[s]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function J_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=JC(40);for(let l=0;l<o.length;++l)s.length<20&&o[l]<t&&(s+=e.charAt(o[l]%62))}return s}}function Ve(n,e){return n<e?-1:n>e?1:0}function df(n,e){let t=0;for(;t<n.length&&t<e.length;){const s=n.codePointAt(t),o=e.codePointAt(t);if(s!==o){if(s<128&&o<128)return Ve(s,o);{const l=J_(),h=ZC(l.encode(Uy(n,t)),l.encode(Uy(e,t)));return h!==0?h:Ve(s,o)}}t+=s>65535?2:1}return Ve(n.length,e.length)}function Uy(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function ZC(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Ve(n[t],e[t]);return Ve(n.length,e.length)}function Uo(n,e,t){return n.length===e.length&&n.every(((s,o)=>t(s,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="__name__";class fr{constructor(e,t,s){t===void 0?t=0:t>e.length&&Ae(637,{offset:t,range:e.length}),s===void 0?s=e.length-t:s>e.length-t&&Ae(1746,{length:s,range:e.length-t}),this.segments=e,this.offset=t,this.len=s}get length(){return this.len}isEqual(e){return fr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof fr?e.forEach((s=>{t.push(s)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,s=this.limit();t<s;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const s=Math.min(e.length,t.length);for(let o=0;o<s;o++){const l=fr.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ve(e.length,t.length)}static compareSegments(e,t){const s=fr.isNumericId(e),o=fr.isNumericId(t);return s&&!o?-1:!s&&o?1:s&&o?fr.extractNumericId(e).compare(fr.extractNumericId(t)):df(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return js.fromString(e.substring(4,e.length-2))}}class tt extends fr{construct(e,t,s){return new tt(e,t,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const s of e){if(s.indexOf("//")>=0)throw new ue(Y.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);t.push(...s.split("/").filter((o=>o.length>0)))}return new tt(t)}static emptyPath(){return new tt([])}}const eA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends fr{construct(e,t,s){return new zt(e,t,s)}static isValidIdentifier(e){return eA.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Fy}static keyField(){return new zt([Fy])}static fromServerFormat(e){const t=[];let s="",o=0;const l=()=>{if(s.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(s),s=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ue(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ue(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(s+=f,o++):(l(),o++)}if(l(),h)throw new ue(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new zt(t)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ee{constructor(e){this.path=e}static fromPath(e){return new Ee(tt.fromString(e))}static fromName(e){return new Ee(tt.fromString(e).popFirst(5))}static empty(){return new Ee(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ee(new tt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z_(n,e,t){if(!t)throw new ue(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tA(n,e,t,s){if(e===!0&&s===!0)throw new ue(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function zy(n){if(!Ee.isDocumentKey(n))throw new ue(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function By(n){if(Ee.isDocumentKey(n))throw new ue(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function ew(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function Fc(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(s){return s.constructor?s.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ae(12329,{type:typeof n})}function fn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Fc(n);throw new ue(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(n,e){const t={typeString:n};return e&&(t.value=e),t}function El(n,e){if(!ew(n))throw new ue(Y.INVALID_ARGUMENT,"JSON must be an object");let t;for(const s in e)if(e[s]){const o=e[s].typeString,l="value"in e[s]?{value:e[s].value}:void 0;if(!(s in n)){t=`JSON missing required field: '${s}'`;break}const h=n[s];if(o&&typeof h!==o){t=`JSON field '${s}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${s}' field to equal '${l.value}'`;break}}if(t)throw new ue(Y.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=-62135596800,Wy=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(e){return Xe.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),s=Math.floor((e-1e3*t)*Wy);return new Xe(t,s)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<$y)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Wy}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(El(e,Xe._jsonSchema))return new Xe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$y;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:It("string",Xe._jsonSchemaVersion),seconds:It("number"),nanoseconds:It("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Re{static fromTimestamp(e){return new Re(e)}static min(){return new Re(new Xe(0,0))}static max(){return new Re(new Xe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=-1;function nA(n,e){const t=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,o=Re.fromTimestamp(s===1e9?new Xe(t+1,0):new Xe(t,s));return new Fs(o,Ee.empty(),e)}function rA(n){return new Fs(n.readTime,n.key,ul)}class Fs{constructor(e,t,s){this.readTime=e,this.documentKey=t,this.largestBatchId=s}static min(){return new Fs(Re.min(),Ee.empty(),ul)}static max(){return new Fs(Re.max(),Ee.empty(),ul)}}function sA(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Ee.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class oA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jo(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==iA)throw n;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ae(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new J(((s,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(s,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(s,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof J?t:J.resolve(t)}catch(t){return J.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):J.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):J.reject(t)}static resolve(e){return new J(((t,s)=>{t(e)}))}static reject(e){return new J(((t,s)=>{s(e)}))}static waitFor(e){return new J(((t,s)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(p=>s(p)))})),h=!0,l===o&&t()}))}static or(e){let t=J.resolve(!1);for(const s of e)t=t.next((o=>o?J.resolve(o):s()));return t}static forEach(e,t){const s=[];return e.forEach(((o,l)=>{s.push(t.call(this,o,l))})),this.waitFor(s)}static mapArray(e,t){return new J(((s,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const v=p;t(e[v]).next((w=>{h[v]=w,++f,f===l&&s(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new J(((s,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):s()};l()}))}}function aA(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Zo(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=s=>this._e(s),this.ae=s=>t.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}zc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf=-1;function Bc(n){return n==null}function Ec(n){return n===0&&1/n==-1/0}function lA(n){return typeof n=="number"&&Number.isInteger(n)&&!Ec(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="";function uA(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Hy(e)),e=cA(n.get(t),e);return Hy(e)}function cA(n,e){let t=e;const s=n.length;for(let o=0;o<s;o++){const l=n.charAt(o);switch(l){case"\0":t+="";break;case tw:t+="";break;default:t+=l}}return t}function Hy(n){return n+tw+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ks(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function nw(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,t){this.comparator=e,this.root=t||Ft.EMPTY}insert(e,t){return new ut(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ft.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ft.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const s=this.comparator(e,t.key);if(s===0)return t.value;s<0?t=t.left:s>0&&(t=t.right)}return null}indexOf(e){let t=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return t+s.left.size;o<0?s=s.left:(t+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,s)=>(e(t,s),!1)))}toString(){const e=[];return this.inorderTraversal(((t,s)=>(e.push(`${t}:${s}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qu(this.root,e,this.comparator,!1)}getReverseIterator(){return new qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qu(this.root,e,this.comparator,!0)}}class qu{constructor(e,t,s,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?s(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ft{constructor(e,t,s,o,l){this.key=e,this.value=t,this.color=s??Ft.RED,this.left=o??Ft.EMPTY,this.right=l??Ft.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,s,o,l){return new Ft(e??this.key,t??this.value,s??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,s){let o=this;const l=s(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,s),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Ft.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let s,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Ft.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ft.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ft.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ae(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ae(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ae(27949);return e+(this.isRed()?0:1)}}Ft.EMPTY=null,Ft.RED=!0,Ft.BLACK=!1;Ft.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae(57766)}get value(){throw Ae(16141)}get color(){throw Ae(16727)}get left(){throw Ae(29726)}get right(){throw Ae(36894)}copy(e,t,s,o,l){return this}insert(e,t,s){return new Ft(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,s)=>(e(t),!1)))}forEachInRange(e,t){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let s;for(s=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Gy(this.data.getIterator())}getIteratorFrom(e){return new Gy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((s=>{t=t.add(s)})),t}isEqual(e){if(!(e instanceof kt)||this.size!==e.size)return!1;const t=this.data.getIterator(),s=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new kt(this.comparator);return t.data=e,t}}class Gy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new En([])}unionWith(e){let t=new kt(zt.comparator);for(const s of this.fields)t=t.add(s);for(const s of e)t=t.add(s);return new En(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Uo(this.fields,e.fields,((t,s)=>t.isEqual(s)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new rw("Invalid base64 string: "+l):l}})(e);return new Bt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Bt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const s=new Uint8Array(t.length);for(let o=0;o<t.length;o++)s[o]=t.charCodeAt(o);return s})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Bt.EMPTY_BYTE_STRING=new Bt("");const hA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zs(n){if(Ge(!!n,39018),typeof n=="string"){let e=0;const t=hA.exec(n);if(Ge(!!t,46558,{timestamp:n}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:gt(n.seconds),nanos:gt(n.nanos)}}function gt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Bs(n){return typeof n=="string"?Bt.fromBase64String(n):Bt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="server_timestamp",iw="__type__",ow="__previous_value__",aw="__local_write_time__";function Xf(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[iw])===null||t===void 0?void 0:t.stringValue)===sw}function $c(n){const e=n.mapValue.fields[ow];return Xf(e)?$c(e):e}function cl(n){const e=zs(n.mapValue.fields[aw].timestampValue);return new Xe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e,t,s,o,l,h,f,p,v,w){this.databaseId=e,this.appId=t,this.persistenceKey=s,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=v,this.isUsingEmulator=w}}const Tc="(default)";class hl{constructor(e,t){this.projectId=e,this.database=t||Tc}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database===Tc}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lw="__type__",fA="__max__",Gu={mapValue:{}},uw="__vector__",Ic="value";function $s(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xf(n)?4:mA(n)?9007199254740991:pA(n)?10:11:Ae(28295,{value:n})}function Er(n,e){if(n===e)return!0;const t=$s(n);if(t!==$s(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return cl(n).isEqual(cl(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=zs(o.timestampValue),f=zs(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(o,l){return Bs(o.bytesValue).isEqual(Bs(l.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(o,l){return gt(o.geoPointValue.latitude)===gt(l.geoPointValue.latitude)&&gt(o.geoPointValue.longitude)===gt(l.geoPointValue.longitude)})(n,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return gt(o.integerValue)===gt(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=gt(o.doubleValue),f=gt(l.doubleValue);return h===f?Ec(h)===Ec(f):isNaN(h)&&isNaN(f)}return!1})(n,e);case 9:return Uo(n.arrayValue.values||[],e.arrayValue.values||[],Er);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if(qy(h)!==qy(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!Er(h[p],f[p])))return!1;return!0})(n,e);default:return Ae(52216,{left:n})}}function dl(n,e){return(n.values||[]).find((t=>Er(t,e)))!==void 0}function Fo(n,e){if(n===e)return 0;const t=$s(n),s=$s(e);if(t!==s)return Ve(t,s);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=gt(l.integerValue||l.doubleValue),p=gt(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(n,e);case 3:return Ky(n.timestampValue,e.timestampValue);case 4:return Ky(cl(n),cl(e));case 5:return df(n.stringValue,e.stringValue);case 6:return(function(l,h){const f=Bs(l),p=Bs(h);return f.compareTo(p)})(n.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),p=h.split("/");for(let v=0;v<f.length&&v<p.length;v++){const w=Ve(f[v],p[v]);if(w!==0)return w}return Ve(f.length,p.length)})(n.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=Ve(gt(l.latitude),gt(h.latitude));return f!==0?f:Ve(gt(l.longitude),gt(h.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Qy(n.arrayValue,e.arrayValue);case 10:return(function(l,h){var f,p,v,w;const T=l.fields||{},C=h.fields||{},b=(f=T[Ic])===null||f===void 0?void 0:f.arrayValue,L=(p=C[Ic])===null||p===void 0?void 0:p.arrayValue,M=Ve(((v=b==null?void 0:b.values)===null||v===void 0?void 0:v.length)||0,((w=L==null?void 0:L.values)===null||w===void 0?void 0:w.length)||0);return M!==0?M:Qy(b,L)})(n.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Gu.mapValue&&h===Gu.mapValue)return 0;if(l===Gu.mapValue)return 1;if(h===Gu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),v=h.fields||{},w=Object.keys(v);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const C=df(p[T],w[T]);if(C!==0)return C;const b=Fo(f[p[T]],v[w[T]]);if(b!==0)return b}return Ve(p.length,w.length)})(n.mapValue,e.mapValue);default:throw Ae(23264,{le:t})}}function Ky(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=zs(n),s=zs(e),o=Ve(t.seconds,s.seconds);return o!==0?o:Ve(t.nanos,s.nanos)}function Qy(n,e){const t=n.values||[],s=e.values||[];for(let o=0;o<t.length&&o<s.length;++o){const l=Fo(t[o],s[o]);if(l)return l}return Ve(t.length,s.length)}function zo(n){return ff(n)}function ff(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const s=zs(t);return`time(${s.seconds},${s.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Bs(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return Ee.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let s="[",o=!0;for(const l of t.values||[])o?o=!1:s+=",",s+=ff(l);return s+"]"})(n.arrayValue):"mapValue"in n?(function(t){const s=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of s)l?l=!1:o+=",",o+=`${h}:${ff(t.fields[h])}`;return o+"}"})(n.mapValue):Ae(61005,{value:n})}function oc(n){switch($s(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$c(n);return e?16+oc(e):16;case 5:return 2*n.stringValue.length;case 6:return Bs(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(s){return(s.values||[]).reduce(((o,l)=>o+oc(l)),0)})(n.arrayValue);case 10:case 11:return(function(s){let o=0;return Ks(s.fields,((l,h)=>{o+=l.length+oc(h)})),o})(n.mapValue);default:throw Ae(13486,{value:n})}}function Yy(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function pf(n){return!!n&&"integerValue"in n}function Jf(n){return!!n&&"arrayValue"in n}function Xy(n){return!!n&&"nullValue"in n}function Jy(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ac(n){return!!n&&"mapValue"in n}function pA(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[lw])===null||t===void 0?void 0:t.stringValue)===uw}function el(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ks(n.mapValue.fields,((t,s)=>e.mapValue.fields[t]=el(s))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=el(n.arrayValue.values[t]);return e}return Object.assign({},n)}function mA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===fA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dn{constructor(e){this.value=e}static empty(){return new dn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let s=0;s<e.length-1;++s)if(t=(t.mapValue.fields||{})[e.get(s)],!ac(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(t)}setAll(e){let t=zt.emptyPath(),s={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,s,o),s={},o=[],t=f.popLast()}h?s[f.lastSegment()]=el(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,s,o)}delete(e){const t=this.field(e.popLast());ac(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=t.mapValue.fields[e.get(s)];ac(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(s)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,s){Ks(t,((o,l)=>e[o]=l));for(const o of s)delete e[o]}clone(){return new dn(el(this.value))}}function cw(n){const e=[];return Ks(n.fields,((t,s)=>{const o=new zt([t]);if(ac(s)){const l=cw(s.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,t,s,o,l,h,f){this.key=e,this.documentType=t,this.version=s,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new Qt(e,0,Re.min(),Re.min(),Re.min(),dn.empty(),0)}static newFoundDocument(e,t,s,o){return new Qt(e,1,t,Re.min(),s,o,0)}static newNoDocument(e,t){return new Qt(e,2,t,Re.min(),Re.min(),dn.empty(),0)}static newUnknownDocument(e,t){return new Qt(e,3,t,Re.min(),Re.min(),dn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t){this.position=e,this.inclusive=t}}function Zy(n,e,t){let s=0;for(let o=0;o<n.position.length;o++){const l=e[o],h=n.position[o];if(l.field.isKeyField()?s=Ee.comparator(Ee.fromName(h.referenceValue),t.key):s=Fo(h,t.data.field(l.field)),l.dir==="desc"&&(s*=-1),s!==0)break}return s}function ev(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Er(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(e,t="asc"){this.field=e,this.dir=t}}function gA(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{}class Tt extends hw{constructor(e,t,s){super(),this.field=e,this.op=t,this.value=s}static create(e,t,s){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,s):new vA(e,t,s):t==="array-contains"?new EA(e,s):t==="in"?new TA(e,s):t==="not-in"?new IA(e,s):t==="array-contains-any"?new SA(e,s):new Tt(e,t,s)}static createKeyFieldInFilter(e,t,s){return t==="in"?new _A(e,s):new wA(e,s)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Fo(t,this.value)):t!==null&&$s(this.value)===$s(t)&&this.matchesComparison(Fo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class er extends hw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new er(e,t)}matches(e){return dw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function dw(n){return n.op==="and"}function fw(n){return yA(n)&&dw(n)}function yA(n){for(const e of n.filters)if(e instanceof er)return!1;return!0}function mf(n){if(n instanceof Tt)return n.field.canonicalString()+n.op.toString()+zo(n.value);if(fw(n))return n.filters.map((e=>mf(e))).join(",");{const e=n.filters.map((t=>mf(t))).join(",");return`${n.op}(${e})`}}function pw(n,e){return n instanceof Tt?(function(s,o){return o instanceof Tt&&s.op===o.op&&s.field.isEqual(o.field)&&Er(s.value,o.value)})(n,e):n instanceof er?(function(s,o){return o instanceof er&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce(((l,h,f)=>l&&pw(h,o.filters[f])),!0):!1})(n,e):void Ae(19439)}function mw(n){return n instanceof Tt?(function(t){return`${t.field.canonicalString()} ${t.op} ${zo(t.value)}`})(n):n instanceof er?(function(t){return t.op.toString()+" {"+t.getFilters().map(mw).join(" ,")+"}"})(n):"Filter"}class vA extends Tt{constructor(e,t,s){super(e,t,s),this.key=Ee.fromName(s.referenceValue)}matches(e){const t=Ee.comparator(e.key,this.key);return this.matchesComparison(t)}}class _A extends Tt{constructor(e,t){super(e,"in",t),this.keys=gw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class wA extends Tt{constructor(e,t){super(e,"not-in",t),this.keys=gw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function gw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((s=>Ee.fromName(s.referenceValue)))}class EA extends Tt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Jf(t)&&dl(t.arrayValue,this.value)}}class TA extends Tt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&dl(this.value.arrayValue,t)}}class IA extends Tt{constructor(e,t){super(e,"not-in",t)}matches(e){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!dl(this.value.arrayValue,t)}}class SA extends Tt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Jf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((s=>dl(this.value.arrayValue,s)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CA{constructor(e,t=null,s=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=s,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Pe=null}}function tv(n,e=null,t=[],s=[],o=null,l=null,h=null){return new CA(n,e,t,s,o,l,h)}function Zf(n){const e=xe(n);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((s=>mf(s))).join(","),t+="|ob:",t+=e.orderBy.map((s=>(function(l){return l.field.canonicalString()+l.dir})(s))).join(","),Bc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((s=>zo(s))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((s=>zo(s))).join(",")),e.Pe=t}return e.Pe}function ep(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!gA(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!ev(n.startAt,e.startAt)&&ev(n.endAt,e.endAt)}function gf(n){return Ee.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tl{constructor(e,t=null,s=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=s,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function AA(n,e,t,s,o,l,h,f){return new Tl(n,e,t,s,o,l,h,f)}function Wc(n){return new Tl(n)}function nv(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function yw(n){return n.collectionGroup!==null}function tl(n){const e=xe(n);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new kt(zt.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((v=>{v.isInequality()&&(f=f.add(v.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Cc(l,s))})),t.has(zt.keyField().canonicalString())||e.Te.push(new Cc(zt.keyField(),s))}return e.Te}function yr(n){const e=xe(n);return e.Ie||(e.Ie=PA(e,tl(n))),e.Ie}function PA(n,e){if(n.limitType==="F")return tv(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Cc(o.field,l)}));const t=n.endAt?new Sc(n.endAt.position,n.endAt.inclusive):null,s=n.startAt?new Sc(n.startAt.position,n.startAt.inclusive):null;return tv(n.path,n.collectionGroup,e,n.filters,n.limit,t,s)}}function yf(n,e){const t=n.filters.concat([e]);return new Tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vf(n,e,t){return new Tl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hc(n,e){return ep(yr(n),yr(e))&&n.limitType===e.limitType}function vw(n){return`${Zf(yr(n))}|lt:${n.limitType}`}function xo(n){return`Query(target=${(function(t){let s=t.path.canonicalString();return t.collectionGroup!==null&&(s+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(s+=`, filters: [${t.filters.map((o=>mw(o))).join(", ")}]`),Bc(t.limit)||(s+=", limit: "+t.limit),t.orderBy.length>0&&(s+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(s+=", startAt: ",s+=t.startAt.inclusive?"b:":"a:",s+=t.startAt.position.map((o=>zo(o))).join(",")),t.endAt&&(s+=", endAt: ",s+=t.endAt.inclusive?"a:":"b:",s+=t.endAt.position.map((o=>zo(o))).join(",")),`Target(${s})`})(yr(n))}; limitType=${n.limitType})`}function qc(n,e){return e.isFoundDocument()&&(function(s,o){const l=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(l):Ee.isDocumentKey(s.path)?s.path.isEqual(l):s.path.isImmediateParentOf(l)})(n,e)&&(function(s,o){for(const l of tl(s))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(n,e)&&(function(s,o){for(const l of s.filters)if(!l.matches(o))return!1;return!0})(n,e)&&(function(s,o){return!(s.startAt&&!(function(h,f,p){const v=Zy(h,f,p);return h.inclusive?v<=0:v<0})(s.startAt,tl(s),o)||s.endAt&&!(function(h,f,p){const v=Zy(h,f,p);return h.inclusive?v>=0:v>0})(s.endAt,tl(s),o))})(n,e)}function RA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function _w(n){return(e,t)=>{let s=!1;for(const o of tl(n)){const l=xA(o,e,t);if(l!==0)return l;s=s||o.field.isKeyField()}return 0}}function xA(n,e,t){const s=n.field.isKeyField()?Ee.comparator(e.key,t.key):(function(l,h,f){const p=h.data.field(l),v=f.data.field(l);return p!==null&&v!==null?Fo(p,v):Ae(42886)})(n.field,e,t);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return Ae(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s!==void 0){for(const[o,l]of s)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),s=this.inner[t];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[t]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,((t,s)=>{for(const[o,l]of s)e(o,l)}))}isEmpty(){return nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kA=new ut(Ee.comparator);function Gr(){return kA}const ww=new ut(Ee.comparator);function Qa(...n){let e=ww;for(const t of n)e=e.insert(t.key,t);return e}function Ew(n){let e=ww;return n.forEach(((t,s)=>e=e.insert(t,s.overlayedDocument))),e}function Ci(){return nl()}function Tw(){return nl()}function nl(){return new Li((n=>n.toString()),((n,e)=>n.isEqual(e)))}const NA=new ut(Ee.comparator),DA=new kt(Ee.comparator);function Fe(...n){let e=DA;for(const t of n)e=e.add(t);return e}const bA=new kt(Ve);function OA(){return bA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ec(e)?"-0":e}}function Iw(n){return{integerValue:""+n}}function VA(n,e){return lA(e)?Iw(e):tp(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function LA(n,e,t){return n instanceof Ac?(function(o,l){const h={fields:{[iw]:{stringValue:sw},[aw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Xf(l)&&(l=$c(l)),l&&(h.fields[ow]=l),{mapValue:h}})(t,e):n instanceof fl?Cw(n,e):n instanceof pl?Aw(n,e):(function(o,l){const h=Sw(o,l),f=rv(h)+rv(o.Ee);return pf(h)&&pf(o.Ee)?Iw(f):tp(o.serializer,f)})(n,e)}function jA(n,e,t){return n instanceof fl?Cw(n,e):n instanceof pl?Aw(n,e):t}function Sw(n,e){return n instanceof Pc?(function(s){return pf(s)||(function(l){return!!l&&"doubleValue"in l})(s)})(e)?e:{integerValue:0}:null}class Ac extends Gc{}class fl extends Gc{constructor(e){super(),this.elements=e}}function Cw(n,e){const t=Pw(e);for(const s of n.elements)t.some((o=>Er(o,s)))||t.push(s);return{arrayValue:{values:t}}}class pl extends Gc{constructor(e){super(),this.elements=e}}function Aw(n,e){let t=Pw(e);for(const s of n.elements)t=t.filter((o=>!Er(o,s)));return{arrayValue:{values:t}}}class Pc extends Gc{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function rv(n){return gt(n.integerValue||n.doubleValue)}function Pw(n){return Jf(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function MA(n,e){return n.field.isEqual(e.field)&&(function(s,o){return s instanceof fl&&o instanceof fl||s instanceof pl&&o instanceof pl?Uo(s.elements,o.elements,Er):s instanceof Pc&&o instanceof Pc?Er(s.Ee,o.Ee):s instanceof Ac&&o instanceof Ac})(n.transform,e.transform)}class UA{constructor(e,t){this.version=e,this.transformResults=t}}class Vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function lc(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class Kc{}function Rw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new np(n.key,Vn.none()):new Il(n.key,n.data,Vn.none());{const t=n.data,s=dn.empty();let o=new kt(zt.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?s.delete(l):s.set(l,h),o=o.add(l)}return new Qs(n.key,s,new En(o.toArray()),Vn.none())}}function FA(n,e,t){n instanceof Il?(function(o,l,h){const f=o.value.clone(),p=iv(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(n,e,t):n instanceof Qs?(function(o,l,h){if(!lc(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=iv(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(xw(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(n,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function rl(n,e,t,s){return n instanceof Il?(function(l,h,f,p){if(!lc(l.precondition,h))return f;const v=l.value.clone(),w=ov(l.fieldTransforms,p,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null})(n,e,t,s):n instanceof Qs?(function(l,h,f,p){if(!lc(l.precondition,h))return f;const v=ov(l.fieldTransforms,p,h),w=h.data;return w.setAll(xw(l)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(n,e,t,s):(function(l,h,f){return lc(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(n,e,t)}function zA(n,e){let t=null;for(const s of n.fieldTransforms){const o=e.data.field(s.field),l=Sw(s.transform,o||null);l!=null&&(t===null&&(t=dn.empty()),t.set(s.field,l))}return t||null}function sv(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Uo(s,o,((l,h)=>MA(l,h)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class Il extends Kc{constructor(e,t,s,o=[]){super(),this.key=e,this.value=t,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Qs extends Kc{constructor(e,t,s,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=s,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function xw(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const s=n.data.field(t);e.set(t,s)}})),e}function iv(n,e,t){const s=new Map;Ge(n.length===t.length,32656,{Ae:t.length,Re:n.length});for(let o=0;o<t.length;o++){const l=n[o],h=l.transform,f=e.data.field(l.field);s.set(l.field,jA(h,f,t[o]))}return s}function ov(n,e,t){const s=new Map;for(const o of n){const l=o.transform,h=t.data.field(o.field);s.set(o.field,LA(l,h,e))}return s}class np extends Kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class BA extends Kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t,s,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,t){const s=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&FA(l,e,s[o])}}applyToLocalView(e,t){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(t=rl(s,e,t,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(t=rl(s,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const s=Tw();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=Rw(h,f);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Re.min())})),s}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Fe())}isEqual(e){return this.batchId===e.batchId&&Uo(this.mutations,e.mutations,((t,s)=>sv(t,s)))&&Uo(this.baseMutations,e.baseMutations,((t,s)=>sv(t,s)))}}class rp{constructor(e,t,s,o){this.batch=e,this.commitVersion=t,this.mutationResults=s,this.docVersions=o}static from(e,t,s){Ge(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=(function(){return NA})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,s[h].version);return new rp(e,t,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Et,$e;function qA(n){switch(n){case Y.OK:return Ae(64938);case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0;default:return Ae(15467,{code:n})}}function kw(n){if(n===void 0)return qr("GRPC error has no .code"),Y.UNKNOWN;switch(n){case Et.OK:return Y.OK;case Et.CANCELLED:return Y.CANCELLED;case Et.UNKNOWN:return Y.UNKNOWN;case Et.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case Et.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case Et.INTERNAL:return Y.INTERNAL;case Et.UNAVAILABLE:return Y.UNAVAILABLE;case Et.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case Et.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case Et.NOT_FOUND:return Y.NOT_FOUND;case Et.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case Et.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case Et.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case Et.ABORTED:return Y.ABORTED;case Et.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case Et.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case Et.DATA_LOSS:return Y.DATA_LOSS;default:return Ae(39323,{code:n})}}($e=Et||(Et={}))[$e.OK=0]="OK",$e[$e.CANCELLED=1]="CANCELLED",$e[$e.UNKNOWN=2]="UNKNOWN",$e[$e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",$e[$e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",$e[$e.NOT_FOUND=5]="NOT_FOUND",$e[$e.ALREADY_EXISTS=6]="ALREADY_EXISTS",$e[$e.PERMISSION_DENIED=7]="PERMISSION_DENIED",$e[$e.UNAUTHENTICATED=16]="UNAUTHENTICATED",$e[$e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",$e[$e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",$e[$e.ABORTED=10]="ABORTED",$e[$e.OUT_OF_RANGE=11]="OUT_OF_RANGE",$e[$e.UNIMPLEMENTED=12]="UNIMPLEMENTED",$e[$e.INTERNAL=13]="INTERNAL",$e[$e.UNAVAILABLE=14]="UNAVAILABLE",$e[$e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=new js([4294967295,4294967295],0);function av(n){const e=J_().encode(n),t=new W_;return t.update(e),new Uint8Array(t.digest())}function lv(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new js([t,s],0),new js([o,l],0)]}class sp{constructor(e,t,s){if(this.bitmap=e,this.padding=t,this.hashCount=s,t<0||t>=8)throw new Ya(`Invalid padding: ${t}`);if(s<0)throw new Ya(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Ya(`Invalid hash count: ${s}`);if(e.length===0&&t!==0)throw new Ya(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=js.fromNumber(this.fe)}pe(e,t,s){let o=e.add(t.multiply(js.fromNumber(s)));return o.compare(GA)===1&&(o=new js([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=av(e),[s,o]=lv(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);if(!this.ye(h))return!1}return!0}static create(e,t,s){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new sp(l,o,t);return s.forEach((f=>h.insert(f))),h}insert(e){if(this.fe===0)return;const t=av(e),[s,o]=lv(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(s,o,l);this.we(h)}}we(e){const t=Math.floor(e/8),s=e%8;this.bitmap[t]|=1<<s}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t,s,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,s){const o=new Map;return o.set(e,Sl.createSynthesizedTargetChangeForCurrentChange(e,t,s)),new Qc(Re.min(),o,new ut(Ve),Gr(),Fe())}}class Sl{constructor(e,t,s,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,s){return new Sl(s,t,Fe(),Fe(),Fe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e,t,s,o){this.Se=e,this.removedTargetIds=t,this.key=s,this.be=o}}class Nw{constructor(e,t){this.targetId=e,this.De=t}}class Dw{constructor(e,t,s=Bt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=s,this.cause=o}}class uv{constructor(){this.ve=0,this.Ce=cv(),this.Fe=Bt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Fe(),t=Fe(),s=Fe();return this.Ce.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:s=s.add(o);break;default:Ae(38017,{changeType:l})}})),new Sl(this.Fe,this.Me,e,t,s)}ke(){this.xe=!1,this.Ce=cv()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class KA{constructor(e){this.We=e,this.Ge=new Map,this.ze=Gr(),this.je=Ku(),this.Je=Ku(),this.He=new ut(Ve)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const s=this.tt(t);switch(e.state){case 0:this.nt(t)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),s.Be(e.resumeToken));break;default:Ae(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((s,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,s=e.De.count,o=this.st(t);if(o){const l=o.target;if(gf(l))if(s===0){const h=new Ee(l.path);this.Xe(t,h,Qt.newNoDocument(h,Re.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this.ot(t);if(h!==s){const f=this._t(e),p=f?this.ut(f,e,h):1;if(p!==0){this.rt(t);const v=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,v)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Bs(s).toUint8Array()}catch(p){if(p instanceof rw)return Us("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new sp(h,o,l)}catch(p){return Us(p instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.fe===0?null:f}ut(e,t,s){return t.De.count===s-this.ht(e,t.targetId)?0:2}ht(e,t){const s=this.We.getRemoteKeysForTarget(t);let o=0;return s.forEach((l=>{const h=this.We.lt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Xe(t,l,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((l,h)=>{const f=this.st(h);if(f){if(l.current&&gf(f.target)){const p=new Ee(f.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,Qt.newNoDocument(p,e))}l.Ne&&(t.set(h,l.Le()),l.ke())}}));let s=Fe();this.Je.forEach(((l,h)=>{let f=!0;h.forEachWhile((p=>{const v=this.st(p);return!v||v.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(s=s.add(l))})),this.ze.forEach(((l,h)=>h.setReadTime(e)));const o=new Qc(e,t,this.He,this.ze,s);return this.ze=Gr(),this.je=Ku(),this.Je=Ku(),this.He=new ut(Ve),o}Ze(e,t){if(!this.nt(e))return;const s=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,s),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),s&&(this.ze=this.ze.insert(t,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new uv,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new kt(Ve),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new kt(Ve),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new uv),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Ku(){return new ut(Ee.comparator)}function cv(){return new ut(Ee.comparator)}const QA={asc:"ASCENDING",desc:"DESCENDING"},YA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},XA={and:"AND",or:"OR"};class JA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _f(n,e){return n.useProto3Json||Bc(e)?e:{value:e}}function Rc(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function bw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ZA(n,e){return Rc(n,e.toTimestamp())}function vr(n){return Ge(!!n,49232),Re.fromTimestamp((function(t){const s=zs(t);return new Xe(s.seconds,s.nanos)})(n))}function ip(n,e){return wf(n,e).canonicalString()}function wf(n,e){const t=(function(o){return new tt(["projects",o.projectId,"databases",o.database])})(n).child("documents");return e===void 0?t:t.child(e)}function Ow(n){const e=tt.fromString(n);return Ge(Uw(e),10190,{key:e.toString()}),e}function Ef(n,e){return ip(n.databaseId,e.path)}function Hd(n,e){const t=Ow(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ee(Lw(t))}function Vw(n,e){return ip(n.databaseId,e)}function eP(n){const e=Ow(n);return e.length===4?tt.emptyPath():Lw(e)}function Tf(n){return new tt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Lw(n){return Ge(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function hv(n,e,t){return{name:Ef(n,e),fields:t.value.mapValue.fields}}function tP(n,e){let t;if("targetChange"in e){e.targetChange;const s=(function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:Ae(39313,{state:v})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(v,w){return v.useProto3Json?(Ge(w===void 0||typeof w=="string",58123),Bt.fromBase64String(w||"")):(Ge(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Bt.fromUint8Array(w||new Uint8Array))})(n,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(v){const w=v.code===void 0?Y.UNKNOWN:kw(v.code);return new ue(w,v.message||"")})(h);t=new Dw(s,o,l,f||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Hd(n,s.document.name),l=vr(s.document.updateTime),h=s.document.createTime?vr(s.document.createTime):Re.min(),f=new dn({mapValue:{fields:s.document.fields}}),p=Qt.newFoundDocument(o,l,h,f),v=s.targetIds||[],w=s.removedTargetIds||[];t=new uc(v,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Hd(n,s.document),l=s.readTime?vr(s.readTime):Re.min(),h=Qt.newNoDocument(o,l),f=s.removedTargetIds||[];t=new uc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Hd(n,s.document),l=s.removedTargetIds||[];t=new uc([],l,o,null)}else{if(!("filter"in e))return Ae(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:l}=s,h=new HA(o,l),f=s.targetId;t=new Nw(f,h)}}return t}function nP(n,e){let t;if(e instanceof Il)t={update:hv(n,e.key,e.value)};else if(e instanceof np)t={delete:Ef(n,e.key)};else if(e instanceof Qs)t={update:hv(n,e.key,e.data),updateMask:hP(e.fieldMask)};else{if(!(e instanceof BA))return Ae(16599,{Rt:e.type});t={verify:Ef(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((s=>(function(l,h){const f=h.transform;if(f instanceof Ac)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof fl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof pl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Pc)return{fieldPath:h.field.canonicalString(),increment:f.Ee};throw Ae(20930,{transform:h.transform})})(0,s)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:ZA(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ae(27497)})(n,e.precondition)),t}function rP(n,e){return n&&n.length>0?(Ge(e!==void 0,14353),n.map((t=>(function(o,l){let h=o.updateTime?vr(o.updateTime):vr(l);return h.isEqual(Re.min())&&(h=vr(l)),new UA(h,o.transformResults||[])})(t,e)))):[]}function sP(n,e){return{documents:[Vw(n,e.path)]}}function iP(n,e){const t={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),t.structuredQuery.from=[{collectionId:s.lastSegment()}]),t.parent=Vw(n,o);const l=(function(v){if(v.length!==0)return Mw(er.create(v,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(v){if(v.length!==0)return v.map((w=>(function(C){return{field:ko(C.field),direction:lP(C.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=_f(n,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(v){return{before:v.inclusive,values:v.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(v){return{before:!v.inclusive,values:v.position}})(e.endAt)),{Vt:t,parent:o}}function oP(n){let e=eP(n.parent);const t=n.structuredQuery,s=t.from?t.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(T){const C=jw(T);return C instanceof er&&fw(C)?C.getFilters():[C]})(t.where));let h=[];t.orderBy&&(h=(function(T){return T.map((C=>(function(L){return new Cc(No(L.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(L.direction))})(C)))})(t.orderBy));let f=null;t.limit&&(f=(function(T){let C;return C=typeof T=="object"?T.value:T,Bc(C)?null:C})(t.limit));let p=null;t.startAt&&(p=(function(T){const C=!!T.before,b=T.values||[];return new Sc(b,C)})(t.startAt));let v=null;return t.endAt&&(v=(function(T){const C=!T.before,b=T.values||[];return new Sc(b,C)})(t.endAt)),AA(e,o,h,l,f,"F",p,v)}function aP(n,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function jw(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const s=No(t.unaryFilter.field);return Tt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=No(t.unaryFilter.field);return Tt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=No(t.unaryFilter.field);return Tt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=No(t.unaryFilter.field);return Tt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ae(61313);default:return Ae(60726)}})(n):n.fieldFilter!==void 0?(function(t){return Tt.create(No(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ae(58110);default:return Ae(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return er.create(t.compositeFilter.filters.map((s=>jw(s))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ae(1026)}})(t.compositeFilter.op))})(n):Ae(30097,{filter:n})}function lP(n){return QA[n]}function uP(n){return YA[n]}function cP(n){return XA[n]}function ko(n){return{fieldPath:n.canonicalString()}}function No(n){return zt.fromServerFormat(n.fieldPath)}function Mw(n){return n instanceof Tt?(function(t){if(t.op==="=="){if(Jy(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NAN"}};if(Xy(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Jy(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NAN"}};if(Xy(t.value))return{unaryFilter:{field:ko(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ko(t.field),op:uP(t.op),value:t.value}}})(n):n instanceof er?(function(t){const s=t.getFilters().map((o=>Mw(o)));return s.length===1?s[0]:{compositeFilter:{op:cP(t.op),filters:s}}})(n):Ae(54877,{filter:n})}function hP(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Uw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e,t,s,o,l=Re.min(),h=Re.min(),f=Bt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Ds(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.gt=e}}function fP(n){const e=oP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(){this.Dn=new mP}addToCollectionParentIndex(e,t){return this.Dn.add(t),J.resolve()}getCollectionParents(e,t){return J.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return J.resolve()}deleteFieldIndex(e,t){return J.resolve()}deleteAllFieldIndexes(e){return J.resolve()}createTargetIndexes(e,t){return J.resolve()}getDocumentsMatchingTarget(e,t){return J.resolve(null)}getIndexType(e,t){return J.resolve(0)}getFieldIndexes(e,t){return J.resolve([])}getNextCollectionGroupToUpdate(e){return J.resolve(null)}getMinOffset(e,t){return J.resolve(Fs.min())}getMinOffsetFromCollectionGroup(e,t){return J.resolve(Fs.min())}updateCollectionGroup(e,t,s){return J.resolve()}updateIndexEntries(e,t){return J.resolve()}}class mP{constructor(){this.index={}}add(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t]||new kt(tt.comparator),l=!o.has(s);return this.index[t]=o.add(s),l}has(e){const t=e.lastSegment(),s=e.popLast(),o=this.index[t];return o&&o.has(s)}getEntries(e){return(this.index[e]||new kt(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Fw=41943040;class hn{static withCacheSize(e){return new hn(e,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */hn.DEFAULT_COLLECTION_PERCENTILE=10,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,hn.DEFAULT=new hn(Fw,hn.DEFAULT_COLLECTION_PERCENTILE,hn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),hn.DISABLED=new hn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Bo(0)}static ur(){return new Bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="LruGarbageCollector",gP=1048576;function pv([n,e],[t,s]){const o=Ve(n,t);return o===0?Ve(e,s):o}class yP{constructor(e){this.Tr=e,this.buffer=new kt(pv),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const s=this.buffer.last();pv(t,s)<0&&(this.buffer=this.buffer.delete(s).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vP{constructor(e,t,s){this.garbageCollector=e,this.asyncQueue=t,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){de(fv,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Zo(t)?de(fv,"Ignoring IndexedDB error during garbage collection: ",t):await Jo(t)}await this.Rr(3e5)}))}}class _P{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((s=>Math.floor(t/100*s)))}nthSequenceNumber(e,t){if(t===0)return J.resolve(zc.ue);const s=new yP(t);return this.Vr.forEachTarget(e,(o=>s.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>s.Er(o))))).next((()=>s.maxValue))}removeTargets(e,t,s){return this.Vr.removeTargets(e,t,s)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(dv)):this.getCacheSize(e).next((s=>s<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dv):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let s,o,l,h,f,p,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(s=T,f=Date.now(),this.removeTargets(e,s,t)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,s)))).next((T=>(v=Date.now(),Ro()<=Ue.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(v-p)+`ms
Total Duration: ${v-w}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function wP(n,e){return new _P(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(){this.changes=new Li((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const s=this.changes.get(t);return s!==void 0?J.resolve(s):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t,s,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,t){let s=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(s=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(s!==null&&rl(s.mutation,o,En.empty(),Xe.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.getLocalViewOfDocuments(e,s,Fe()).next((()=>s))))}getLocalViewOfDocuments(e,t,s=Fe()){const o=Ci();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,s).next((l=>{let h=Qa();return l.forEach(((f,p)=>{h=h.insert(f,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const s=Ci();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,Fe())))}populateOverlays(e,t,s){const o=[];return s.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,s,o){let l=Gr();const h=nl(),f=(function(){return nl()})();return t.forEach(((p,v)=>{const w=s.get(v.key);o.has(v.key)&&(w===void 0||w.mutation instanceof Qs)?l=l.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),rl(w.mutation,v,w.mutation.getFieldMask(),Xe.now())):h.set(v.key,En.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((v,w)=>h.set(v,w))),t.forEach(((v,w)=>{var T;return f.set(v,new TP(w,(T=h.get(v))!==null&&T!==void 0?T:null))})),f)))}recalculateAndSaveOverlays(e,t){const s=nl();let o=new ut(((h,f)=>h-f)),l=Fe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((p=>{const v=t.get(p);if(v===null)return;let w=s.get(p)||En.empty();w=f.applyToLocalView(v,w),s.set(p,w);const T=(o.get(f.batchId)||Fe()).add(p);o=o.insert(f.batchId,T)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),v=p.key,w=p.value,T=Tw();w.forEach((C=>{if(!l.has(C)){const b=Rw(t.get(C),s.get(C));b!==null&&T.set(C,b),l=l.add(C)}})),h.push(this.documentOverlayCache.saveOverlays(e,v,T))}return J.waitFor(h)})).next((()=>s))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((s=>this.recalculateAndSaveOverlays(e,s)))}getDocumentsMatchingQuery(e,t,s,o){return(function(h){return Ee.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):yw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,s,o):this.getDocumentsMatchingCollectionQuery(e,t,s,o)}getNextDocuments(e,t,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,s,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,s.largestBatchId,o-l.size):J.resolve(Ci());let f=ul,p=l;return h.next((v=>J.forEach(v,((w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(w)?J.resolve():this.remoteDocumentCache.getEntry(e,w).next((C=>{p=p.insert(w,C)}))))).next((()=>this.populateOverlays(e,v,l))).next((()=>this.computeViews(e,p,v,Fe()))).next((w=>({batchId:f,changes:Ew(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ee(t)).next((s=>{let o=Qa();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,s,o){const l=t.collectionGroup;let h=Qa();return this.indexManager.getCollectionParents(e,l).next((f=>J.forEach(f,(p=>{const v=(function(T,C){return new Tl(C,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,v,s,o).next((w=>{w.forEach(((T,C)=>{h=h.insert(T,C)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,s,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,s.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,s,l,o)))).next((h=>{l.forEach(((p,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Qt.newInvalidDocument(w)))}));let f=Qa();return h.forEach(((p,v)=>{const w=l.get(p);w!==void 0&&rl(w.mutation,v,En.empty(),Xe.now()),qc(t,v)&&(f=f.insert(p,v))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SP{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return J.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:vr(o.createTime)}})(t)),J.resolve()}getNamedQuery(e,t){return J.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:fP(o.bundledQuery),readTime:vr(o.readTime)}})(t)),J.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(){this.overlays=new ut(Ee.comparator),this.kr=new Map}getOverlay(e,t){return J.resolve(this.overlays.get(t))}getOverlays(e,t){const s=Ci();return J.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&s.set(o,l)})))).next((()=>s))}saveOverlays(e,t,s){return s.forEach(((o,l)=>{this.wt(e,t,l)})),J.resolve()}removeOverlaysForBatchId(e,t,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.kr.delete(s)),J.resolve()}getOverlaysForCollection(e,t,s){const o=Ci(),l=t.length+1,h=new Ee(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,v=p.getKey();if(!t.isPrefixOf(v.path))break;v.path.length===l&&p.largestBatchId>s&&o.set(p.getKey(),p)}return J.resolve(o)}getOverlaysForCollectionGroup(e,t,s,o){let l=new ut(((v,w)=>v-w));const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===t&&v.largestBatchId>s){let w=l.get(v.largestBatchId);w===null&&(w=Ci(),l=l.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const f=Ci(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((v,w)=>f.set(v,w))),!(f.size()>=o)););return J.resolve(f)}wt(e,t,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new WA(t,s));let l=this.kr.get(t);l===void 0&&(l=Fe(),this.kr.set(t,l)),this.kr.set(t,l.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.sessionToken=Bt.EMPTY_BYTE_STRING}getSessionToken(e){return J.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,J.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.qr=new kt(Vt.Qr),this.$r=new kt(Vt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const s=new Vt(e,t);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,t){e.forEach((s=>this.addReference(s,t)))}removeReference(e,t){this.Wr(new Vt(e,t))}Gr(e,t){e.forEach((s=>this.removeReference(s,t)))}zr(e){const t=new Ee(new tt([])),s=new Vt(t,e),o=new Vt(t,e+1),l=[];return this.$r.forEachInRange([s,o],(h=>{this.Wr(h),l.push(h.key)})),l}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new Ee(new tt([])),s=new Vt(t,e),o=new Vt(t,e+1);let l=Fe();return this.$r.forEachInRange([s,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new Vt(e,0),s=this.qr.firstAfterOrEqual(t);return s!==null&&e.isEqual(s.key)}}class Vt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return Ee.comparator(e.key,t.key)||Ve(e.Hr,t.Hr)}static Ur(e,t){return Ve(e.Hr,t.Hr)||Ee.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new kt(Vt.Qr)}checkEmpty(e){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,s,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new $A(l,t,s,o);this.mutationQueue.push(h);for(const f of o)this.Yr=this.Yr.add(new Vt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return J.resolve(h)}lookupMutationBatch(e,t){return J.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const s=t+1,o=this.Xr(s),l=o<0?0:o;return J.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?Yf:this.er-1)}getAllMutationBatches(e){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const s=new Vt(t,0),o=new Vt(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([s,o],(h=>{const f=this.Zr(h.Hr);l.push(f)})),J.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let s=new kt(Ve);return t.forEach((o=>{const l=new Vt(o,0),h=new Vt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,h],(f=>{s=s.add(f.Hr)}))})),J.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,t){const s=t.path,o=s.length+1;let l=s;Ee.isDocumentKey(l)||(l=l.child(""));const h=new Vt(new Ee(l),0);let f=new kt(Ve);return this.Yr.forEachWhile((p=>{const v=p.key.path;return!!s.isPrefixOf(v)&&(v.length===o&&(f=f.add(p.Hr)),!0)}),h),J.resolve(this.ei(f))}ei(e){const t=[];return e.forEach((s=>{const o=this.Zr(s);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){Ge(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return J.forEach(t.mutations,(o=>{const l=new Vt(o.key,t.batchId);return s=s.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=s}))}rr(e){}containsKey(e,t){const s=new Vt(t,0),o=this.Yr.firstAfterOrEqual(s);return J.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,J.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.ni=e,this.docs=(function(){return new ut(Ee.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const s=t.key,o=this.docs.get(s),l=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(s,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const s=this.docs.get(t);return J.resolve(s?s.document.mutableCopy():Qt.newInvalidDocument(t))}getEntries(e,t){let s=Gr();return t.forEach((o=>{const l=this.docs.get(o);s=s.insert(o,l?l.document.mutableCopy():Qt.newInvalidDocument(o))})),J.resolve(s)}getDocumentsMatchingQuery(e,t,s,o){let l=Gr();const h=t.path,f=new Ee(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:v,value:{document:w}}=p.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||sA(rA(w),s)<=0||(o.has(w.key)||qc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return J.resolve(l)}getAllFromCollectionGroup(e,t,s,o){Ae(9500)}ri(e,t){return J.forEach(this.docs,(s=>t(s)))}newChangeBuffer(e){return new xP(this)}getSize(e){return J.resolve(this.size)}}class xP extends EP{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((s,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)})),J.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.persistence=e,this.ii=new Li((t=>Zf(t)),ep),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.si=0,this.oi=new op,this.targetCount=0,this._i=Bo.ar()}forEachTarget(e,t){return this.ii.forEach(((s,o)=>t(o))),J.resolve()}getLastRemoteSnapshotVersion(e){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return J.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(e,t,s){return s&&(this.lastRemoteSnapshotVersion=s),t>this.si&&(this.si=t),J.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Bo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,J.resolve()}updateTargetData(e,t){return this.hr(t),J.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,J.resolve()}removeTargets(e,t,s){let o=0;const l=[];return this.ii.forEach(((h,f)=>{f.sequenceNumber<=t&&s.get(f.targetId)===null&&(this.ii.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),J.waitFor(l).next((()=>o))}getTargetCount(e){return J.resolve(this.targetCount)}getTargetData(e,t){const s=this.ii.get(t)||null;return J.resolve(s)}addMatchingKeys(e,t,s){return this.oi.Kr(t,s),J.resolve()}removeMatchingKeys(e,t,s){this.oi.Gr(t,s);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),J.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),J.resolve()}getMatchingKeysForTargetId(e,t){const s=this.oi.Jr(t);return J.resolve(s)}containsKey(e,t){return J.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,t){this.ai={},this.overlays={},this.ui=new zc(0),this.ci=!1,this.ci=!0,this.li=new AP,this.referenceDelegate=e(this),this.hi=new kP(this),this.indexManager=new pP,this.remoteDocumentCache=(function(o){return new RP(o)})((s=>this.referenceDelegate.Pi(s))),this.serializer=new dP(t),this.Ti=new SP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new CP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let s=this.ai[e.toKey()];return s||(s=new PP(t,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,s){de("MemoryPersistence","Starting transaction:",e);const o=new NP(this.ui.next());return this.referenceDelegate.Ii(),s(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return J.or(Object.values(this.ai).map((s=>()=>s.containsKey(e,t))))}}class NP extends oA{constructor(e){super(),this.currentSequenceNumber=e}}class ap{constructor(e){this.persistence=e,this.Ai=new op,this.Ri=null}static Vi(e){return new ap(e)}get mi(){if(this.Ri)return this.Ri;throw Ae(60996)}addReference(e,t,s){return this.Ai.addReference(s,t),this.mi.delete(s.toString()),J.resolve()}removeReference(e,t,s){return this.Ai.removeReference(s,t),this.mi.add(s.toString()),J.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),J.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.mi.add(l.toString())))})).next((()=>s.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.mi,(s=>{const o=Ee.fromPath(s);return this.fi(e,o).next((l=>{l||t.removeEntry(o,Re.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((s=>{s?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return J.or([()=>J.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class xc{constructor(e,t){this.persistence=e,this.gi=new Li((s=>uA(s.path)),((s,o)=>s.isEqual(o))),this.garbageCollector=wP(this,t)}static Vi(e,t){return new xc(e,t)}Ii(){}di(e){return J.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((s=>t.next((o=>s+o))))}yr(e){let t=0;return this.gr(e,(s=>{t++})).next((()=>t))}gr(e,t){return J.forEach(this.gi,((s,o)=>this.Sr(e,s,o).next((l=>l?J.resolve():t(o)))))}removeTargets(e,t,s){return this.persistence.getTargetCache().removeTargets(e,t,s)}removeOrphanedDocuments(e,t){let s=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,(h=>this.Sr(e,h,t).next((f=>{f||(s++,l.removeEntry(h,Re.min()))})))).next((()=>l.apply(e))).next((()=>s))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),J.resolve()}removeTarget(e,t){const s=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),J.resolve()}removeReference(e,t,s){return this.gi.set(s,e.currentSequenceNumber),J.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),J.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=oc(e.data.value)),t}Sr(e,t,s){return J.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return J.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t,s,o){this.targetId=e,this.fromCache=t,this.Is=s,this.ds=o}static Es(e,t){let s=Fe(),o=Fe();for(const l of t.docChanges)switch(l.type){case 0:s=s.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new lp(e,t.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return lI()?8:aA(Yt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,s,o){const l={result:null};return this.ps(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ys(e,t,o,s).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new DP;return this.ws(e,t,h).next((f=>{if(l.result=f,this.Rs)return this.Ss(e,t,h,f.size)}))})).next((()=>l.result))}Ss(e,t,s,o){return s.documentReadCount<this.Vs?(Ro()<=Ue.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),J.resolve()):(Ro()<=Ue.DEBUG&&de("QueryEngine","Query:",xo(t),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(Ro()<=Ue.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(t))):J.resolve())}ps(e,t){if(nv(t))return J.resolve(null);let s=yr(t);return this.indexManager.getIndexType(e,s).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=vf(t,null,"F"),s=yr(t)),this.indexManager.getDocumentsMatchingTarget(e,s).next((l=>{const h=Fe(...l);return this.gs.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,s).next((p=>{const v=this.bs(t,f);return this.Ds(t,v,h,p.readTime)?this.ps(e,vf(t,null,"F")):this.vs(e,v,t,p)}))))})))))}ys(e,t,s,o){return nv(t)||o.isEqual(Re.min())?J.resolve(null):this.gs.getDocuments(e,s).next((l=>{const h=this.bs(t,l);return this.Ds(t,h,s,o)?J.resolve(null):(Ro()<=Ue.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),xo(t)),this.vs(e,h,t,nA(o,ul)).next((f=>f)))}))}bs(e,t){let s=new kt(_w(e));return t.forEach(((o,l)=>{qc(e,l)&&(s=s.add(l))})),s}Ds(e,t,s,o){if(e.limit===null)return!1;if(s.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,t,s){return Ro()<=Ue.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",xo(t)),this.gs.getDocumentsMatchingQuery(e,t,Fs.min(),s)}vs(e,t,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const up="LocalStore",OP=3e8;class VP{constructor(e,t,s,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new ut(Ve),this.Ms=new Li((l=>Zf(l)),ep),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new IP(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function LP(n,e,t,s){return new VP(n,e,t,s)}async function Bw(n,e){const t=xe(n);return await t.persistence.runTransaction("Handle user change","readonly",(s=>{let o;return t.mutationQueue.getAllMutationBatches(s).next((l=>(o=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(s)))).next((l=>{const h=[],f=[];let p=Fe();for(const v of o){h.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}for(const v of l){f.push(v.batchId);for(const w of v.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(s,p).next((v=>({Bs:v,removedBatchIds:h,addedBatchIds:f})))}))}))}function jP(n,e){const t=xe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(s=>{const o=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return(function(f,p,v,w){const T=v.batch,C=T.keys();let b=J.resolve();return C.forEach((L=>{b=b.next((()=>w.getEntry(p,L))).next((M=>{const k=v.docVersions.get(L);Ge(k!==null,48541),M.version.compareTo(k)<0&&(T.applyToRemoteDocument(M,v),M.isValidDocument()&&(M.setReadTime(v.commitVersion),w.addEntry(M)))}))})),b.next((()=>f.mutationQueue.removeMutationBatch(p,T)))})(t,s,e,l).next((()=>l.apply(s))).next((()=>t.mutationQueue.performConsistencyCheck(s))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,(function(f){let p=Fe();for(let v=0;v<f.mutationResults.length;++v)f.mutationResults[v].transformResults.length>0&&(p=p.add(f.batch.mutations[v].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(s,o)))}))}function $w(n){const e=xe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function MP(n,e){const t=xe(n),s=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const f=[];e.targetChanges.forEach(((w,T)=>{const C=o.get(T);if(!C)return;f.push(t.hi.removeMatchingKeys(l,w.removedDocuments,T).next((()=>t.hi.addMatchingKeys(l,w.addedDocuments,T))));let b=C.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?b=b.withResumeToken(Bt.EMPTY_BYTE_STRING,Re.min()).withLastLimboFreeSnapshotVersion(Re.min()):w.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(w.resumeToken,s)),o=o.insert(T,b),(function(M,k,W){return M.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=OP?!0:W.addedDocuments.size+W.modifiedDocuments.size+W.removedDocuments.size>0})(C,b,w)&&f.push(t.hi.updateTargetData(l,b))}));let p=Gr(),v=Fe();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(UP(l,h,e.documentUpdates).next((w=>{p=w.Ls,v=w.ks}))),!s.isEqual(Re.min())){const w=t.hi.getLastRemoteSnapshotVersion(l).next((T=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,s)));f.push(w)}return J.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,v))).next((()=>p))})).then((l=>(t.Fs=o,l)))}function UP(n,e,t){let s=Fe(),o=Fe();return t.forEach((l=>s=s.add(l))),e.getEntries(n,s).next((l=>{let h=Gr();return t.forEach(((f,p)=>{const v=l.get(f);p.isFoundDocument()!==v.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Re.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!v.isValidDocument()||p.version.compareTo(v.version)>0||p.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):de(up,"Ignoring outdated watch update for ",f,". Current version:",v.version," Watch version:",p.version)})),{Ls:h,ks:o}}))}function FP(n,e){const t=xe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(s=>(e===void 0&&(e=Yf),t.mutationQueue.getNextMutationBatchAfterBatchId(s,e))))}function zP(n,e){const t=xe(n);return t.persistence.runTransaction("Allocate target","readwrite",(s=>{let o;return t.hi.getTargetData(s,e).next((l=>l?(o=l,J.resolve(o)):t.hi.allocateTargetId(s).next((h=>(o=new Ds(e,h,"TargetPurposeListen",s.currentSequenceNumber),t.hi.addTargetData(s,o).next((()=>o)))))))})).then((s=>{const o=t.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(s.targetId,s),t.Ms.set(e,s.targetId)),s}))}async function If(n,e,t){const s=xe(n),o=s.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await s.persistence.runTransaction("Release target",l,(h=>s.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Zo(h))throw h;de(up,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function mv(n,e,t){const s=xe(n);let o=Re.min(),l=Fe();return s.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,v,w){const T=xe(p),C=T.Ms.get(w);return C!==void 0?J.resolve(T.Fs.get(C)):T.hi.getTargetData(v,w)})(s,h,yr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,f.targetId).next((p=>{l=p}))})).next((()=>s.Cs.getDocumentsMatchingQuery(h,e,t?o:Re.min(),t?l:Fe()))).next((f=>(BP(s,RA(e),f),{documents:f,qs:l})))))}function BP(n,e,t){let s=n.xs.get(e)||Re.min();t.forEach(((o,l)=>{l.readTime.compareTo(s)>0&&(s=l.readTime)})),n.xs.set(e,s)}class gv{constructor(){this.activeTargetIds=OA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class $P{constructor(){this.Fo=new gv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,s){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,s){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new gv,Promise.resolve()}handleUserChange(e,t,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yv="ConnectivityMonitor";class vv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){de(yv,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){de(yv,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu=null;function Sf(){return Qu===null?Qu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qu++,"0x"+Qu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="RestConnection",HP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class qP{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Tc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,t,s,o,l){const h=Sf(),f=this.Go(e,t.toUriEncodedString());de(qd,`Sending RPC '${e}' ${h}:`,f,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,l);const{host:v}=new URL(f),w=Qo(v);return this.jo(e,f,p,s,w).then((T=>(de(qd,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw Us(qd,`RPC '${e}' ${h} failed with error: `,T,"url: ",f,"request:",s),T}))}Jo(e,t,s,o,l,h){return this.Wo(e,t,s,o,l)}zo(e,t,s){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Xo})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),s&&s.headers.forEach(((o,l)=>e[l]=o))}Go(e,t){const s=HP[e];return`${this.$o}/v1/${t}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class KP extends qP{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,s,o,l){const h=Sf();return new Promise(((f,p)=>{const v=new H_;v.setWithCredentials(!0),v.listenOnce(q_.COMPLETE,(()=>{try{switch(v.getLastErrorCode()){case ic.NO_ERROR:const T=v.getResponseJson();de(Gt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),f(T);break;case ic.TIMEOUT:de(Gt,`RPC '${e}' ${h} timed out`),p(new ue(Y.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:const C=v.getStatus();if(de(Gt,`RPC '${e}' ${h} failed with status:`,C,"response text:",v.getResponseText()),C>0){let b=v.getResponseJson();Array.isArray(b)&&(b=b[0]);const L=b==null?void 0:b.error;if(L&&L.status&&L.message){const M=(function(W){const G=W.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(G)>=0?G:Y.UNKNOWN})(L.status);p(new ue(M,L.message))}else p(new ue(Y.UNKNOWN,"Server responded with status "+v.getStatus()))}else p(new ue(Y.UNAVAILABLE,"Connection failed."));break;default:Ae(9055,{c_:e,streamId:h,l_:v.getLastErrorCode(),h_:v.getLastError()})}}finally{de(Gt,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);de(Gt,`RPC '${e}' ${h} sending request:`,o),v.send(t,"POST",w,s,15)}))}P_(e,t,s){const o=Sf(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Q_(),f=K_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(p.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,s),p.encodeInitMessageHeaders=!0;const w=l.join("");de(Gt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=h.createWebChannel(w,p);this.T_(T);let C=!1,b=!1;const L=new GP({Ho:k=>{b?de(Gt,`Not sending because RPC '${e}' stream ${o} is closed:`,k):(C||(de(Gt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),C=!0),de(Gt,`RPC '${e}' stream ${o} sending:`,k),T.send(k))},Yo:()=>T.close()}),M=(k,W,G)=>{k.listen(W,(Q=>{try{G(Q)}catch(ne){setTimeout((()=>{throw ne}),0)}}))};return M(T,Ka.EventType.OPEN,(()=>{b||(de(Gt,`RPC '${e}' stream ${o} transport opened.`),L.s_())})),M(T,Ka.EventType.CLOSE,(()=>{b||(b=!0,de(Gt,`RPC '${e}' stream ${o} transport closed`),L.__(),this.I_(T))})),M(T,Ka.EventType.ERROR,(k=>{b||(b=!0,Us(Gt,`RPC '${e}' stream ${o} transport errored. Name:`,k.name,"Message:",k.message),L.__(new ue(Y.UNAVAILABLE,"The operation could not be completed")))})),M(T,Ka.EventType.MESSAGE,(k=>{var W;if(!b){const G=k.data[0];Ge(!!G,16349);const Q=G,ne=(Q==null?void 0:Q.error)||((W=Q[0])===null||W===void 0?void 0:W.error);if(ne){de(Gt,`RPC '${e}' stream ${o} received error:`,ne);const ge=ne.status;let fe=(function(P){const N=Et[P];if(N!==void 0)return kw(N)})(ge),D=ne.message;fe===void 0&&(fe=Y.INTERNAL,D="Unknown error status: "+ge+" with message "+ne.message),b=!0,L.__(new ue(fe,D)),T.close()}else de(Gt,`RPC '${e}' stream ${o} received:`,G),L.a_(G)}})),M(f,G_.STAT_EVENT,(k=>{k.stat===hf.PROXY?de(Gt,`RPC '${e}' stream ${o} detected buffering proxy`):k.stat===hf.NOPROXY&&de(Gt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{L.o_()}),0),L}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(n){return new JA(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ww{constructor(e,t,s=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=s,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-s);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _v="PersistentStream";class Hw{constructor(e,t,s,o,l,h,f,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Ww(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(qr(t.toString()),qr("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([s,o])=>{this.b_===t&&this.W_(s,o)}),(s=>{e((()=>{const o=new ue(Y.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)}))}))}W_(e,t){const s=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{s((()=>this.listener.Zo()))})),this.stream.e_((()=>{s((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{s((()=>this.G_(o)))})),this.stream.onMessage((o=>{s((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return de(_v,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(de(_v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class QP extends Hw{constructor(e,t,s,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=tP(this.serializer,e),s=(function(l){if(!("targetChange"in l))return Re.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Re.min():h.readTime?vr(h.readTime):Re.min()})(e);return this.listener.J_(t,s)}H_(e){const t={};t.database=Tf(this.serializer),t.addTarget=(function(l,h){let f;const p=h.target;if(f=gf(p)?{documents:sP(l,p)}:{query:iP(l,p).Vt},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=bw(l,h.resumeToken);const v=_f(l,h.expectedCount);v!==null&&(f.expectedCount=v)}else if(h.snapshotVersion.compareTo(Re.min())>0){f.readTime=Rc(l,h.snapshotVersion.toTimestamp());const v=_f(l,h.expectedCount);v!==null&&(f.expectedCount=v)}return f})(this.serializer,e);const s=aP(this.serializer,e);s&&(t.labels=s),this.k_(t)}Y_(e){const t={};t.database=Tf(this.serializer),t.removeTarget=e,this.k_(t)}}class YP extends Hw{constructor(e,t,s,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,s,o,h),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=rP(e.writeResults,e.commitTime),s=vr(e.commitTime);return this.listener.ta(s,t)}na(){const e={};e.database=Tf(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((s=>nP(this.serializer,s)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{}class JP extends XP{constructor(e,t,s,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Wo(e,wf(t,s),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ue(Y.UNKNOWN,l.toString())}))}Jo(e,t,s,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Jo(e,wf(t,s),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ue(Y.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class ZP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(qr(t),this._a=!1):de("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi="RemoteStore";class eR{constructor(e,t,s,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo((h=>{s.enqueueAndForget((async()=>{ji(this)&&(de(bi,"Restarting streams for network reachability change."),await(async function(p){const v=xe(p);v.Ia.add(4),await Cl(v),v.Aa.set("Unknown"),v.Ia.delete(4),await Xc(v)})(this))}))})),this.Aa=new ZP(s,o)}}async function Xc(n){if(ji(n))for(const e of n.da)await e(!0)}async function Cl(n){for(const e of n.da)await e(!1)}function qw(n,e){const t=xe(n);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),fp(t)?dp(t):ea(t).x_()&&hp(t,e))}function cp(n,e){const t=xe(n),s=ea(t);t.Ta.delete(e),s.x_()&&Gw(t,e),t.Ta.size===0&&(s.x_()?s.B_():ji(t)&&t.Aa.set("Unknown"))}function hp(n,e){if(n.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Re.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}ea(n).H_(e)}function Gw(n,e){n.Ra.$e(e),ea(n).Y_(e)}function dp(n){n.Ra=new KA({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>n.Ta.get(e)||null,lt:()=>n.datastore.serializer.databaseId}),ea(n).start(),n.Aa.aa()}function fp(n){return ji(n)&&!ea(n).M_()&&n.Ta.size>0}function ji(n){return xe(n).Ia.size===0}function Kw(n){n.Ra=void 0}async function tR(n){n.Aa.set("Online")}async function nR(n){n.Ta.forEach(((e,t)=>{hp(n,e)}))}async function rR(n,e){Kw(n),fp(n)?(n.Aa.la(e),dp(n)):n.Aa.set("Unknown")}async function sR(n,e,t){if(n.Aa.set("Online"),e instanceof Dw&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ta.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ta.delete(f),o.Ra.removeTarget(f))})(n,e)}catch(s){de(bi,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await kc(n,s)}else if(e instanceof uc?n.Ra.Ye(e):e instanceof Nw?n.Ra.it(e):n.Ra.et(e),!t.isEqual(Re.min()))try{const s=await $w(n.localStore);t.compareTo(s)>=0&&await(function(l,h){const f=l.Ra.Pt(h);return f.targetChanges.forEach(((p,v)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.Ta.get(v);w&&l.Ta.set(v,w.withResumeToken(p.resumeToken,h))}})),f.targetMismatches.forEach(((p,v)=>{const w=l.Ta.get(p);if(!w)return;l.Ta.set(p,w.withResumeToken(Bt.EMPTY_BYTE_STRING,w.snapshotVersion)),Gw(l,p);const T=new Ds(w.target,p,v,w.sequenceNumber);hp(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(n,t)}catch(s){de(bi,"Failed to raise snapshot:",s),await kc(n,s)}}async function kc(n,e,t){if(!Zo(e))throw e;n.Ia.add(1),await Cl(n),n.Aa.set("Offline"),t||(t=()=>$w(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{de(bi,"Retrying IndexedDB access"),await t(),n.Ia.delete(1),await Xc(n)}))}function Qw(n,e){return e().catch((t=>kc(n,t,e)))}async function Jc(n){const e=xe(n),t=Ws(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Yf;for(;iR(e);)try{const o=await FP(e.localStore,s);if(o===null){e.Pa.length===0&&t.B_();break}s=o.batchId,oR(e,o)}catch(o){await kc(e,o)}Yw(e)&&Xw(e)}function iR(n){return ji(n)&&n.Pa.length<10}function oR(n,e){n.Pa.push(e);const t=Ws(n);t.x_()&&t.Z_&&t.X_(e.mutations)}function Yw(n){return ji(n)&&!Ws(n).M_()&&n.Pa.length>0}function Xw(n){Ws(n).start()}async function aR(n){Ws(n).na()}async function lR(n){const e=Ws(n);for(const t of n.Pa)e.X_(t.mutations)}async function uR(n,e,t){const s=n.Pa.shift(),o=rp.from(s,e,t);await Qw(n,(()=>n.remoteSyncer.applySuccessfulWrite(o))),await Jc(n)}async function cR(n,e){e&&Ws(n).Z_&&await(async function(s,o){if((function(h){return qA(h)&&h!==Y.ABORTED})(o.code)){const l=s.Pa.shift();Ws(s).N_(),await Qw(s,(()=>s.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Jc(s)}})(n,e),Yw(n)&&Xw(n)}async function wv(n,e){const t=xe(n);t.asyncQueue.verifyOperationInProgress(),de(bi,"RemoteStore received new credentials");const s=ji(t);t.Ia.add(3),await Cl(t),s&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Xc(t)}async function hR(n,e){const t=xe(n);e?(t.Ia.delete(2),await Xc(t)):e||(t.Ia.add(2),await Cl(t),t.Aa.set("Unknown"))}function ea(n){return n.Va||(n.Va=(function(t,s,o){const l=xe(t);return l.ia(),new QP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:tR.bind(null,n),e_:nR.bind(null,n),n_:rR.bind(null,n),J_:sR.bind(null,n)}),n.da.push((async e=>{e?(n.Va.N_(),fp(n)?dp(n):n.Aa.set("Unknown")):(await n.Va.stop(),Kw(n))}))),n.Va}function Ws(n){return n.ma||(n.ma=(function(t,s,o){const l=xe(t);return l.ia(),new YP(s,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(n.datastore,n.asyncQueue,{Zo:()=>Promise.resolve(),e_:aR.bind(null,n),n_:cR.bind(null,n),ea:lR.bind(null,n),ta:uR.bind(null,n)}),n.da.push((async e=>{e?(n.ma.N_(),await Jc(n)):(await n.ma.stop(),n.Pa.length>0&&(de(bi,`Stopping write stream with ${n.Pa.length} pending writes`),n.Pa=[]))}))),n.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{constructor(e,t,s,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=s,this.op=o,this.removalCallback=l,this.deferred=new Br,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,s,o,l){const h=Date.now()+s,f=new pp(e,t,h,o,l);return f.start(s),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ue(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function mp(n,e){if(qr("AsyncQueue",`${e}: ${n}`),Zo(n))return new ue(Y.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{static emptySet(e){return new Lo(e.comparator)}constructor(e){this.comparator=e?(t,s)=>e(t,s)||Ee.comparator(t.key,s.key):(t,s)=>Ee.comparator(t.key,s.key),this.keyedMap=Qa(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,s)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=s.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const s=new Lo;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=t,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ev{constructor(){this.fa=new ut(Ee.comparator)}track(e){const t=e.doc.key,s=this.fa.get(t);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(t,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(t,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(t):e.type===1&&s.type===2?this.fa=this.fa.insert(t,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ae(63341,{At:e,ga:s}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,s)=>{e.push(s)})),e}}class $o{constructor(e,t,s,o,l,h,f,p,v){this.query=e,this.docs=t,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=v}static fromInitialDocuments(e,t,s,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new $o(e,t,Lo.emptySet(t),h,s,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,s=e.docChanges;if(t.length!==s.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==s[o].type||!t[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class fR{constructor(){this.queries=Tv(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,s){const o=xe(t),l=o.queries;o.queries=Tv(),l.forEach(((h,f)=>{for(const p of f.wa)p.onError(s)}))})(this,new ue(Y.ABORTED,"Firestore shutting down"))}}function Tv(){return new Li((n=>vw(n)),Hc)}async function gp(n,e){const t=xe(n);let s=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.ba()&&(s=2):(l=new dR,s=e.ba()?0:1);try{switch(s){case 0:l.ya=await t.onListen(o,!0);break;case 1:l.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=mp(h,`Initialization of query '${xo(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&vp(t)}async function yp(n,e){const t=xe(n),s=e.query;let o=3;const l=t.queries.get(s);if(l){const h=l.wa.indexOf(e);h>=0&&(l.wa.splice(h,1),l.wa.length===0?o=e.ba()?0:1:!l.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(s),t.onUnlisten(s,!0);case 1:return t.queries.delete(s),t.onUnlisten(s,!1);case 2:return t.onLastRemoteStoreUnlisten(s);default:return}}function pR(n,e){const t=xe(n);let s=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.wa)f.Ca(o)&&(s=!0);h.ya=o}}s&&vp(t)}function mR(n,e,t){const s=xe(n),o=s.queries.get(e);if(o)for(const l of o.wa)l.onError(t);s.queries.delete(e)}function vp(n){n.Da.forEach((e=>{e.next()}))}var Cf,Iv;(Iv=Cf||(Cf={})).Fa="default",Iv.Cache="cache";class _p{constructor(e,t,s){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new $o(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const s=t!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Cf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e){this.key=e}}class Zw{constructor(e){this.key=e}}class gR{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Fe(),this.mutatedKeys=Fe(),this.Xa=_w(e),this.eu=new Lo(this.Xa)}get tu(){return this.Ha}nu(e,t){const s=t?t.ru:new Ev,o=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,v=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,T)=>{const C=o.get(w),b=qc(this.query,T)?T:null,L=!!C&&this.mutatedKeys.has(C.key),M=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let k=!1;C&&b?C.data.isEqual(b.data)?L!==M&&(s.track({type:3,doc:b}),k=!0):this.iu(C,b)||(s.track({type:2,doc:b}),k=!0,(p&&this.Xa(b,p)>0||v&&this.Xa(b,v)<0)&&(f=!0)):!C&&b?(s.track({type:0,doc:b}),k=!0):C&&!b&&(s.track({type:1,doc:C}),k=!0,(p||v)&&(f=!0)),k&&(b?(h=h.add(b),l=M?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),s.track({type:1,doc:w})}return{eu:h,ru:s,Ds:f,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,s,o){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort(((w,T)=>(function(b,L){const M=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae(20277,{At:k})}};return M(b)-M(L)})(w.type,T.type)||this.Xa(w.doc,T.doc))),this.su(s),o=o!=null&&o;const f=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,v=p!==this.Ya;return this.Ya=p,h.length!==0||v?{snapshot:new $o(this.query,e.eu,l,h,e.mutatedKeys,p===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new Ev,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Fe(),this.eu.forEach((s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))}));const t=[];return e.forEach((s=>{this.Za.has(s)||t.push(new Zw(s))})),this.Za.forEach((s=>{e.has(s)||t.push(new Jw(s))})),t}uu(e){this.Ha=e.qs,this.Za=Fe();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return $o.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const wp="SyncEngine";class yR{constructor(e,t,s){this.query=e,this.targetId=t,this.view=s}}class vR{constructor(e){this.key=e,this.lu=!1}}class _R{constructor(e,t,s,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=s,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Li((f=>vw(f)),Hc),this.Tu=new Map,this.Iu=new Set,this.du=new ut(Ee.comparator),this.Eu=new Map,this.Au=new op,this.Ru={},this.Vu=new Map,this.mu=Bo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function wR(n,e,t=!0){const s=iE(n);let o;const l=s.Pu.get(e);return l?(s.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await eE(s,e,t,!0),o}async function ER(n,e){const t=iE(n);await eE(t,e,!0,!1)}async function eE(n,e,t,s){const o=await zP(n.localStore,yr(e)),l=o.targetId,h=n.sharedClientState.addLocalQueryTarget(l,t);let f;return s&&(f=await TR(n,e,l,h==="current",o.resumeToken)),n.isPrimaryClient&&t&&qw(n.remoteStore,o),f}async function TR(n,e,t,s,o){n.gu=(T,C,b)=>(async function(M,k,W,G){let Q=k.view.nu(W);Q.Ds&&(Q=await mv(M.localStore,k.query,!1).then((({documents:D})=>k.view.nu(D,Q))));const ne=G&&G.targetChanges.get(k.targetId),ge=G&&G.targetMismatches.get(k.targetId)!=null,fe=k.view.applyChanges(Q,M.isPrimaryClient,ne,ge);return Cv(M,k.targetId,fe._u),fe.snapshot})(n,T,C,b);const l=await mv(n.localStore,e,!0),h=new gR(e,l.qs),f=h.nu(l.documents),p=Sl.createSynthesizedTargetChangeForCurrentChange(t,s&&n.onlineState!=="Offline",o),v=h.applyChanges(f,n.isPrimaryClient,p);Cv(n,t,v._u);const w=new yR(e,t,h);return n.Pu.set(e,w),n.Tu.has(t)?n.Tu.get(t).push(e):n.Tu.set(t,[e]),v.snapshot}async function IR(n,e,t){const s=xe(n),o=s.Pu.get(e),l=s.Tu.get(o.targetId);if(l.length>1)return s.Tu.set(o.targetId,l.filter((h=>!Hc(h,e)))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await If(s.localStore,o.targetId,!1).then((()=>{s.sharedClientState.clearQueryState(o.targetId),t&&cp(s.remoteStore,o.targetId),Af(s,o.targetId)})).catch(Jo)):(Af(s,o.targetId),await If(s.localStore,o.targetId,!0))}async function SR(n,e){const t=xe(n),s=t.Pu.get(e),o=t.Tu.get(s.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(s.targetId),cp(t.remoteStore,s.targetId))}async function CR(n,e,t){const s=DR(n);try{const o=await(function(h,f){const p=xe(h),v=Xe.now(),w=f.reduce(((b,L)=>b.add(L.key)),Fe());let T,C;return p.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let L=Gr(),M=Fe();return p.Os.getEntries(b,w).next((k=>{L=k,L.forEach(((W,G)=>{G.isValidDocument()||(M=M.add(W))}))})).next((()=>p.localDocuments.getOverlayedDocuments(b,L))).next((k=>{T=k;const W=[];for(const G of f){const Q=zA(G,T.get(G.key).overlayedDocument);Q!=null&&W.push(new Qs(G.key,Q,cw(Q.value.mapValue),Vn.exists(!0)))}return p.mutationQueue.addMutationBatch(b,v,W,f)})).next((k=>{C=k;const W=k.applyToLocalDocumentSet(T,M);return p.documentOverlayCache.saveOverlays(b,k.batchId,W)}))})).then((()=>({batchId:C.batchId,changes:Ew(T)})))})(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),(function(h,f,p){let v=h.Ru[h.currentUser.toKey()];v||(v=new ut(Ve)),v=v.insert(f,p),h.Ru[h.currentUser.toKey()]=v})(s,o.batchId,t),await Al(s,o.changes),await Jc(s.remoteStore)}catch(o){const l=mp(o,"Failed to persist write");t.reject(l)}}async function tE(n,e){const t=xe(n);try{const s=await MP(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Eu.get(l);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Ge(h.lu,14607):o.removedDocuments.size>0&&(Ge(h.lu,42227),h.lu=!1))})),await Al(t,s,e)}catch(s){await Jo(s)}}function Sv(n,e,t){const s=xe(n);if(s.isPrimaryClient&&t===0||!s.isPrimaryClient&&t===1){const o=[];s.Pu.forEach(((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const p=xe(h);p.onlineState=f;let v=!1;p.queries.forEach(((w,T)=>{for(const C of T.wa)C.va(f)&&(v=!0)})),v&&vp(p)})(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function AR(n,e,t){const s=xe(n);s.sharedClientState.updateQueryState(e,"rejected",t);const o=s.Eu.get(e),l=o&&o.key;if(l){let h=new ut(Ee.comparator);h=h.insert(l,Qt.newNoDocument(l,Re.min()));const f=Fe().add(l),p=new Qc(Re.min(),new Map,new ut(Ve),h,f);await tE(s,p),s.du=s.du.remove(l),s.Eu.delete(e),Ep(s)}else await If(s.localStore,e,!1).then((()=>Af(s,e,t))).catch(Jo)}async function PR(n,e){const t=xe(n),s=e.batch.batchId;try{const o=await jP(t.localStore,e);rE(t,s,null),nE(t,s),t.sharedClientState.updateMutationState(s,"acknowledged"),await Al(t,o)}catch(o){await Jo(o)}}async function RR(n,e,t){const s=xe(n);try{const o=await(function(h,f){const p=xe(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(v=>{let w;return p.mutationQueue.lookupMutationBatch(v,f).next((T=>(Ge(T!==null,37113),w=T.keys(),p.mutationQueue.removeMutationBatch(v,T)))).next((()=>p.mutationQueue.performConsistencyCheck(v))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(v,w,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w))).next((()=>p.localDocuments.getDocuments(v,w)))}))})(s.localStore,e);rE(s,e,t),nE(s,e),s.sharedClientState.updateMutationState(e,"rejected",t),await Al(s,o)}catch(o){await Jo(o)}}function nE(n,e){(n.Vu.get(e)||[]).forEach((t=>{t.resolve()})),n.Vu.delete(e)}function rE(n,e,t){const s=xe(n);let o=s.Ru[s.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function Af(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const s of n.Tu.get(e))n.Pu.delete(s),t&&n.hu.pu(s,t);n.Tu.delete(e),n.isPrimaryClient&&n.Au.zr(e).forEach((s=>{n.Au.containsKey(s)||sE(n,s)}))}function sE(n,e){n.Iu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(cp(n.remoteStore,t),n.du=n.du.remove(e),n.Eu.delete(t),Ep(n))}function Cv(n,e,t){for(const s of t)s instanceof Jw?(n.Au.addReference(s.key,e),xR(n,s)):s instanceof Zw?(de(wp,"Document no longer in limbo: "+s.key),n.Au.removeReference(s.key,e),n.Au.containsKey(s.key)||sE(n,s.key)):Ae(19791,{yu:s})}function xR(n,e){const t=e.key,s=t.path.canonicalString();n.du.get(t)||n.Iu.has(s)||(de(wp,"New document in limbo: "+t),n.Iu.add(s),Ep(n))}function Ep(n){for(;n.Iu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Iu.values().next().value;n.Iu.delete(e);const t=new Ee(tt.fromString(e)),s=n.mu.next();n.Eu.set(s,new vR(t)),n.du=n.du.insert(t,s),qw(n.remoteStore,new Ds(yr(Wc(t.path)),s,"TargetPurposeLimboResolution",zc.ue))}}async function Al(n,e,t){const s=xe(n),o=[],l=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach(((f,p)=>{h.push(s.gu(p,e,t).then((v=>{var w;if((v||t)&&s.isPrimaryClient){const T=v?!v.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(v){o.push(v);const T=lp.Es(p.targetId,v);l.push(T)}})))})),await Promise.all(h),s.hu.J_(o),await(async function(p,v){const w=xe(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>J.forEach(v,(C=>J.forEach(C.Is,(b=>w.persistence.referenceDelegate.addReference(T,C.targetId,b))).next((()=>J.forEach(C.ds,(b=>w.persistence.referenceDelegate.removeReference(T,C.targetId,b)))))))))}catch(T){if(!Zo(T))throw T;de(up,"Failed to update sequence numbers: "+T)}for(const T of v){const C=T.targetId;if(!T.fromCache){const b=w.Fs.get(C),L=b.snapshotVersion,M=b.withLastLimboFreeSnapshotVersion(L);w.Fs=w.Fs.insert(C,M)}}})(s.localStore,l))}async function kR(n,e){const t=xe(n);if(!t.currentUser.isEqual(e)){de(wp,"User change. New user:",e.toKey());const s=await Bw(t.localStore,e);t.currentUser=e,(function(l,h){l.Vu.forEach((f=>{f.forEach((p=>{p.reject(new ue(Y.CANCELLED,h))}))})),l.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Al(t,s.Bs)}}function NR(n,e){const t=xe(n),s=t.Eu.get(e);if(s&&s.lu)return Fe().add(s.key);{let o=Fe();const l=t.Tu.get(e);if(!l)return o;for(const h of l){const f=t.Pu.get(h);o=o.unionWith(f.view.tu)}return o}}function iE(n){const e=xe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=NR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=AR.bind(null,e),e.hu.J_=pR.bind(null,e.eventManager),e.hu.pu=mR.bind(null,e.eventManager),e}function DR(n){const e=xe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=RR.bind(null,e),e}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return LP(this.persistence,new bP,e.initialUser,this.serializer)}Du(e){return new zw(ap.Vi,this.serializer)}bu(e){return new $P}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class bR extends Nc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){Ge(this.persistence.referenceDelegate instanceof xc,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new vP(s,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?hn.withCacheSize(this.cacheSizeBytes):hn.DEFAULT;return new zw((s=>xc.Vi(s,t)),this.serializer)}}class Pf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Sv(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=kR.bind(null,this.syncEngine),await hR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new fR})()}createDatastore(e){const t=Yc(e.databaseInfo.databaseId),s=(function(l){return new KP(l)})(e.databaseInfo);return(function(l,h,f,p){return new JP(l,h,f,p)})(e.authCredentials,e.appCheckCredentials,s,t)}createRemoteStore(e){return(function(s,o,l,h,f){return new eR(s,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Sv(this.syncEngine,t,0)),(function(){return vv.C()?new vv:new WP})())}createSyncEngine(e,t){return(function(o,l,h,f,p,v,w){const T=new _R(o,l,h,f,p,v);return w&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=xe(o);de(bi,"RemoteStore shutting down."),l.Ia.add(5),await Cl(l),l.Ea.shutdown(),l.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Pf.provider={build:()=>new Pf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):qr("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="FirestoreClient";class OR{constructor(e,t,s,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=s,this.databaseInfo=o,this.user=Kt.UNAUTHENTICATED,this.clientId=Qf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(s,(async h=>{de(Hs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(s,(h=>(de(Hs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Br;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const s=mp(t,"Failed to shutdown persistence");e.reject(s)}})),e.promise}}async function Kd(n,e){n.asyncQueue.verifyOperationInProgress(),de(Hs,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let s=t.initialUser;n.setCredentialChangeListener((async o=>{s.isEqual(o)||(await Bw(e.localStore,o),s=o)})),e.persistence.setDatabaseDeletedListener((()=>{Us("Terminating Firestore due to IndexedDb database deletion"),n.terminate().then((()=>{de("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{Us("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),n._offlineComponents=e}async function Av(n,e){n.asyncQueue.verifyOperationInProgress();const t=await VR(n);de(Hs,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((s=>wv(e.remoteStore,s))),n.setAppCheckTokenChangeListener(((s,o)=>wv(e.remoteStore,o))),n._onlineComponents=e}async function VR(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){de(Hs,"Using user provided OfflineComponentProvider");try{await Kd(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Y.FAILED_PRECONDITION||o.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;Us("Error using user provided cache. Falling back to memory cache: "+t),await Kd(n,new Nc)}}else de(Hs,"Using default OfflineComponentProvider"),await Kd(n,new bR(void 0));return n._offlineComponents}async function oE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(de(Hs,"Using user provided OnlineComponentProvider"),await Av(n,n._uninitializedComponentsProvider._online)):(de(Hs,"Using default OnlineComponentProvider"),await Av(n,new Pf))),n._onlineComponents}function LR(n){return oE(n).then((e=>e.syncEngine))}async function Dc(n){const e=await oE(n),t=e.eventManager;return t.onListen=wR.bind(null,e.syncEngine),t.onUnlisten=IR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=ER.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=SR.bind(null,e.syncEngine),t}function jR(n,e,t={}){const s=new Br;return n.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,p,v){const w=new Tp({next:C=>{w.Ou(),h.enqueueAndForget((()=>yp(l,T)));const b=C.docs.has(f);!b&&C.fromCache?v.reject(new ue(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&C.fromCache&&p&&p.source==="server"?v.reject(new ue(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(C)},error:C=>v.reject(C)}),T=new _p(Wc(f.path),w,{includeMetadataChanges:!0,ka:!0});return gp(l,T)})(await Dc(n),n.asyncQueue,e,t,s))),s.promise}function MR(n,e,t={}){const s=new Br;return n.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,p,v){const w=new Tp({next:C=>{w.Ou(),h.enqueueAndForget((()=>yp(l,T))),C.fromCache&&p.source==="server"?v.reject(new ue(Y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(C)},error:C=>v.reject(C)}),T=new _p(f,w,{includeMetadataChanges:!0,ka:!0});return gp(l,T)})(await Dc(n),n.asyncQueue,e,t,s))),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE="firestore.googleapis.com",Rv=!0;class xv{constructor(e){var t,s;if(e.host===void 0){if(e.ssl!==void 0)throw new ue(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=lE,this.ssl=Rv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Rv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Fw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<gP)throw new ue(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=aE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(s,o){return s.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zc{constructor(e,t,s,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ue(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(s){if(!s)return new qC;switch(s.type){case"firstParty":return new YC(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ue(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const s=Pv.get(t);s&&(de("ComponentProvider","Removing Datastore"),Pv.delete(t),s.terminate())})(this),Promise.resolve()}}function UR(n,e,t,s={}){var o;n=fn(n,Zc);const l=Qo(e),h=n._getSettings(),f=Object.assign(Object.assign({},h),{emulatorOptions:n._getEmulatorOptions()}),p=`${e}:${t}`;l&&(t_(`https://${p}`),n_("Firestore",!0)),h.host!==lE&&h.host!==p&&Us("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:s});if(!Ri(v,f)&&(n._setSettings(v),s.mockUserToken)){let w,T;if(typeof s.mockUserToken=="string")w=s.mockUserToken,T=Kt.MOCK_USER;else{w=ZT(s.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const C=s.mockUserToken.sub||s.mockUserToken.user_id;if(!C)throw new ue(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Kt(C)}n._authCredentials=new GC(new X_(w,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi{constructor(e,t,s){this.converter=t,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Mi(this.firestore,e,this._query)}}class dt{constructor(e,t,s){this.converter=t,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ms(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dt(this.firestore,e,this._key)}toJSON(){return{type:dt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,s){if(El(t,dt._jsonSchema))return new dt(e,s||null,new Ee(tt.fromString(t.referencePath)))}}dt._jsonSchemaVersion="firestore/documentReference/1.0",dt._jsonSchema={type:It("string",dt._jsonSchemaVersion),referencePath:It("string")};class Ms extends Mi{constructor(e,t,s){super(e,t,Wc(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dt(this.firestore,null,new Ee(e))}withConverter(e){return new Ms(this.firestore,e,this._path)}}function $r(n,e,...t){if(n=vt(n),Z_("collection","path",e),n instanceof Zc){const s=tt.fromString(e,...t);return By(s),new Ms(n,null,s)}{if(!(n instanceof dt||n instanceof Ms))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(tt.fromString(e,...t));return By(s),new Ms(n.firestore,null,s)}}function Xn(n,e,...t){if(n=vt(n),arguments.length===1&&(e=Qf.newId()),Z_("doc","path",e),n instanceof Zc){const s=tt.fromString(e,...t);return zy(s),new dt(n,null,new Ee(s))}{if(!(n instanceof dt||n instanceof Ms))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(tt.fromString(e,...t));return zy(s),new dt(n.firestore,n instanceof Ms?n.converter:null,new Ee(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="AsyncQueue";class Nv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Ww(this,"async_queue_retry"),this.oc=()=>{const s=Gd();s&&de(kv,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const t=Gd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Gd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Br;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Zo(e))throw e;de(kv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((s=>{throw this.tc=s,this.nc=!1,qr("INTERNAL UNHANDLED ERROR: ",Dv(s)),s})).then((s=>(this.nc=!1,s))))));return this._c=t,t}enqueueAfterDelay(e,t,s){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=pp.createAndSchedule(this,e,t,s,(l=>this.lc(l)));return this.ec.push(o),o}ac(){this.tc&&Ae(47125,{hc:Dv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,s)=>t.targetTimeMs-s.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function Dv(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(n){return(function(t,s){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of s)if(l in o&&typeof o[l]=="function")return!0;return!1})(n,["next","error","complete"])}class Kr extends Zc{constructor(e,t,s,o){super(e,t,s,o),this.type="firestore",this._queue=new Nv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Nv(e),this._firestoreClient=void 0,await e}}}function FR(n,e){const t=typeof n=="object"?n:o_(),s=typeof n=="string"?n:Tc,o=Mf(t,"firestore").getImmediate({identifier:s});if(!o._initialized){const l=XT("firestore");l&&UR(o,...l)}return o}function eh(n){if(n._terminated)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||zR(n),n._firestoreClient}function zR(n){var e,t,s;const o=n._freezeSettings(),l=(function(f,p,v,w){return new dA(f,p,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,aE(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new OR(n._authCredentials,n._appCheckCredentials,n._queue,l,n._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this._byteString=e}static fromBase64String(e){try{return new On(Bt.fromBase64String(e))}catch(t){throw new ue(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new On(Bt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:On._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(El(e,On._jsonSchema))return On.fromBase64String(e.bytes)}}On._jsonSchemaVersion="firestore/bytes/1.0",On._jsonSchema={type:It("string",On._jsonSchemaVersion),bytes:It("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ue(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_r._jsonSchemaVersion}}static fromJSON(e){if(El(e,_r._jsonSchema))return new _r(e.latitude,e.longitude)}}_r._jsonSchemaVersion="firestore/geoPoint/1.0",_r._jsonSchema={type:It("string",_r._jsonSchemaVersion),latitude:It("number"),longitude:It("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(s,o){if(s.length!==o.length)return!1;for(let l=0;l<s.length;++l)if(s[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:wr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(El(e,wr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new wr(e.vectorValues);throw new ue(Y.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wr._jsonSchemaVersion="firestore/vectorValue/1.0",wr._jsonSchema={type:It("string",wr._jsonSchemaVersion),vectorValues:It("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=/^__.*__$/;class $R{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return this.fieldMask!==null?new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms):new Il(e,this.data,t,this.fieldTransforms)}}class uE{constructor(e,t,s){this.data=e,this.fieldMask=t,this.fieldTransforms=s}toMutation(e,t){return new Qs(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function cE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae(40011,{Ec:n})}}class Sp{constructor(e,t,s,o,l,h){this.settings=e,this.databaseId=t,this.serializer=s,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Sp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var t;const s=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return bc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(cE(this.Ec)&&BR.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class WR{constructor(e,t,s){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=s||Yc(e)}Dc(e,t,s,o=!1){return new Sp({Ec:e,methodName:t,bc:s,path:zt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nh(n){const e=n._freezeSettings(),t=Yc(n._databaseId);return new WR(n._databaseId,!!e.ignoreUndefinedProperties,t)}function hE(n,e,t,s,o,l={}){const h=n.Dc(l.merge||l.mergeFields?2:0,e,t,o);Cp("Data must be an object, but it was:",h,s);const f=dE(s,h);let p,v;if(l.merge)p=new En(h.fieldMask),v=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const C=Rf(e,T,t);if(!h.contains(C))throw new ue(Y.INVALID_ARGUMENT,`Field '${C}' is specified in your field mask but missing from your input data.`);pE(w,C)||w.push(C)}p=new En(w),v=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,v=h.fieldTransforms;return new $R(new dn(f),p,v)}class rh extends Ip{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rh}}function HR(n,e,t,s){const o=n.Dc(1,e,t);Cp("Data must be an object, but it was:",o,s);const l=[],h=dn.empty();Ks(s,((p,v)=>{const w=Ap(e,p,t);v=vt(v);const T=o.gc(w);if(v instanceof rh)l.push(w);else{const C=Pl(v,T);C!=null&&(l.push(w),h.set(w,C))}}));const f=new En(l);return new uE(h,f,o.fieldTransforms)}function qR(n,e,t,s,o,l){const h=n.Dc(1,e,t),f=[Rf(e,s,t)],p=[o];if(l.length%2!=0)throw new ue(Y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let C=0;C<l.length;C+=2)f.push(Rf(e,l[C])),p.push(l[C+1]);const v=[],w=dn.empty();for(let C=f.length-1;C>=0;--C)if(!pE(v,f[C])){const b=f[C];let L=p[C];L=vt(L);const M=h.gc(b);if(L instanceof rh)v.push(b);else{const k=Pl(L,M);k!=null&&(v.push(b),w.set(b,k))}}const T=new En(v);return new uE(w,T,h.fieldTransforms)}function GR(n,e,t,s=!1){return Pl(t,n.Dc(s?4:3,e))}function Pl(n,e){if(fE(n=vt(n)))return Cp("Unsupported field value:",e,n),dE(n,e);if(n instanceof Ip)return(function(s,o){if(!cE(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const l=s._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(s,o){const l=[];let h=0;for(const f of s){let p=Pl(f,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}})(n,e)}return(function(s,o){if((s=vt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return VA(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const l=Xe.fromDate(s);return{timestampValue:Rc(o.serializer,l)}}if(s instanceof Xe){const l=new Xe(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:Rc(o.serializer,l)}}if(s instanceof _r)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof On)return{bytesValue:bw(o.serializer,s._byteString)};if(s instanceof dt){const l=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(l))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ip(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wr)return(function(h,f){return{mapValue:{fields:{[lw]:{stringValue:uw},[Ic]:{arrayValue:{values:h.toArray().map((v=>{if(typeof v!="number")throw f.wc("VectorValues must only contain numeric values.");return tp(f.serializer,v)}))}}}}}})(s,o);throw o.wc(`Unsupported field value: ${Fc(s)}`)})(n,e)}function dE(n,e){const t={};return nw(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(n,((s,o)=>{const l=Pl(o,e.Vc(s));l!=null&&(t[s]=l)})),{mapValue:{fields:t}}}function fE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Xe||n instanceof _r||n instanceof On||n instanceof dt||n instanceof Ip||n instanceof wr)}function Cp(n,e,t){if(!fE(t)||!ew(t)){const s=Fc(t);throw s==="an object"?e.wc(n+" a custom object"):e.wc(n+" "+s)}}function Rf(n,e,t){if((e=vt(e))instanceof th)return e._internalPath;if(typeof e=="string")return Ap(n,e);throw bc("Field path arguments must be of type string or ",n,!1,void 0,t)}const KR=new RegExp("[~\\*/\\[\\]]");function Ap(n,e,t){if(e.search(KR)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new th(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bc(n,e,t,s,o){const l=s&&!s.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new ue(Y.INVALID_ARGUMENT,f+n+p)}function pE(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t,s,o,l){this._firestore=e,this._userDataWriter=t,this._key=s,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new dt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new QR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Pp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class QR extends mE{data(){return super.data()}}function Pp(n,e){return typeof e=="string"?Ap(n,e):e instanceof th?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ue(Y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Rp{}class YR extends Rp{}function xp(n,e,...t){let s=[];e instanceof Rp&&s.push(e),s=s.concat(t),(function(l){const h=l.filter((p=>p instanceof Np)).length,f=l.filter((p=>p instanceof sh)).length;if(h>1||h>0&&f>0)throw new ue(Y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(s);for(const o of s)n=o._apply(n);return n}class sh extends YR{constructor(e,t,s){super(),this._field=e,this._op=t,this._value=s,this.type="where"}static _create(e,t,s){return new sh(e,t,s)}_apply(e){const t=this._parse(e);return yE(e._query,t),new Mi(e.firestore,e.converter,yf(e._query,t))}_parse(e){const t=nh(e.firestore);return(function(l,h,f,p,v,w,T){let C;if(v.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ue(Y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){Vv(T,w);const L=[];for(const M of T)L.push(Ov(p,l,M));C={arrayValue:{values:L}}}else C=Ov(p,l,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||Vv(T,w),C=GR(f,h,T,w==="in"||w==="not-in");return Tt.create(v,w,C)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function kp(n,e,t){const s=e,o=Pp("where",n);return sh._create(o,s,t)}class Np extends Rp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Np(e,t)}_parse(e){const t=this._queryConstraints.map((s=>s._parse(e))).filter((s=>s.getFilters().length>0));return t.length===1?t[0]:er.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const f=l.getFlattenedFilters();for(const p of f)yE(h,p),h=yf(h,p)})(e._query,t),new Mi(e.firestore,e.converter,yf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function Ov(n,e,t){if(typeof(t=vt(t))=="string"){if(t==="")throw new ue(Y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!yw(e)&&t.indexOf("/")!==-1)throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const s=e.path.child(tt.fromString(t));if(!Ee.isDocumentKey(s))throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return Yy(n,new Ee(s))}if(t instanceof dt)return Yy(n,t._key);throw new ue(Y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Fc(t)}.`)}function Vv(n,e){if(!Array.isArray(n)||n.length===0)throw new ue(Y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function yE(n,e){const t=(function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(n.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ue(Y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ue(Y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class XR{convertValue(e,t="none"){switch($s(e)){case 0:return null;case 1:return e.booleanValue;case 2:return gt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ae(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const s={};return Ks(e,((o,l)=>{s[o]=this.convertValue(l,t)})),s}convertVectorValue(e){var t,s,o;const l=(o=(s=(t=e.fields)===null||t===void 0?void 0:t[Ic].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map((h=>gt(h.doubleValue)));return new wr(l)}convertGeoPoint(e){return new _r(gt(e.latitude),gt(e.longitude))}convertArray(e,t){return(e.values||[]).map((s=>this.convertValue(s,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const s=$c(e);return s==null?null:this.convertValue(s,t);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){const t=zs(e);return new Xe(t.seconds,t.nanos)}convertDocumentKey(e,t){const s=tt.fromString(e);Ge(Uw(s),9688,{name:e});const o=new hl(s.get(1),s.get(3)),l=new Ee(s.popFirst(5));return o.isEqual(t)||qr(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(n,e,t){let s;return s=n?n.toFirestore(e):e,s}class Xa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Ai extends mE{constructor(e,t,s,o,l,h){super(e,t,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new cc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const s=this._document.data.field(Pp("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Y.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Ai._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Ai._jsonSchemaVersion="firestore/documentSnapshot/1.0",Ai._jsonSchema={type:It("string",Ai._jsonSchemaVersion),bundleSource:It("string","DocumentSnapshot"),bundleName:It("string"),bundle:It("string")};class cc extends Ai{data(e={}){return super.data(e)}}class Pi{constructor(e,t,s,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Xa(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((s=>{e.call(t,new cc(this._firestore,this._userDataWriter,s.key,s,new Xa(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ue(Y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const p=new cc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Xa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new cc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Xa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let v=-1,w=-1;return f.type!==0&&(v=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:JR(f.type),doc:p,oldIndex:v,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ue(Y.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Pi._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Qf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],s=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),s.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function JR(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae(61501,{type:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(n){n=fn(n,dt);const e=fn(n.firestore,Kr);return jR(eh(e),n._key).then((t=>EE(e,n,t)))}Pi._jsonSchemaVersion="firestore/querySnapshot/1.0",Pi._jsonSchema={type:It("string",Pi._jsonSchemaVersion),bundleSource:It("string","QuerySnapshot"),bundleName:It("string"),bundle:It("string")};class Dp extends XR{constructor(e){super(),this.firestore=e}convertBytes(e){return new On(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new dt(this.firestore,null,t)}}function Rl(n){n=fn(n,Mi);const e=fn(n.firestore,Kr),t=eh(e),s=new Dp(e);return gE(n._query),MR(t,n._query).then((o=>new Pi(e,s,n,o)))}function ZR(n,e,t){n=fn(n,dt);const s=fn(n.firestore,Kr),o=vE(n.converter,e);return ih(s,[hE(nh(s),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,Vn.none())])}function sl(n,e,t,...s){n=fn(n,dt);const o=fn(n.firestore,Kr),l=nh(o);let h;return h=typeof(e=vt(e))=="string"||e instanceof th?qR(l,"updateDoc",n._key,e,t,s):HR(l,"updateDoc",n._key,e),ih(o,[h.toMutation(n._key,Vn.exists(!0))])}function wE(n){return ih(fn(n.firestore,Kr),[new np(n._key,Vn.none())])}function ex(n,e){const t=fn(n.firestore,Kr),s=Xn(n),o=vE(n.converter,e);return ih(t,[hE(nh(n.firestore),"addDoc",s._key,o,n.converter!==null,{}).toMutation(s._key,Vn.exists(!1))]).then((()=>s))}function xf(n,...e){var t,s,o;n=vt(n);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||bv(e[h])||(l=e[h++]);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(bv(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(s=T.error)===null||s===void 0?void 0:s.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,v,w;if(n instanceof dt)v=fn(n.firestore,Kr),w=Wc(n._key.path),p={next:T=>{e[h]&&e[h](EE(v,n,T))},error:e[h+1],complete:e[h+2]};else{const T=fn(n,Mi);v=fn(T.firestore,Kr),w=T._query;const C=new Dp(v);p={next:b=>{e[h]&&e[h](new Pi(v,C,T,b))},error:e[h+1],complete:e[h+2]},gE(n._query)}return(function(C,b,L,M){const k=new Tp(M),W=new _p(b,k,L);return C.asyncQueue.enqueueAndForget((async()=>gp(await Dc(C),W))),()=>{k.Ou(),C.asyncQueue.enqueueAndForget((async()=>yp(await Dc(C),W)))}})(eh(v),w,f,p)}function ih(n,e){return(function(s,o){const l=new Br;return s.asyncQueue.enqueueAndForget((async()=>CR(await LR(s),o,l))),l.promise})(eh(n),e)}function EE(n,e,t){const s=t.docs.get(e._key),o=new Dp(n);return new Ai(n,o,e._key,s,new Xa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Xo=o})(Yo),jo(new xi("firestore",((s,{instanceIdentifier:o,options:l})=>{const h=s.getProvider("app").getImmediate(),f=new Kr(new KC(s.getProvider("auth-internal")),new XC(h,s.getProvider("app-check-internal")),(function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ue(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(v.options.projectId,w)})(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ls(Ly,jy,e),Ls(Ly,jy,"esm2017")})();const tx={apiKey:"AIzaSyCTDtoGl-VnlE33xKZsRocfstdnCSZMyek",authDomain:"golfgang-f00e3.firebaseapp.com",projectId:"golfgang-f00e3",storageBucket:"golfgang-f00e3.firebasestorage.app",messagingSenderId:"787603935494",appId:"1:787603935494:web:82f634dc12cdd3b42cce87"},TE=i_(tx),Oc=BC(TE),xt=FR(TE),IE=$.createContext(null);function nx({children:n}){const[e,t]=$.useState(null),[s,o]=$.useState(null),[l,h]=$.useState(!1),[f,p]=$.useState(!0);$.useEffect(()=>{const T=k1(Oc,async C=>{if(!C){t(null),o(null),h(!1),p(!1);return}t(C);try{const b=Xn(xt,"users",C.uid),L=await _E(b);if(L.exists()){const M=L.data();o(M),h((M==null?void 0:M.isAdmin)===!0)}else o({}),h(!1)}catch(b){console.error("Error loading user profile:",b),o({})}p(!1)});return()=>T()},[]);const w={user:e,profile:s,isAdmin:l,loading:f,logout:async()=>{try{await N1(Oc)}catch(T){console.error("Error signing out:",T)}}};return y.jsx(IE.Provider,{value:w,children:n})}function Ys(){return $.useContext(IE)}function rx(){const{user:n,isAdmin:e}=Ys();return y.jsx("nav",{className:"navbar",children:y.jsxs("div",{className:"navbar-content",children:[y.jsxs(pr,{to:"/",className:"navbar-brand",children:[y.jsx("span",{className:"navbar-logo",children:""}),y.jsx("span",{className:"navbar-title",children:"GolfGang"})]}),y.jsx("div",{className:"navbar-actions",children:n?y.jsxs(y.Fragment,{children:[e&&y.jsx(pr,{to:"/admin",className:"btn btn-ghost btn-sm",children:"Admin"}),y.jsx(pr,{to:"/profile",className:"btn btn-ghost btn-sm",children:"Profile"})]}):y.jsx(pr,{to:"/login",className:"btn btn-primary btn-sm",children:"Login"})})]})})}function sx(){const n=Go(),e=Ko(),{user:t}=Ys();if(!t||["/login","/signup"].includes(n.pathname))return null;const o=[{path:"/",icon:"",label:"Home"},{path:"/profile",icon:"",label:"Profile"}],l=h=>h==="/"?n.pathname==="/":n.pathname.startsWith(h);return y.jsx("nav",{className:"bottom-nav",children:y.jsx("div",{className:"bottom-nav-content",children:o.map(h=>y.jsxs("button",{className:`nav-item ${l(h.path)?"active":""}`,onClick:()=>e(h.path),children:[y.jsx("span",{className:"nav-item-icon",children:h.icon}),y.jsx("span",{className:"nav-item-label",children:h.label})]},h.path))})})}function mt(n,e="default"){const t=document.querySelector(".toast-notification");t&&t.remove();const s=document.createElement("div");s.className=`toast-notification toast-${e}`,s.textContent=n,document.body.appendChild(s),requestAnimationFrame(()=>{s.classList.add("show")}),setTimeout(()=>{s.classList.remove("show"),setTimeout(()=>s.remove(),300)},3e3)}function Wo(n="light"){if(navigator.vibrate){const e={light:[10],medium:[20],heavy:[30],success:[10,50,10],error:[50,30,50]};navigator.vibrate(e[n]||e.light)}}function bp(n){if(!n)return"??";const e=n.trim().split(/[\s_]+/);return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():n.slice(0,2).toUpperCase()}function Op(n){const e=[{bg:"#dbeafe",text:"#1e40af"},{bg:"#dcfce7",text:"#166534"},{bg:"#fef3c7",text:"#92400e"},{bg:"#fce7f3",text:"#9d174d"},{bg:"#e0e7ff",text:"#3730a3"},{bg:"#ccfbf1",text:"#0f766e"},{bg:"#fee2e2",text:"#991b1b"},{bg:"#f3e8ff",text:"#6b21a8"}];let t=0;for(let s=0;s<(n||"").length;s++)t=n.charCodeAt(s)+((t<<5)-t);return e[Math.abs(t)%e.length]}function ix(n){return n?(n instanceof Date?n:n.toDate()).toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"}):""}function Lv(n,e){var p,v;const s=(((v=(p=n.date)==null?void 0:p.toDate)==null?void 0:v.call(p))||new Date).toISOString().split("T")[0].replace(/-/g,"");let o="";if(n.tee){const[w,T]=n.tee.split(":"),C=parseInt(w),b=C>=12?"pm":"am",L=C%12||12;o+=` ${L}:${T}${b}`}n.courseName&&(n.tee?o+=" - ":o+=" ",o+=n.courseName);const l=encodeURIComponent(o),h=encodeURIComponent(n.courseName||""),f=encodeURIComponent(`${n.notes||""}

Event details: ${e}`);return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${l}&dates=${s}/${s}&location=${h}&details=${f}`}const Qd=n=>n?typeof n=="string"?n:n.status:null;function Yu({event:n,users:e,weather:t,getWeatherIcon:s,relativeTime:o}){var M;const{user:l}=Ys(),h=(M=n.date)!=null&&M.toDate?n.date.toDate():new Date(n.date),f=l&&n.responses?Qd(n.responses[l.uid]):null,p=n.responses?Object.values(n.responses).filter(k=>Qd(k)==="available").length:0,v=n.responses?Object.entries(n.responses).filter(([,k])=>Qd(k)==="available").map(([k])=>k).slice(0,4):[],w=p>=4,T=k=>{var G;const W=e==null?void 0:e.find(Q=>Q.id===k);return(W==null?void 0:W.username)||((G=W==null?void 0:W.email)==null?void 0:G.split("@")[0])||"User"},C=n.createdBy?T(n.createdBy):null,b=async k=>{var D;k.preventDefault(),k.stopPropagation(),Wo("light");const W=(D=n.date)!=null&&D.toDate?n.date.toDate():null,G=(W==null?void 0:W.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long"}))||"",ne=`${window.location.origin+(window.location.pathname.includes("/golfgang")?"/golfgang":"")}/event/${n.id}`,ge=v.map(A=>T(A).toLowerCase()).join(", ");let fe=` Golf - ${n.booked?"Booked":"Proposed"}!
`;if(G&&(fe+=` ${G}
`),n.tee&&(fe+=` ${n.tee}
`),n.courseName&&(fe+=` ${n.courseName}
`),ge&&(fe+=` ${ge}
`),n.notes&&(fe+=`
 ${n.notes}
`),fe+=`
 RSVP here: ${ne}`,n.booked){const A=Lv(n,ne);fe+=`

 Add to Google Calendar:
${A}`}try{await navigator.clipboard.writeText(fe),mt("Copied to clipboard! ","success")}catch{mt("Could not copy","error")}},L=k=>{k.preventDefault(),k.stopPropagation(),Wo("light");const G=`${window.location.origin+(window.location.pathname.includes("/golfgang")?"/golfgang":"")}/event/${n.id}`,Q=Lv(n,G);window.open(Q,"_blank")};return y.jsxs(pr,{to:`/event/${n.id}`,className:`event-card-new ${n.booked?"booked":"proposed"} ${w?"full":""}`,children:[y.jsx("div",{className:`event-card-accent ${n.booked?"booked":"proposed"}`}),y.jsxs("div",{className:"event-card-content",children:[y.jsxs("div",{className:"event-card-top",children:[y.jsxs("div",{className:"event-card-date-box",children:[y.jsx("span",{className:"event-card-day-num",children:h.getDate()}),y.jsx("span",{className:"event-card-month-abbr",children:h.toLocaleDateString("en-AU",{month:"short"}).toUpperCase()})]}),y.jsxs("div",{className:"event-card-main",children:[y.jsxs("div",{className:"event-card-title-row",children:[y.jsx("h3",{className:"event-card-title",children:n.title||"Golf Round"}),n.booked&&y.jsx("span",{className:"status-badge booked",children:"Booked"}),!n.booked&&y.jsx("span",{className:"status-badge proposed",children:"Proposed"})]}),y.jsxs("div",{className:"event-card-meta",children:[o&&y.jsx("span",{className:"meta-item countdown",children:o}),n.tee&&y.jsxs("span",{className:"meta-item",children:[" ",n.tee]}),n.courseName&&y.jsxs("span",{className:"meta-item",children:[" ",n.courseName]})]}),C&&y.jsxs("div",{className:"event-card-creator",children:["Proposed by ",C]})]}),y.jsxs("div",{className:"event-card-right",children:[t&&y.jsxs("div",{className:"weather-badge",children:[y.jsx("span",{className:"weather-icon",children:s(t.code)}),y.jsxs("span",{className:"weather-temp",children:[t.tempMin," - ",t.tempMax,""]})]}),y.jsxs("div",{className:"event-card-actions",children:[y.jsx("button",{onClick:b,className:"action-btn",title:"Share event",children:""}),n.booked&&y.jsx("button",{onClick:L,className:"action-btn",title:"Add to calendar",children:""})]})]})]}),y.jsxs("div",{className:"event-card-bottom",children:[y.jsxs("div",{className:"event-card-players",children:[y.jsxs("div",{className:"player-avatars",children:[v.map(k=>{const W=T(k),G=Op(W);return y.jsx("div",{className:"player-avatar",style:{backgroundColor:G.bg,color:G.text},title:W,children:bp(W)},k)}),[...Array(Math.max(0,4-p))].map((k,W)=>y.jsx("div",{className:"player-avatar empty",children:"?"},`empty-${W}`))]}),y.jsxs("div",{className:"player-progress",children:[y.jsx("div",{className:"progress-bar",children:y.jsx("div",{className:"progress-fill",style:{width:`${p/4*100}%`}})}),y.jsxs("span",{className:"player-count",children:[p,"/4 players",w&&y.jsx("span",{className:"full-badge",children:" Full!"})]})]})]}),f==="available"&&y.jsx("span",{className:"your-status in",children:" You're in"}),!f&&l&&y.jsx("span",{className:"your-status pending",children:"RSVP needed"})]})]})]})}function ox({events:n=[],selectedDate:e,onDateSelect:t}){const s=$.useRef(null),o=$.useRef(null),[l,h]=$.useState(new Date),p=(()=>{const W=[],G=new Date,Q=new Date(G);Q.setDate(G.getDate()-7);for(let ne=0;ne<35;ne++){const ge=new Date(Q);ge.setDate(Q.getDate()+ne),W.push(ge)}return W})(),v=W=>{const G=new Date;return W.toDateString()===G.toDateString()},w=W=>e&&W.toDateString()===e.toDateString(),T=W=>n.filter(G=>{var ne;return((ne=G.date)!=null&&ne.toDate?G.date.toDate():new Date(G.date)).toDateString()===W.toDateString()}),C=W=>T(W).some(Q=>Q.booked);$.useEffect(()=>{if(o.current&&s.current){const W=s.current,G=o.current,Q=G.offsetLeft-W.offsetWidth/2+G.offsetWidth/2;W.scrollTo({left:Q,behavior:"smooth"})}},[]);const b=()=>{if(s.current){const W=s.current,G=W.scrollLeft+W.offsetWidth/2,ne=Math.floor(G/64);if(p[ne])return p[ne].toLocaleDateString("en-AU",{month:"long",year:"numeric"})}return new Date().toLocaleDateString("en-AU",{month:"long",year:"numeric"})},[L,M]=$.useState(b()),k=()=>{M(b())};return y.jsxs("div",{className:"calendar-strip",children:[y.jsxs("div",{className:"calendar-strip-header",children:[y.jsx("span",{className:"calendar-strip-month",children:L}),y.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>{if(o.current&&s.current){const W=s.current,G=o.current,Q=G.offsetLeft-W.offsetWidth/2+G.offsetWidth/2;W.scrollTo({left:Q,behavior:"smooth"})}},children:"Today"})]}),y.jsx("div",{className:"calendar-strip-days",ref:s,onScroll:k,children:p.map((W,G)=>{const Q=T(W);C(W);const ne=Q.length;return y.jsxs("button",{ref:v(W)?o:null,className:`calendar-day ${v(W)?"today":""} ${w(W)?"selected":""} ${ne>0?"has-events":""}`,onClick:()=>t(W),children:[y.jsx("span",{className:"calendar-day-name",children:W.toLocaleDateString("en-AU",{weekday:"short"}).slice(0,3)}),y.jsx("span",{className:"calendar-day-number",children:W.getDate()}),ne>0&&y.jsx("div",{className:"calendar-day-dots",children:Q.slice(0,3).map((ge,fe)=>y.jsx("span",{className:`calendar-dot ${ge.booked?"booked":"proposed"}`},fe))})]},G)})})]})}function SE({value:n,onSelect:e,initialValue:t}){const[s,o]=$.useState(n||t||""),[l,h]=$.useState([]),[f,p]=$.useState(!1),[v,w]=$.useState(!1),[T,C]=$.useState(!1),b=$.useRef(null),L=$.useRef(null),M=$.useRef(null),k=$.useRef(null);$.useEffect(()=>{o(n||t||"")},[n,t]),$.useEffect(()=>{var P,N;function A(){var x,j;(j=(x=window.google)==null?void 0:x.maps)!=null&&j.places&&(L.current=new window.google.maps.places.AutocompleteService,M.current=new window.google.maps.places.PlacesService(document.createElement("div")),k.current=new window.google.maps.places.AutocompleteSessionToken,C(!0))}if((N=(P=window.google)==null?void 0:P.maps)!=null&&N.places)A();else{const x=setInterval(()=>{var j,I;(I=(j=window.google)==null?void 0:j.maps)!=null&&I.places&&(A(),clearInterval(x))},100);setTimeout(()=>clearInterval(x),1e4)}},[]),$.useEffect(()=>{function A(P){b.current&&!b.current.contains(P.target)&&w(!1)}return document.addEventListener("mousedown",A),()=>document.removeEventListener("mousedown",A)},[]);async function W(A){if(!A||A.length<2){h([]),w(!1);return}if(!T||!L.current){console.warn("Google Places not ready yet");return}p(!0);try{const P={input:A,types:["establishment"]};L.current.getPlacePredictions({...P,sessionToken:k.current},(N,x)=>{if(x==="OK"&&N){const I=N.filter(le=>{var oe,be;return le.description.toLowerCase().includes("golf")||((oe=le.types)==null?void 0:oe.includes("golf_course"))||((be=le.types)==null?void 0:be.includes("establishment"))}).map(le=>{var oe;return{name:((oe=le.structured_formatting)==null?void 0:oe.main_text)||le.description.split(",")[0],address:le.description,placeId:le.place_id,lat:null,lng:null}});h(I),w(I.length>0)}else h([]),w(!1);p(!1)})}catch(P){console.error("Error searching courses:",P),h([]),p(!1)}}function G(A,P){if(!M.current){P(null);return}M.current.getDetails({placeId:A,fields:["geometry","formatted_address","name","photos"],sessionToken:k.current},(N,x)=>{var j,I,le,oe;k.current=new window.google.maps.places.AutocompleteSessionToken,P(x==="OK"&&N?{lat:(I=(j=N.geometry)==null?void 0:j.location)==null?void 0:I.lat(),lng:(oe=(le=N.geometry)==null?void 0:le.location)==null?void 0:oe.lng(),formattedAddress:N.formatted_address,name:N.name}:null)})}const Q=$.useRef(null);function ne(A){const P=A.target.value;o(P),Q.current&&clearTimeout(Q.current),Q.current=setTimeout(()=>{W(P)},300)}function ge(A){o(A.name),w(!1),h([]),A.placeId?G(A.placeId,P=>{e({name:A.name,address:(P==null?void 0:P.formattedAddress)||A.address,placeId:A.placeId,lat:(P==null?void 0:P.lat)||null,lng:(P==null?void 0:P.lng)||null})}):e(A)}function fe(){setTimeout(()=>{s&&s!==(n||t)&&e({name:s,address:"",placeId:"",lat:null,lng:null})},200)}function D(){o(""),h([]),w(!1),e({name:"",address:"",placeId:"",lat:null,lng:null})}return y.jsxs("div",{ref:b,style:{position:"relative",width:"100%"},children:[y.jsx("input",{type:"text",className:"input",value:s,onChange:ne,onBlur:fe,onFocus:()=>{l.length>0&&w(!0)},placeholder:"Search for golf course...",autoComplete:"off",style:{paddingRight:s?36:void 0}}),s&&y.jsx("button",{type:"button",onClick:D,style:{position:"absolute",right:10,top:"50%",transform:"translateY(-50%)",background:"none",border:"none",cursor:"pointer",fontSize:16,color:"var(--color-text-tertiary)",padding:4,lineHeight:1,zIndex:1},"aria-label":"Clear",children:""}),f&&y.jsx("div",{style:{position:"absolute",right:s?"36px":"12px",top:"50%",transform:"translateY(-50%)",pointerEvents:"none"},children:y.jsx("div",{className:"spinner",style:{width:"16px",height:"16px",borderWidth:"2px"}})}),v&&l.length>0&&y.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"var(--color-surface)",border:"2px solid var(--color-primary)",borderRadius:"var(--radius-md)",marginTop:"var(--space-1)",maxHeight:"280px",overflowY:"auto",zIndex:1e3,boxShadow:"0 8px 24px rgba(15, 123, 108, 0.15)"},children:l.map((A,P)=>y.jsxs("div",{onClick:()=>ge(A),onMouseDown:N=>N.preventDefault(),style:{padding:"var(--space-3)",cursor:"pointer",borderBottom:P<l.length-1?"1px solid var(--color-border-light)":"none",transition:"background-color var(--transition-fast)"},onMouseEnter:N=>N.currentTarget.style.backgroundColor="var(--color-bg)",onMouseLeave:N=>N.currentTarget.style.backgroundColor="transparent",children:[y.jsx("div",{style:{fontWeight:500,marginBottom:"2px",color:"var(--color-text)"},children:A.name}),y.jsxs("div",{style:{fontSize:"var(--text-sm)",color:"var(--color-text-secondary)",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:[" ",A.address]})]},A.placeId||P))}),v&&l.length===0&&!f&&s.length>=2&&y.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",marginTop:"var(--space-1)",padding:"var(--space-4)",zIndex:1e3,textAlign:"center",color:"var(--color-text-secondary)",fontSize:"var(--text-sm)"},children:"No golf courses found. Try a different search or enter manually."}),!T&&s.length>=2&&y.jsx("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"var(--color-surface)",border:"1px solid var(--color-border)",borderRadius:"var(--radius-md)",marginTop:"var(--space-1)",padding:"var(--space-4)",zIndex:1e3,textAlign:"center",color:"var(--color-text-secondary)",fontSize:"var(--text-sm)"},children:"Loading search... You can also type the course name manually."})]})}const ax=-33.87,lx=151.21;async function ux(n,e=null,t=null){var s,o,l,h,f;try{const p=e||ax,v=t||lx,w=new Date(n),T=w.toISOString().split("T")[0],C=new Date;C.setHours(0,0,0,0);const b=Math.floor((w-C)/(1e3*60*60*24));if(b<0||b>16)return null;const L=`https://api.open-meteo.com/v1/forecast?latitude=${p}&longitude=${v}&daily=temperature_2m_max,temperature_2m_min,precipitation_sum,weathercode,windspeed_10m_max&timezone=auto&start_date=${T}&end_date=${T}`,M=await fetch(L);if(!M.ok)throw new Error("Weather API error");const k=await M.json();if(!k.daily)throw new Error("Invalid weather data");const W=((s=k.daily.weathercode)==null?void 0:s[0])||0,G=((o=k.daily.temperature_2m_max)==null?void 0:o[0])||0,Q=((l=k.daily.temperature_2m_min)==null?void 0:l[0])||0,ne=((h=k.daily.precipitation_sum)==null?void 0:h[0])||0,ge=((f=k.daily.windspeed_10m_max)==null?void 0:f[0])||0,fe=Math.round((G+Q)/2);let D=10;return G>35?D-=2:G>30&&(D-=1),G<5?D-=2:G<10&&(D-=1),ne>10?D-=3:ne>5?D-=2:ne>1&&(D-=1),ge>40?D-=2:ge>25&&(D-=1),D=Math.max(0,Math.min(10,D)),{temp:fe,tempMax:Math.round(G),tempMin:Math.round(Q),code:W,conditions:hx(W),precipitation:ne,rain:ne,windSpeed:Math.round(ge),score:D,scoreLabel:dx(D),scoreColor:fx(D)}}catch(p){return console.error("Error fetching weather:",p),null}}async function cx(n){const e={},t=new Map;n.forEach(o=>{var f;const l=(f=o.date)!=null&&f.toDate?o.date.toDate():new Date(o.date),h=l.toISOString().split("T")[0];l>=new Date&&(t.has(h)||t.set(h,{lat:o.courseLat||null,lng:o.courseLng||null}))});const s=Array.from(t.entries()).slice(0,7);return await Promise.all(s.map(async([o,l])=>{const h=await ux(o,l.lat,l.lng);h&&(e[o]=h)})),e}function hx(n){return n===0?"Clear":n<=3?"Partly Cloudy":n<=48?"Foggy":n<=67?"Rainy":n<=77?"Snow":n<=82?"Rain Showers":n<=86?"Snow Showers":n<=99?"Thunderstorm":"Unknown"}function Xu(n){return n===0?"":n<=3?"":n<=48?"":n<=67?"":n<=77?"":n<=82?"":n<=86?"":n<=99?"":""}function dx(n){return n>=8?"Excellent":n>=6?"Good":n>=4?"Fair":"Poor"}function fx(n){return n>=8?"#10b981":n>=6?"#f59e0b":"#ef4444"}const Ju=n=>{const e=new Date,s=new Date(n)-e,o=Math.ceil(s/(1e3*60*60*24));return o<0?"Past":o===0?"Today":o===1?"Tomorrow":o<7?`In ${o} days`:o<14?"Next week":`In ${Math.ceil(o/7)} weeks`},px=n=>{const e=new Date,t=new Date(e);t.setDate(e.getDate()+(7-e.getDay()));const s=new Date(t);s.setDate(t.getDate()+7);const o={thisWeek:[],nextWeek:[],later:[]};return n.forEach(l=>{var f;const h=(f=l.date)!=null&&f.toDate?l.date.toDate():new Date(l.date);h<=t?o.thisWeek.push(l):h<=s?o.nextWeek.push(l):o.later.push(l)}),o};function mx(){var N,x,j;const{user:n,profile:e}=Ys(),[t,s]=$.useState([]),[o,l]=$.useState([]),[h,f]=$.useState(!0),[p,v]=$.useState(!1),[w,T]=$.useState(!1),[C,b]=$.useState(null),[L,M]=$.useState({}),[k,W]=$.useState({date:"",tee:"",course:{name:"",placeId:"",address:"",lat:null,lng:null},notes:""});$.useEffect(()=>{const I=xf($r(xt,"events"),le=>{const oe=le.docs.map(be=>({id:be.id,...be.data()}));s(oe),f(!1)});return()=>I()},[]),$.useEffect(()=>{async function I(){const le=await Rl($r(xt,"users"));l(le.docs.map(oe=>({id:oe.id,...oe.data()})))}I()},[]),$.useEffect(()=>{(async()=>{if(t.length===0)return;const le=t.filter(be=>{var re;return((re=be.date)!=null&&re.toDate?be.date.toDate():new Date(be.date))>=new Date}),oe=await cx(le);M(oe)})()},[t]);const G=new Date,Q=t.filter(I=>{var oe;return((oe=I.date)!=null&&oe.toDate?I.date.toDate():new Date(I.date))>=new Date(G.setHours(0,0,0,0))}).sort((I,le)=>{var ke,re;const oe=(ke=I.date)!=null&&ke.toDate?I.date.toDate():new Date(I.date),be=(re=le.date)!=null&&re.toDate?le.date.toDate():new Date(le.date);return oe-be}),ne=C?Q.filter(I=>{var oe;return((oe=I.date)!=null&&oe.toDate?I.date.toDate():new Date(I.date)).toDateString()===C.toDateString()}):Q,ge=px(ne),fe=((N=e==null?void 0:e.username)==null?void 0:N.split(" ")[0])||((x=e==null?void 0:e.email)==null?void 0:x.split("@")[0])||"Golfer",D=()=>{const I=new Date().getHours();return I<12?"Good morning":I<17?"Good afternoon":"Good evening"},A=async I=>{if(I.preventDefault(),!k.date){mt("Please select a date","error");return}T(!0),Wo("medium");try{const[le,oe,be]=k.date.split("-").map(Number),ke=new Date(le,oe-1,be,12,0,0);await ex($r(xt,"events"),{title:k.date,date:Xe.fromDate(new Date(k.date)),tee:k.tee,courseName:k.course.name||"",coursePlaceId:k.course.placeId||"",courseAddress:k.course.address||"",courseLat:k.course.lat||null,courseLng:k.course.lng||null,notes:k.notes||null,booked:!1,createdBy:n.uid,createdAt:Xe.now(),responses:{[n.uid]:{status:"available",respondedAt:Xe.now()}}}),mt("Round proposed! ","success"),W({date:"",tee:"",course:{name:"",placeId:"",address:"",lat:null,lng:null},notes:""}),v(!1)}catch(le){console.error("Error creating event:",le),mt("Failed to create event","error")}T(!1)},P=Q.filter(I=>{var oe;return n?!((oe=I.responses)==null?void 0:oe[n.uid]):!1}).length;return h?y.jsx("div",{className:"page",children:y.jsx("div",{className:"page-content",children:y.jsx("div",{style:{display:"flex",justifyContent:"center",padding:40},children:y.jsx("div",{className:"spinner"})})})}):y.jsx("div",{className:"page home-page",children:y.jsxs("div",{className:"page-content",children:[y.jsxs("div",{className:"home-header",children:[y.jsxs("div",{className:"home-greeting",children:[y.jsxs("h1",{className:"greeting-text",children:[D(),", ",fe,"! "]}),y.jsxs("p",{className:"greeting-subtitle",children:[Q.length===0?"No upcoming rounds scheduled":Q.length===1?"1 upcoming round":`${Q.length} upcoming rounds`,P>0&&y.jsxs("span",{className:"needs-response-badge",children:[P," awaiting RSVP"]})]})]}),y.jsx("button",{className:"btn btn-primary propose-btn",onClick:()=>v(!p),children:p?"Cancel":"+ Propose"})]}),y.jsx(ox,{events:t,selectedDate:C,onDateSelect:I=>{C&&I.toDateString()===C.toDateString()?b(null):b(I),Wo("light")}}),C&&y.jsxs("div",{className:"selected-date-bar",children:[y.jsxs("span",{children:["Showing events for"," ",y.jsx("strong",{children:C.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"short"})})]}),y.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>b(null),children:"Clear filter"})]}),p&&y.jsxs("div",{className:"card propose-card",children:[y.jsx("h3",{className:"card-title",children:"Propose a Round"}),y.jsxs("form",{onSubmit:A,children:[y.jsxs("div",{className:"form-row",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Date *"}),y.jsx("input",{type:"date",className:"input",value:k.date,onChange:I=>W({...k,date:I.target.value}),min:new Date().toISOString().split("T")[0],required:!0})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Tee Time"}),y.jsx("input",{type:"time",className:"input",value:k.tee,onChange:I=>W({...k,tee:I.target.value})})]})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Course (optional)"}),y.jsx(SE,{value:((j=k.course)==null?void 0:j.name)||"",onSelect:I=>{console.log("Course selected:",I),W({...k,course:{name:I.name,placeId:I.placeId||"",address:I.address||"",lat:I.lat||null,lng:I.lng||null}})}})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Notes (optional)"}),y.jsx("textarea",{className:"input",placeholder:"Any details about the round...",value:k.notes,onChange:I=>W({...k,notes:I.target.value}),rows:2})]}),y.jsx("button",{type:"submit",className:"btn btn-primary btn-full",disabled:w,children:w?"Creating...":"Propose This Round"})]})]}),Q.filter(I=>{var be;const le=(be=I.date)!=null&&be.toDate?I.date.toDate():new Date(I.date);return Math.ceil((le-new Date)/(1e3*60*60*24))<=3}).length===0&&!p&&y.jsxs("div",{className:"quick-action-card",children:[y.jsx("div",{className:"quick-action-icon",children:""}),y.jsxs("div",{className:"quick-action-text",children:[y.jsx("strong",{children:"Nothing coming up soon!"}),y.jsx("span",{children:"How about a round this weekend?"})]}),y.jsx("button",{className:"btn btn-primary btn-sm",onClick:()=>v(!0),children:"Propose"})]}),ne.length===0?y.jsxs("div",{className:"empty-state",children:[y.jsx("div",{className:"empty-state-icon",children:""}),y.jsx("div",{className:"empty-state-title",children:C?"No rounds on this day":"No upcoming rounds"}),y.jsx("p",{children:C?"Try selecting a different date or clear the filter":"Be the first to propose a round!"}),!p&&!C&&y.jsx("button",{className:"btn btn-primary",style:{marginTop:16},onClick:()=>v(!0),children:"+ Propose a Round"})]}):y.jsxs(y.Fragment,{children:[ge.thisWeek.length>0&&!C&&y.jsxs("div",{className:"event-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("span",{className:"section-title",children:"This Week"}),y.jsx("span",{className:"section-count",children:ge.thisWeek.length})]}),y.jsx("div",{className:"event-list",children:ge.thisWeek.map(I=>{var le,oe;return y.jsx(Yu,{event:I,users:o,weather:L[((le=I.date)!=null&&le.toDate?I.date.toDate():new Date(I.date)).toISOString().split("T")[0]],getWeatherIcon:Xu,relativeTime:Ju((oe=I.date)!=null&&oe.toDate?I.date.toDate():new Date(I.date))},I.id)})})]}),ge.nextWeek.length>0&&!C&&y.jsxs("div",{className:"event-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("span",{className:"section-title",children:"Next Week"}),y.jsx("span",{className:"section-count",children:ge.nextWeek.length})]}),y.jsx("div",{className:"event-list",children:ge.nextWeek.map(I=>{var le,oe;return y.jsx(Yu,{event:I,users:o,weather:L[((le=I.date)!=null&&le.toDate?I.date.toDate():new Date(I.date)).toISOString().split("T")[0]],getWeatherIcon:Xu,relativeTime:Ju((oe=I.date)!=null&&oe.toDate?I.date.toDate():new Date(I.date))},I.id)})})]}),ge.later.length>0&&!C&&y.jsxs("div",{className:"event-section",children:[y.jsxs("div",{className:"section-header",children:[y.jsx("span",{className:"section-title",children:"Later"}),y.jsx("span",{className:"section-count",children:ge.later.length})]}),y.jsx("div",{className:"event-list",children:ge.later.map(I=>{var le,oe;return y.jsx(Yu,{event:I,users:o,weather:L[((le=I.date)!=null&&le.toDate?I.date.toDate():new Date(I.date)).toISOString().split("T")[0]],getWeatherIcon:Xu,relativeTime:Ju((oe=I.date)!=null&&oe.toDate?I.date.toDate():new Date(I.date))},I.id)})})]}),C&&y.jsx("div",{className:"event-section",children:y.jsx("div",{className:"event-list",children:ne.map(I=>{var le,oe;return y.jsx(Yu,{event:I,users:o,weather:L[((le=I.date)!=null&&le.toDate?I.date.toDate():new Date(I.date)).toISOString().split("T")[0]],getWeatherIcon:Xu,relativeTime:Ju((oe=I.date)!=null&&oe.toDate?I.date.toDate():new Date(I.date))},I.id)})})})]})]})})}function gx(){const n=Ko(),[e,t]=$.useState(""),[s,o]=$.useState(""),[l,h]=$.useState(""),[f,p]=$.useState(!1);async function v(w){w.preventDefault(),h(""),p(!0);try{let T=e.trim();if(!e.includes("@")){const C=xp($r(xt,"users"),kp("username","==",e.trim().toLowerCase())),b=await Rl(C);if(b.empty)throw new Error("Username not found.");T=b.docs[0].data().email}await C1(Oc,T,s),n("/")}catch(T){console.error(T),T.code==="auth/user-not-found"||T.code==="auth/wrong-password"?h("Invalid email/username or password."):T.code==="auth/invalid-email"?h("Invalid email format."):h(T.message||"Failed to sign in.")}p(!1)}return y.jsx("div",{className:"auth-page",children:y.jsxs("div",{className:"card auth-card",children:[y.jsxs("div",{className:"auth-header",children:[y.jsx("h1",{className:"auth-logo",children:" GolfGang"}),y.jsx("h2",{className:"auth-title",children:"Welcome back"}),y.jsx("p",{className:"auth-subtitle",children:"Sign in to coordinate your rounds"})]}),l&&y.jsx("div",{className:"toast toast-danger",children:l}),y.jsxs("form",{onSubmit:v,className:"auth-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"identifier",children:"Email or Username"}),y.jsx("input",{id:"identifier",type:"text",className:"input",value:e,onChange:w=>t(w.target.value),placeholder:"you@example.com",required:!0,autoComplete:"username"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsx("input",{id:"password",type:"password",className:"input",value:s,onChange:w=>o(w.target.value),placeholder:"",required:!0,autoComplete:"current-password"})]}),y.jsx("button",{type:"submit",className:"btn btn-primary btn-full",disabled:f,children:f?"Signing in...":"Sign In"})]}),y.jsx("div",{className:"auth-footer",children:y.jsxs("p",{children:["Don't have an account?"," ",y.jsx(pr,{to:"/signup",className:"link",children:"Sign up"})]})})]})})}function yx(){const n=Ko(),[e,t]=$.useState(""),[s,o]=$.useState(""),[l,h]=$.useState(""),[f,p]=$.useState(""),[v,w]=$.useState(!1);async function T(b){const L=b.toLowerCase(),M=xp($r(xt,"users"),kp("username","==",L));return!(await Rl(M)).empty}async function C(b){b.preventDefault(),p("");const L=s.trim().toLowerCase();if(!L.match(/^[a-z0-9_]+$/)){p("Username can only contain letters, numbers, and underscores.");return}if(L.length<3){p("Username must be at least 3 characters.");return}if(l.length<6){p("Password must be at least 6 characters.");return}w(!0);try{if(await T(L)){p("That username is already taken."),w(!1);return}const M=await S1(Oc,e,l);await ZR(Xn(xt,"users",M.user.uid),{email:e,username:L,isAdmin:!1,createdAt:new Date().toISOString()}),n("/")}catch(M){console.error(M),M.code==="auth/email-already-in-use"?p("An account with this email already exists."):M.code==="auth/invalid-email"?p("Invalid email format."):M.code==="auth/weak-password"?p("Password is too weak. Use at least 6 characters."):p(M.message||"Signup failed.")}w(!1)}return y.jsx("div",{className:"auth-page",children:y.jsxs("div",{className:"card auth-card",children:[y.jsxs("div",{className:"auth-header",children:[y.jsx("h1",{className:"auth-logo",children:" GolfGang"}),y.jsx("h2",{className:"auth-title",children:"Create account"}),y.jsx("p",{className:"auth-subtitle",children:"Join the crew and start playing"})]}),f&&y.jsx("div",{className:"toast toast-danger",children:f}),y.jsxs("form",{onSubmit:C,className:"auth-form",children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"email",children:"Email"}),y.jsx("input",{id:"email",type:"email",className:"input",value:e,onChange:b=>t(b.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"username",children:"Username"}),y.jsx("input",{id:"username",type:"text",className:"input",value:s,onChange:b=>o(b.target.value),placeholder:"golfer123",required:!0,autoComplete:"username"}),y.jsx("span",{className:"input-hint",children:"Letters, numbers, and underscores only"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{htmlFor:"password",children:"Password"}),y.jsx("input",{id:"password",type:"password",className:"input",value:l,onChange:b=>h(b.target.value),placeholder:"",required:!0,autoComplete:"new-password"}),y.jsx("span",{className:"input-hint",children:"At least 6 characters"})]}),y.jsx("button",{type:"submit",className:"btn btn-primary btn-full",disabled:v,children:v?"Creating account...":"Create Account"})]}),y.jsx("div",{className:"auth-footer",children:y.jsxs("p",{children:["Already have an account?"," ",y.jsx(pr,{to:"/login",className:"link",children:"Sign in"})]})})]})})}function jv({lat:n,lng:e,date:t,coursePlaceId:s,compact:o=!1}){const[l,h]=$.useState(null),[f,p]=$.useState(!0),[v,w]=$.useState(null);$.useEffect(()=>{async function L(){var M,k,W,G,Q;if(!n||!e||!t){p(!1),w("Missing location or date information");return}p(!0),w(null);try{const ge=new Date(t).toISOString().split("T")[0],fe=`https://api.open-meteo.com/v1/forecast?latitude=${n}&longitude=${e}&daily=temperature_2m_max,temperature_2m_min,precipitation_sum,weathercode,windspeed_10m_max&timezone=auto&start_date=${ge}&end_date=${ge}`,D=await fetch(fe);if(!D.ok)throw new Error("Failed to fetch weather data");const A=await D.json();if(A.daily){const P=((M=A.daily.weathercode)==null?void 0:M[0])||0,N=T(P),x=((k=A.daily.temperature_2m_max)==null?void 0:k[0])||0,j=((W=A.daily.temperature_2m_min)==null?void 0:W[0])||0,I=((G=A.daily.precipitation_sum)==null?void 0:G[0])||0,le=((Q=A.daily.windspeed_10m_max)==null?void 0:Q[0])||0;let oe=10;x>35?oe-=2:x>30&&(oe-=1),x<5?oe-=2:x<10&&(oe-=1),I>10?oe-=3:I>5?oe-=2:I>1&&(oe-=1),le>40?oe-=2:le>25&&(oe-=1),oe=Math.max(0,Math.min(10,oe)),h({temperature:Math.round((x+j)/2),tempMax:Math.round(x),tempMin:Math.round(j),conditions:N,precipitation:I,windSpeed:Math.round(le),playabilityScore:oe,weatherCode:P})}else throw new Error("Invalid weather data received")}catch(ne){console.error("Error fetching weather:",ne),w("Unable to load weather data")}finally{p(!1)}}L()},[n,e,t]);function T(L){return L===0?"Clear":L<=3?"Partly Cloudy":L<=48?"Foggy":L<=67?"Rainy":L<=77?"Snow":L<=82?"Rain Showers":L<=86?"Snow Showers":L<=99?"Thunderstorm":"Unknown"}function C(L){return L===0?"":L<=3?"":L<=48?"":L<=67?"":L<=77?"":L<=82?"":L<=86?"":L<=99?"":""}function b(L){return L>=8?"#10b981":L>=6?"#f59e0b":"#ef4444"}return f?y.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[y.jsx("div",{className:"spinner"}),y.jsx("p",{style:{marginTop:"8px",fontSize:"14px",color:"var(--color-text-secondary)"},children:"Loading weather..."})]}):v?y.jsx("div",{style:{textAlign:"center",padding:"20px",color:"var(--color-text-secondary)"},children:y.jsx("p",{children:v})}):l?o?y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px 16px",gap:"12px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[y.jsx("span",{style:{fontSize:"24px"},children:C(l.weatherCode)}),y.jsx("span",{style:{fontSize:"14px",color:"var(--color-text-secondary)"},children:l.conditions})]}),y.jsxs("div",{style:{fontSize:"16px",fontWeight:600},children:[l.tempMin," - ",l.tempMax,""]}),y.jsxs("div",{style:{fontSize:"14px",fontWeight:600,color:b(l.playabilityScore)},children:[l.playabilityScore,"/10"]})]}):y.jsxs("div",{style:{padding:"12px 16px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",background:"var(--color-bg)",borderRadius:"10px",marginBottom:"8px"},children:[y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"10px"},children:[y.jsx("span",{style:{fontSize:"32px"},children:C(l.weatherCode)}),y.jsxs("div",{children:[y.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"var(--color-text)"},children:l.conditions}),y.jsxs("div",{style:{fontSize:"12px",color:"var(--color-text-secondary)"},children:[l.tempMin," - ",l.tempMax,""]})]})]}),y.jsx("div",{style:{textAlign:"right"},children:y.jsxs("div",{style:{fontSize:"24px",fontWeight:700,color:"var(--color-text)"},children:[l.temperature,"C"]})})]}),y.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"6px"},children:[y.jsxs("div",{style:{padding:"8px",background:"var(--color-bg)",borderRadius:"8px",textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"10px",color:"var(--color-text-secondary)",marginBottom:"2px"},children:"Wind"}),y.jsxs("div",{style:{fontSize:"13px",fontWeight:600,color:"var(--color-text)"},children:[l.windSpeed," km/h"]})]}),y.jsxs("div",{style:{padding:"8px",background:"var(--color-bg)",borderRadius:"8px",textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"10px",color:"var(--color-text-secondary)",marginBottom:"2px"},children:"Rain"}),y.jsxs("div",{style:{fontSize:"13px",fontWeight:600,color:"var(--color-text)"},children:[l.precipitation," mm"]})]}),y.jsxs("div",{style:{padding:"8px",background:"var(--color-bg)",borderRadius:"8px",textAlign:"center"},children:[y.jsx("div",{style:{fontSize:"10px",color:"var(--color-text-secondary)",marginBottom:"2px"},children:"Score"}),y.jsxs("div",{style:{fontSize:"13px",fontWeight:700,color:b(l.playabilityScore)},children:[l.playabilityScore,"/10"]})]})]})]}):null}function Yd(n){const e=t=>String(t).padStart(2,"0");return`${n.getFullYear()}${e(n.getMonth()+1)}${e(n.getDate())}T${e(n.getHours())}${e(n.getMinutes())}${e(n.getSeconds())}`}function Zu(n){return n?n.replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function vx(n){return n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"").substring(0,50)||"golf-event"}function _x(n,e){var k;const t=(k=n.date)!=null&&k.toDate?n.date.toDate():new Date,s=n.tee||"",o=n.courseName||"",l=n.courseAddress||"",h=n.notes||"";let f=new Date(t);if(s){const[W,G]=s.split(":").map(Q=>parseInt(Q,10));Number.isNaN(W)||f.setHours(W),Number.isNaN(G)||f.setMinutes(G),f.setSeconds(0)}const p=new Date(f.getTime()+4.5*60*60*1e3),v=`${Date.now()}-${Math.random().toString(36).substr(2,9)}@golfgang.app`,w=Yd(new Date),T=` ${s||"Golf"} - ${o||"Golf Round"}`,C=l||o||"",b=[];h&&b.push(h),e&&b.push(`Event link: ${e}`);const L=b.join("\\n\\n"),M=["BEGIN:VCALENDAR","VERSION:2.0","PRODID:-//GolfGang//Event//EN","CALSCALE:GREGORIAN","METHOD:PUBLISH","BEGIN:VEVENT",`UID:${v}`,`DTSTAMP:${w}`,`DTSTART:${Yd(f)}`,`DTEND:${Yd(p)}`,`SUMMARY:${Zu(T)}`];return C&&M.push(`LOCATION:${Zu(C)}`),L&&M.push(`DESCRIPTION:${Zu(L)}`),e&&M.push(`URL:${e}`),M.push("BEGIN:VALARM","TRIGGER:-PT1H","ACTION:DISPLAY",`DESCRIPTION:${Zu(T)} starts in 1 hour`,"END:VALARM"),M.push("END:VEVENT","END:VCALENDAR"),M.join(`\r
`)}function Mv(n,e){const t=_x(n,e),s=new Blob([t],{type:"text/calendar;charset=utf-8"}),o=URL.createObjectURL(s),l=vx(n.courseName||n.title||"golf-event"),h=document.createElement("a");h.href=o,h.download=`${l}.ics`,document.body.appendChild(h),h.click(),document.body.removeChild(h),URL.revokeObjectURL(o)}function wx({event:n,eventUrl:e}){const[t,s]=$.useState(!1),o=$.useRef(null);$.useEffect(()=>{function v(w){o.current&&!o.current.contains(w.target)&&s(!1)}return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);function l(){var W;const v=(W=n.date)!=null&&W.toDate?n.date.toDate():new Date,w=n.tee||"",T=n.courseName||"",C=n.notes||"";let b=new Date(v);if(w){const[G,Q]=w.split(":").map(ne=>parseInt(ne,10));Number.isNaN(G)||b.setHours(G),Number.isNaN(Q)||b.setMinutes(Q)}const L=new Date(b.getTime()+4.5*60*60*1e3),M=G=>G.toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,"");return`https://calendar.google.com/calendar/render?${new URLSearchParams({action:"TEMPLATE",text:` ${w||"Golf"} - ${T||"Golf Round"}`,dates:`${M(b)}/${M(L)}`,details:C?`${C}

Event: ${e}`:`Event: ${e}`,location:T}).toString()}`}function h(){window.open(l(),"_blank"),s(!1)}function f(){Mv(n,e),s(!1)}function p(){Mv(n,e),s(!1)}return y.jsxs("div",{className:"cal-menu-container",ref:o,children:[y.jsx("button",{className:"ep-fab",onClick:()=>s(!t),title:"Add to Calendar",children:y.jsxs("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",ry:"2"}),y.jsx("line",{x1:"16",y1:"2",x2:"16",y2:"6"}),y.jsx("line",{x1:"8",y1:"2",x2:"8",y2:"6"}),y.jsx("line",{x1:"3",y1:"10",x2:"21",y2:"10"})]})}),t&&y.jsxs("div",{className:"cal-menu-dropdown",children:[y.jsxs("button",{className:"cal-menu-item",onClick:h,children:[y.jsx("span",{className:"cal-menu-icon",children:""}),"Google Calendar"]}),y.jsxs("button",{className:"cal-menu-item",onClick:f,children:[y.jsx("span",{className:"cal-menu-icon",children:""}),"Apple Calendar"]}),y.jsxs("button",{className:"cal-menu-item",onClick:p,children:[y.jsx("span",{className:"cal-menu-icon",children:""}),"Outlook"]})]})]})}function Ex({placeId:n,courseName:e,alt:t,style:s,className:o}){const[l,h]=$.useState(null),[f,p]=$.useState(!1),[v,w]=$.useState(!1),T=$.useRef(null);return $.useEffect(()=>{if(h(null),w(!1),p(!1),!n){w(!0);return}async function C(){var b,L;if(!((L=(b=window.google)==null?void 0:b.maps)!=null&&L.places)){const M=setTimeout(()=>{var k,W;(W=(k=window.google)==null?void 0:k.maps)!=null&&W.places?C():w(!0)},1e3);return()=>clearTimeout(M)}p(!0);try{T.current||(T.current=new window.google.maps.places.PlacesService(document.createElement("div"))),T.current.getDetails({placeId:n,fields:["photos"]},(M,k)=>{var W;if(k==="OK"&&((W=M==null?void 0:M.photos)==null?void 0:W.length)>0){const G=M.photos[0].getUrl({maxWidth:800,maxHeight:400});h(G),w(!1)}else console.log("No photos found for place:",n,k),w(!0);p(!1)})}catch(M){console.error("Error fetching place photo:",M),w(!0),p(!1)}}C()},[n]),f||v||!l?y.jsx("div",{className:o,style:{...s,background:"linear-gradient(135deg, #0f7b6c 0%, #10b981 50%, #059669 100%)",display:"flex",alignItems:"center",justifyContent:"center"},children:f?y.jsx("div",{className:"spinner",style:{width:"32px",height:"32px",borderWidth:"3px",borderColor:"rgba(255,255,255,0.3)",borderTopColor:"rgba(255,255,255,0.8)"}}):y.jsx("span",{style:{fontSize:48,opacity:.3},children:""})}):y.jsx("img",{src:l,alt:t||e||"Golf course",style:{...s,objectFit:"cover"},className:o,onError:()=>{console.log("Image failed to load, showing fallback"),w(!0)}})}function ec(n){return n?n.split(",")[0].trim():""}function Tx(n,e){return n?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e||"Golf Course")}&query_place_id=${n}`:e?`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(e)}`:null}function Ix(){var Ir;const{id:n}=gT(),e=Ko(),{user:t,isAdmin:s}=Ys(),[o,l]=$.useState(null),[h,f]=$.useState({}),[p,v]=$.useState(null),[w,T]=$.useState(!0),[C,b]=$.useState(!1),[L,M]=$.useState(!1),[k,W]=$.useState(!1),[G,Q]=$.useState(!1),[ne,ge]=$.useState(!1),[fe,D]=$.useState({timePreference:"",cartPreference:"",formatPreference:"",courseNotes:""}),[A,P]=$.useState({title:"",notes:"",courseName:"",courseAddress:"",coursePlaceId:"",coursePhotoUrl:"",courseLat:null,courseLng:null,tee:"",rsvpDeadline:""}),[N,x]=$.useState([]),[j,I]=$.useState(!0),[le,oe]=$.useState(!1),be=4;$.useEffect(()=>{async function K(){try{const Se=Xn(xt,"events",n),nt=await _E(Se);if(!nt.exists()){e("/");return}const Qe=nt.data();l({id:nt.id,...Qe});const es=Qe.responses||{};if(f(es),t){const Ye=es[t.uid];v(Ye?typeof Ye=="string"?Ye:Ye.status:null),Ye&&typeof Ye=="object"&&Ye.preferences&&D(Ye.preferences)}P({title:Qe.title||"",notes:Qe.notes||"",courseName:Qe.courseName||"",courseAddress:Qe.courseAddress||"",coursePlaceId:Qe.coursePlaceId||"",coursePhotoUrl:Qe.coursePhotoUrl||"",courseLat:Qe.courseLat||null,courseLng:Qe.courseLng||null,tee:Qe.tee||"",rsvpDeadline:Qe.rsvpDeadline?new Date(Qe.rsvpDeadline.toDate()).toISOString().slice(0,16):""})}catch(Se){console.error("Error loading event:",Se)}T(!1)}async function ae(){try{const nt=(await Rl($r(xt,"users"))).docs.map(Qe=>({id:Qe.id,...Qe.data()}));x(nt)}catch(Se){console.error("Error loading users:",Se)}I(!1)}K(),ae()},[n,e,t]);function ke(K,ae="success"){const Se=document.createElement("div");Se.className=`toast-notification show toast-${ae}`,Se.textContent=K,document.body.appendChild(Se),setTimeout(()=>{Se.classList.remove("show"),setTimeout(()=>Se.remove(),300)},2500)}async function re(K,ae=null){b(!0);try{const Se=Xn(xt,"events",n),nt=K?{status:K,preferences:ae||fe,updatedAt:new Date().toISOString()}:null;await sl(Se,{[`responses.${t.uid}`]:nt}),f(Qe=>({...Qe,[t.uid]:nt})),v(K),K==="available"&&(ke("You're in! "),_e()),W(!1)}catch(Se){console.error("Error updating response:",Se),ke("Failed to update","error")}b(!1)}async function we(){try{const K=Xn(xt,"events",n);await sl(K,{title:A.title,notes:A.notes,courseName:A.courseName,courseAddress:A.courseAddress,coursePlaceId:A.coursePlaceId,coursePhotoUrl:A.coursePhotoUrl,courseLat:A.courseLat||null,courseLng:A.courseLng||null,tee:A.tee,rsvpDeadline:A.rsvpDeadline?new Date(A.rsvpDeadline):null}),l(ae=>({...ae,...A,rsvpDeadline:A.rsvpDeadline?new Date(A.rsvpDeadline):null})),M(!1),ke("Event updated!")}catch(K){console.error("Error saving event:",K),ke("Failed to save","error")}}async function ce(){try{await wE(Xn(xt,"events",n)),e("/"),ke("Event deleted")}catch(K){console.error("Error deleting event:",K),ke("Failed to delete","error")}}async function U(){try{const K=Xn(xt,"events",n);await sl(K,{booked:!o.booked}),l(ae=>({...ae,booked:!ae.booked})),ke(o.booked?"Marked as proposed":"Marked as booked! ")}catch(K){console.error("Error toggling booked:",K)}}async function X(){var Qe;const K=(Qe=o.date)!=null&&Qe.toDate?o.date.toDate():null,ae=(K==null?void 0:K.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long"}))||"",Se=window.location.href;let nt=` *${o.title||"Golf round"}*
`;ae&&(nt+=` ${ae}
`),o.tee&&(nt+=` ${o.tee}
`),o.courseName&&(nt+=` ${ec(o.courseName)}
`),nt+=`
 ${Se}`;try{await navigator.clipboard.writeText(nt),ke("Copied to clipboard! ")}catch{ke("Could not copy","error")}}function _e(){const K=["#10b981","#0f7b6c","#fbbf24","#f59e0b"];for(let ae=0;ae<50;ae++){const Se=document.createElement("div");Se.className="confetti",Se.style.left=Math.random()*100+"vw",Se.style.backgroundColor=K[Math.floor(Math.random()*K.length)],Se.style.animationDelay=Math.random()*.5+"s",document.body.appendChild(Se),setTimeout(()=>Se.remove(),3e3)}}if(w||j)return y.jsx("div",{className:"page",children:y.jsxs("div",{className:"ep-loading",children:[y.jsx("div",{className:"spinner"}),y.jsx("p",{children:"Loading event..."})]})});if(!o)return y.jsx("div",{className:"page",children:y.jsxs("div",{className:"ep-not-found",children:[y.jsx("span",{className:"ep-not-found-icon",children:""}),y.jsx("h2",{children:"Event not found"}),y.jsx("p",{children:"This event may have been deleted."}),y.jsx(pr,{to:"/",className:"btn btn-primary",children:"Back to Home"})]})});const Ne=K=>K?typeof K=="string"?K:K.status:null,De=K=>!K||typeof K=="string"?{}:K.preferences||{},je=Object.entries(h).filter(([K,ae])=>Ne(ae)==="available").sort(([,K],[,ae])=>{const Se=typeof K=="object"&&(K!=null&&K.updatedAt)?new Date(K.updatedAt).getTime():0,nt=typeof ae=="object"&&(ae!=null&&ae.updatedAt)?new Date(ae.updatedAt).getTime():0;return Se-nt}).map(([K])=>K),Oe=je.slice(0,be),Me=je.slice(be),qe=t&&Me.includes(t.uid);t&&Oe.includes(t.uid),Object.entries(h).filter(([K,ae])=>Ne(ae)==="unavailable").map(([K])=>K);const ct=K=>{var Se;const ae=N.find(nt=>nt.id===K);return(ae==null?void 0:ae.username)||((Se=ae==null?void 0:ae.email)==null?void 0:Se.split("@")[0])||"Unknown"},Tn=K=>ct(K).substring(0,2).toUpperCase(),St=(Ir=o.date)!=null&&Ir.toDate?o.date.toDate():null,tr=(St==null?void 0:St.toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long"}))||"";St!=null&&St.toLocaleDateString("en-AU",{day:"numeric",month:"short"}),St!=null&&St.toLocaleDateString("en-AU",{weekday:"short"});const Tr=Tx(o.coursePlaceId,o.courseName),Jr=window.location.href,Zr=o.coursePlaceId||o.courseName,tn=(()=>{const K={time:{},cart:{},format:{}};return Oe.forEach(ae=>{const Se=De(h[ae]);Se.timePreference&&(K.time[Se.timePreference]=(K.time[Se.timePreference]||0)+1),Se.cartPreference&&(K.cart[Se.cartPreference]=(K.cart[Se.cartPreference]||0)+1),Se.formatPreference&&(K.format[Se.formatPreference]=(K.format[Se.formatPreference]||0)+1)}),K})();return y.jsxs("div",{className:"page ep-page",children:[y.jsx(pr,{to:"/",className:"ep-back-link",children:" Back to rounds"}),y.jsxs("div",{className:"ep-hero",children:[Zr?y.jsxs("div",{className:"ep-hero-image",children:[y.jsx(Ex,{placeId:o.coursePlaceId,courseName:o.courseName,alt:ec(o.courseName),style:{width:"100%",height:"100%",objectFit:"cover"}}),y.jsx("div",{className:"ep-hero-overlay"})]}):y.jsx("div",{className:"ep-hero-placeholder",children:y.jsx("span",{children:""})}),y.jsx("div",{className:"ep-hero-badge",children:y.jsx("span",{className:`ep-status-badge ${o.booked?"booked":"proposed"}`,children:o.booked?" Booked":"Proposed"})}),y.jsx("div",{className:"ep-hero-content",children:y.jsx("h1",{className:"ep-title",children:tr})}),y.jsxs("div",{className:"ep-hero-actions",children:[y.jsx("button",{className:"ep-fab",onClick:X,title:"Share",children:y.jsx("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:y.jsx("path",{d:"M4 12v8a2 2 0 002 2h12a2 2 0 002-2v-8M16 6l-4-4-4 4M12 2v13"})})}),y.jsx(wx,{event:o,eventUrl:Jr})]})]}),y.jsxs("div",{className:"ep-info-bar",children:[y.jsxs("div",{className:"ep-info-grid",children:[y.jsxs("div",{className:"ep-info-item",children:[y.jsxs("svg",{className:"ep-info-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("circle",{cx:"12",cy:"12",r:"10"}),y.jsx("path",{d:"M12 6v6l4 2"})]}),y.jsx("span",{className:"ep-info-value",children:o.tee||"TBA"}),y.jsx("span",{className:"ep-info-label",children:"Tee Time"})]}),y.jsxs("div",{className:"ep-info-item ep-info-item-course",children:[y.jsxs("svg",{className:"ep-info-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"}),y.jsx("circle",{cx:"12",cy:"10",r:"3"})]}),o.courseName?y.jsxs("a",{href:Tr,target:"_blank",rel:"noopener noreferrer",className:"ep-info-value ep-course-link",children:[ec(o.courseName),y.jsx("span",{className:"ep-link-arrow",children:""})]}):y.jsx("span",{className:"ep-info-value",children:"TBA"}),y.jsx("span",{className:"ep-info-label",children:"Course"})]}),y.jsxs("div",{className:"ep-info-item",children:[y.jsxs("svg",{className:"ep-info-icon",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:[y.jsx("path",{d:"M17 21v-2a4 4 0 00-4-4H5a4 4 0 00-4 4v2"}),y.jsx("circle",{cx:"9",cy:"7",r:"4"}),y.jsx("path",{d:"M23 21v-2a4 4 0 00-3-3.87M16 3.13a4 4 0 010 7.75"})]}),y.jsxs("span",{className:"ep-info-value",children:[Oe.length,"/",be]}),y.jsx("span",{className:"ep-info-label",children:"Players"})]})]}),o.notes&&y.jsxs("div",{className:"ep-notes",children:[y.jsx("span",{className:"ep-notes-icon",children:""}),o.notes]}),(s||o.createdBy===(t==null?void 0:t.uid))&&!L&&y.jsxs("div",{className:"ep-admin-bar",children:[y.jsx("button",{className:"ep-admin-btn",onClick:()=>M(!0),children:"Edit"}),y.jsx("button",{className:"ep-admin-btn",onClick:U,children:o.booked?"Mark Proposed":"Mark Booked"})]})]}),L&&y.jsxs("div",{className:"ep-card ep-edit-card",children:[y.jsx("h3",{className:"ep-card-title",children:"Edit Event"}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Tee Time"}),y.jsx("input",{type:"time",className:"input",value:A.tee,onChange:K=>P({...A,tee:K.target.value})})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Course"}),y.jsx(SE,{value:ec(A.courseName),onSelect:K=>{P({...A,courseName:K.name,courseAddress:K.address,coursePlaceId:K.placeId,courseLat:K.lat||null,courseLng:K.lng||null})}})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Notes"}),y.jsx("textarea",{className:"input",rows:2,value:A.notes,onChange:K=>P({...A,notes:K.target.value}),placeholder:"Any additional details..."})]}),y.jsxs("div",{className:"ep-edit-actions",children:[y.jsx("button",{className:"btn btn-ghost",onClick:()=>M(!1),children:"Cancel"}),y.jsx("button",{className:"btn btn-primary",onClick:we,children:"Save Changes"})]})]}),!L&&Zr&&o.courseLat&&o.courseLng&&St&&y.jsxs("div",{className:"ep-card ep-weather-card",children:[y.jsxs("button",{className:"ep-collapse-header",onClick:()=>Q(!G),children:[y.jsxs("span",{className:"ep-collapse-title",children:[y.jsx("span",{className:"ep-collapse-icon",children:""}),"Golf Conditions"]}),y.jsx("span",{className:`ep-collapse-arrow ${G?"expanded":""}`,children:""})]}),G?y.jsx("div",{className:"ep-collapse-content",children:y.jsx(jv,{lat:o.courseLat,lng:o.courseLng,date:St,coursePlaceId:o.coursePlaceId})}):y.jsx(jv,{lat:o.courseLat,lng:o.courseLng,date:St,coursePlaceId:o.coursePlaceId,compact:!0})]}),!L&&y.jsx("div",{className:"ep-card ep-rsvp-card",children:p==="available"?y.jsxs("div",{className:`ep-status-banner ${qe?"reserve":"confirmed"}`,children:[y.jsx("span",{className:"ep-status-icon",children:qe?"":""}),y.jsxs("div",{className:"ep-status-text",children:[y.jsx("strong",{children:qe?"You're on the reserve list":"You're confirmed for this round"}),qe&&y.jsxs("span",{className:"ep-status-sub",children:["Position ",Me.indexOf(t.uid)+1," in queue"]})]}),y.jsx("button",{className:"ep-status-action",onClick:()=>W(!0),children:"Edit"})]}):p==="unavailable"?y.jsxs("div",{className:"ep-status-banner declined",children:[y.jsx("span",{className:"ep-status-icon",children:""}),y.jsx("span",{className:"ep-status-text",children:y.jsx("strong",{children:"You declined this round"})}),y.jsx("button",{className:"ep-status-action",onClick:()=>re("available"),children:"Change"})]}):y.jsxs("div",{className:"ep-rsvp-buttons",children:[y.jsxs("button",{className:"ep-rsvp-btn ep-rsvp-in",onClick:()=>W(!0),disabled:C,children:[y.jsx("span",{className:"ep-rsvp-emoji",children:""}),"I'm In"]}),y.jsxs("button",{className:"ep-rsvp-btn ep-rsvp-out",onClick:()=>re("unavailable"),disabled:C,children:[y.jsx("span",{className:"ep-rsvp-emoji",children:""}),"Can't Make It"]})]})}),y.jsxs("div",{className:"ep-card ep-players-card",children:[y.jsxs("h3",{className:"ep-card-title",children:["Players (",Oe.length,"/",be,")"]}),y.jsxs("div",{className:"ep-players-grid",children:[Oe.map(K=>{const ae=De(h[K]),Se=K===(t==null?void 0:t.uid);return y.jsxs("div",{className:`ep-player ${Se?"current":""}`,children:[y.jsx("div",{className:"ep-player-avatar",style:{backgroundColor:`hsl(${K.charCodeAt(0)*10}, 60%, 70%)`},children:Tn(K)}),y.jsxs("div",{className:"ep-player-info",children:[y.jsxs("span",{className:"ep-player-name",children:[ct(K),Se&&y.jsx("span",{className:"ep-you-tag",children:"(you)"})]}),(ae.timePreference||ae.cartPreference||ae.formatPreference)&&y.jsxs("div",{className:"ep-player-prefs",children:[ae.timePreference&&y.jsxs("span",{className:"ep-pref-tag",children:[ae.timePreference==="AM"?"":ae.timePreference==="PM"?"":""," ",ae.timePreference]}),ae.cartPreference&&y.jsxs("span",{className:"ep-pref-tag",children:[ae.cartPreference==="Walk"?"":(ae.cartPreference==="Cart","")," ",ae.cartPreference]}),ae.formatPreference&&y.jsxs("span",{className:"ep-pref-tag",children:[ae.formatPreference==="Stroke"?"":ae.formatPreference==="Scramble"?"":""," ",ae.formatPreference]})]})]})]},K)}),Array.from({length:be-Oe.length}).map((K,ae)=>y.jsxs("div",{className:"ep-player ep-player-empty",children:[y.jsx("div",{className:"ep-player-avatar empty",children:y.jsx("span",{children:"?"})}),y.jsx("span",{className:"ep-player-name",children:"Open spot"})]},`empty-${ae}`))]}),Me.length>0&&y.jsxs("div",{className:"ep-reserve-section",children:[y.jsx("h4",{className:"ep-reserve-title",children:"Reserve List"}),y.jsx("div",{className:"ep-reserve-list",children:Me.map((K,ae)=>y.jsxs("div",{className:"ep-reserve-player",children:[y.jsxs("span",{className:"ep-reserve-position",children:["#",ae+1]}),y.jsx("div",{className:"ep-player-avatar small",style:{backgroundColor:`hsl(${K.charCodeAt(0)*10}, 60%, 70%)`},children:Tn(K)}),y.jsx("span",{children:ct(K)})]},K))})]})]}),Oe.length>0&&y.jsxs("div",{className:"ep-card ep-prefs-card",children:[y.jsxs("button",{className:"ep-collapse-header",onClick:()=>ge(!ne),children:[y.jsxs("span",{className:"ep-collapse-title",children:[y.jsx("span",{className:"ep-collapse-icon",children:""}),"Group Preferences"]}),y.jsx("span",{className:`ep-collapse-arrow ${ne?"expanded":""}`,children:""})]}),ne&&y.jsxs("div",{className:"ep-collapse-content ep-prefs-content",children:[Object.keys(tn.time).length>0&&y.jsxs("div",{className:"ep-pref-row",children:[y.jsx("span",{className:"ep-pref-label",children:"Time:"}),y.jsx("div",{className:"ep-pref-values",children:Object.entries(tn.time).map(([K,ae])=>y.jsxs("span",{className:"ep-pref-chip",children:[K," (",ae,")"]},K))})]}),Object.keys(tn.cart).length>0&&y.jsxs("div",{className:"ep-pref-row",children:[y.jsx("span",{className:"ep-pref-label",children:"Transport:"}),y.jsx("div",{className:"ep-pref-values",children:Object.entries(tn.cart).map(([K,ae])=>y.jsxs("span",{className:"ep-pref-chip",children:[K," (",ae,")"]},K))})]}),Object.keys(tn.format).length>0&&y.jsxs("div",{className:"ep-pref-row",children:[y.jsx("span",{className:"ep-pref-label",children:"Format:"}),y.jsx("div",{className:"ep-pref-values",children:Object.entries(tn.format).map(([K,ae])=>y.jsxs("span",{className:"ep-pref-chip",children:[K," (",ae,")"]},K))})]}),Object.keys(tn.time).length===0&&Object.keys(tn.cart).length===0&&Object.keys(tn.format).length===0&&y.jsx("p",{className:"ep-no-prefs",children:"No preferences set yet"})]})]}),(p==="available"||s||o.createdBy===(t==null?void 0:t.uid))&&y.jsxs("div",{className:"ep-card ep-actions-card",children:[y.jsx("h3",{className:"ep-card-title",children:"Actions"}),p==="available"&&y.jsx("button",{className:"ep-action-btn ep-action-remove",onClick:()=>re(null),children:"Remove Booking"}),(s||o.createdBy===(t==null?void 0:t.uid))&&y.jsx(y.Fragment,{children:le?y.jsxs("div",{className:"ep-delete-confirm",children:[y.jsx("p",{children:"Are you sure? This cannot be undone."}),y.jsxs("div",{className:"ep-delete-actions",children:[y.jsx("button",{className:"btn btn-ghost",onClick:()=>oe(!1),children:"Cancel"}),y.jsx("button",{className:"btn btn-danger",onClick:ce,children:"Yes, Delete"})]})]}):y.jsx("button",{className:"ep-action-btn ep-action-delete",onClick:()=>oe(!0),children:"Delete Event"})})]}),k&&y.jsx("div",{className:"ep-modal-overlay",onClick:()=>W(!1),children:y.jsxs("div",{className:"ep-modal",onClick:K=>K.stopPropagation(),children:[y.jsx("h3",{className:"ep-modal-title",children:"Set Your Preferences"}),y.jsxs("div",{className:"ep-modal-content",children:[y.jsxs("div",{className:"ep-pref-group",children:[y.jsx("label",{children:"Preferred Time"}),y.jsx("div",{className:"ep-toggle-group",children:["AM","PM","Any"].map(K=>y.jsxs("button",{type:"button",className:`ep-toggle-btn ${fe.timePreference===K?"active":""}`,onClick:()=>D({...fe,timePreference:K}),children:[K==="AM"?"":K==="PM"?"":""," ",K]},K))})]}),y.jsxs("div",{className:"ep-pref-group",children:[y.jsx("label",{children:"Walk or Cart?"}),y.jsx("div",{className:"ep-toggle-group",children:["Walk","Cart","Any"].map(K=>y.jsxs("button",{type:"button",className:`ep-toggle-btn ${fe.cartPreference===K?"active":""}`,onClick:()=>D({...fe,cartPreference:K}),children:[K==="Walk"?"":K==="Cart"?"":""," ",K]},K))})]}),y.jsxs("div",{className:"ep-pref-group",children:[y.jsx("label",{children:"Game Format"}),y.jsx("div",{className:"ep-toggle-group",children:["Stroke","Scramble","Any"].map(K=>y.jsxs("button",{type:"button",className:`ep-toggle-btn ${fe.formatPreference===K?"active":""}`,onClick:()=>D({...fe,formatPreference:K}),children:[K==="Stroke"?"":K==="Scramble"?"":""," ",K]},K))})]})]}),y.jsxs("div",{className:"ep-modal-actions",children:[y.jsx("button",{className:"btn btn-ghost",onClick:()=>W(!1),children:"Cancel"}),y.jsx("button",{className:"btn btn-success",onClick:()=>re("available",fe),disabled:C,children:C?"Saving...":p==="available"?"Update":"Confirm I'm In"})]})]})})]})}function Sx(){var N;const{user:n,profile:e,isAdmin:t,logout:s}=Ys(),o=(e==null?void 0:e.username)||((N=n==null?void 0:n.email)==null?void 0:N.split("@")[0])||"User",l=Op(o),[h,f]=$.useState(!1),[p,v]=$.useState(!1),[w,T]=$.useState(o),[C,b]=$.useState(""),[L,M]=$.useState(""),[k,W]=$.useState(""),[G,Q]=$.useState(!1),[ne,ge]=$.useState(!1),fe=async()=>{await s()};async function D(x){const j=x.toLowerCase(),I=xp($r(xt,"users"),kp("username","==",j));return(await Rl(I)).docs.some(oe=>oe.id!==n.uid)}const A=async()=>{const x=w.trim().toLowerCase();if(!x.match(/^[a-z0-9_]+$/)){mt("Username can only contain letters, numbers, and underscores");return}if(x.length<3){mt("Username must be at least 3 characters");return}if(x===o.toLowerCase()){f(!1);return}Q(!0);try{if(await D(x)){mt("That username is already taken"),Q(!1);return}await sl(Xn(xt,"users",n.uid),{username:x}),mt("Username updated! "),f(!1),window.location.reload()}catch(j){console.error("Error updating username:",j),mt("Failed to update username")}finally{Q(!1)}},P=async()=>{if(!C){mt("Please enter your current password");return}if(L.length<6){mt("New password must be at least 6 characters");return}if(L!==k){mt("New passwords don't match");return}ge(!0);try{const x=Vi.credential(n.email,C);await I1(n,x),await A1(n,L),mt("Password updated! "),v(!1),b(""),M(""),W("")}catch(x){console.error("Error updating password:",x),x.code==="auth/wrong-password"?mt("Current password is incorrect"):x.code==="auth/weak-password"?mt("New password is too weak"):mt("Failed to update password")}finally{ge(!1)}};return y.jsx("div",{className:"page",children:y.jsxs("div",{className:"page-content",children:[y.jsxs("div",{className:"card profile-card",children:[y.jsx("div",{className:"avatar avatar-lg",style:{backgroundColor:l.bg,color:l.text,margin:"0 auto 16px"},children:bp(o)}),y.jsx("h2",{className:"profile-name",children:o}),y.jsx("p",{className:"profile-email",children:n==null?void 0:n.email}),t&&y.jsx("span",{className:"badge badge-success",style:{marginTop:8},children:"Admin"})]}),y.jsxs("div",{className:"card",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[y.jsx("h3",{className:"card-title",children:"Username"}),!h&&y.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>{T(o),f(!0)},children:"Edit"})]}),h?y.jsxs("div",{children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"New Username"}),y.jsx("input",{type:"text",className:"input",value:w,onChange:x=>T(x.target.value),placeholder:"golfer123",autoFocus:!0}),y.jsx("span",{className:"input-hint",children:"Letters, numbers, and underscores only"})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{className:"btn btn-ghost",onClick:()=>{f(!1),T(o)},disabled:G,children:"Cancel"}),y.jsx("button",{className:"btn btn-primary",onClick:A,disabled:G,children:G?"Saving...":"Save Username"})]})]}):y.jsxs("div",{className:"info-row",children:[y.jsx("span",{className:"info-label",children:"Current username"}),y.jsx("span",{className:"info-value",children:o})]})]}),y.jsxs("div",{className:"card",children:[y.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[y.jsx("h3",{className:"card-title",children:"Password"}),!p&&y.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>v(!0),children:"Change"})]}),p?y.jsxs("div",{children:[y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Current Password"}),y.jsx("input",{type:"password",className:"input",value:C,onChange:x=>b(x.target.value),placeholder:"Enter current password",autoComplete:"current-password"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"New Password"}),y.jsx("input",{type:"password",className:"input",value:L,onChange:x=>M(x.target.value),placeholder:"Enter new password",autoComplete:"new-password"}),y.jsx("span",{className:"input-hint",children:"At least 6 characters"})]}),y.jsxs("div",{className:"form-group",children:[y.jsx("label",{children:"Confirm New Password"}),y.jsx("input",{type:"password",className:"input",value:k,onChange:x=>W(x.target.value),placeholder:"Confirm new password",autoComplete:"new-password"})]}),y.jsxs("div",{className:"form-actions",children:[y.jsx("button",{className:"btn btn-ghost",onClick:()=>{v(!1),b(""),M(""),W("")},disabled:ne,children:"Cancel"}),y.jsx("button",{className:"btn btn-primary",onClick:P,disabled:ne,children:ne?"Updating...":"Update Password"})]})]}):y.jsxs("div",{className:"info-row",children:[y.jsx("span",{className:"info-label",children:"Password"}),y.jsx("span",{className:"info-value",children:""})]})]}),y.jsxs("div",{className:"card",children:[y.jsx("h3",{className:"card-title",children:"Account Info"}),y.jsxs("div",{className:"info-row",children:[y.jsx("span",{className:"info-label",children:"Email"}),y.jsx("span",{className:"info-value",children:n==null?void 0:n.email})]}),y.jsxs("div",{className:"info-row",children:[y.jsx("span",{className:"info-label",children:"Member since"}),y.jsx("span",{className:"info-value",children:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString("en-AU",{month:"long",year:"numeric"}):"Unknown"})]})]}),y.jsx("button",{className:"btn btn-danger btn-full",onClick:fe,children:"Sign Out"})]})})}function Cx(){const[n,e]=$.useState([]),[t,s]=$.useState([]),[o,l]=$.useState(!0);$.useEffect(()=>{const p=xf($r(xt,"events"),v=>{const w=v.docs.map(T=>({id:T.id,...T.data()}));w.sort((T,C)=>{var b,L;return(((b=C.date)==null?void 0:b.toMillis())||0)-(((L=T.date)==null?void 0:L.toMillis())||0)}),e(w),l(!1)});return()=>p()},[]),$.useEffect(()=>{const p=xf($r(xt,"users"),v=>{const w=v.docs.map(T=>({id:T.id,...T.data()}));s(w)});return()=>p()},[]);const h=async p=>{if(confirm("Delete this event?")){Wo("medium");try{await wE(Xn(xt,"events",p)),mt("Event deleted","default")}catch(v){console.error("Error deleting event:",v),mt("Failed to delete","error")}}},f=async(p,v)=>{if(confirm(`${v?"Remove":"Grant"} admin privileges?`)){Wo("medium");try{await sl(Xn(xt,"users",p),{isAdmin:!v}),mt(`Admin ${v?"removed":"granted"}`,"success")}catch(w){console.error("Error updating user:",w),mt("Failed to update","error")}}};return o?y.jsx("div",{className:"page",children:y.jsxs("div",{className:"page-content",children:[y.jsx("div",{className:"skeleton",style:{height:32,width:"40%",marginBottom:24}}),y.jsx("div",{className:"skeleton",style:{height:200,marginBottom:16}}),y.jsx("div",{className:"skeleton",style:{height:200}})]})}):y.jsx("div",{className:"page",children:y.jsxs("div",{className:"page-content",children:[y.jsx("h1",{className:"page-title",children:"Admin Panel"}),y.jsxs("div",{className:"card",children:[y.jsxs("div",{className:"card-header",children:[y.jsx("h3",{className:"card-title",children:"Events"}),y.jsx("span",{className:"badge",children:n.length})]}),n.length===0?y.jsx("p",{className:"text-secondary",children:"No events yet"}):y.jsx("div",{className:"admin-list",children:n.map(p=>{var T,C;const v=ix((C=(T=p.date)==null?void 0:T.toDate)==null?void 0:C.call(T)),w=p.responses?Object.values(p.responses).filter(b=>(typeof b=="string"?b:b==null?void 0:b.status)==="available").length:0;return y.jsxs("div",{className:"admin-list-item",children:[y.jsxs("div",{className:"admin-list-info",children:[y.jsxs("div",{className:"admin-list-title",children:[p.title||"Golf Round",p.booked&&y.jsx("span",{className:"badge badge-success badge-sm",children:"Booked"})]}),y.jsxs("div",{className:"admin-list-meta",children:[v,"  ",w,"/4 players",p.courseName&&`  ${p.courseName}`]})]}),y.jsxs("div",{className:"admin-list-actions",children:[y.jsx(pr,{to:`/event/${p.id}`,className:"btn btn-ghost btn-sm",children:"View"}),y.jsx("button",{className:"btn btn-ghost btn-sm btn-danger",onClick:()=>h(p.id),children:"Delete"})]})]},p.id)})})]}),y.jsxs("div",{className:"card",children:[y.jsxs("div",{className:"card-header",children:[y.jsx("h3",{className:"card-title",children:"Users"}),y.jsx("span",{className:"badge",children:t.length})]}),t.length===0?y.jsx("p",{className:"text-secondary",children:"No users yet"}):y.jsx("div",{className:"admin-list",children:t.map(p=>{var T;const v=p.username||((T=p.email)==null?void 0:T.split("@")[0])||"User",w=Op(v);return y.jsxs("div",{className:"admin-list-item",children:[y.jsx("div",{className:"admin-list-info",children:y.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[y.jsx("div",{className:"avatar avatar-sm",style:{backgroundColor:w.bg,color:w.text},children:bp(v)}),y.jsxs("div",{children:[y.jsxs("div",{className:"admin-list-title",children:[v,p.isAdmin&&y.jsx("span",{className:"badge badge-success badge-sm",children:"Admin"})]}),y.jsx("div",{className:"admin-list-meta",children:p.email})]})]})}),y.jsx("div",{className:"admin-list-actions",children:y.jsx("button",{className:`btn btn-ghost btn-sm ${p.isAdmin?"btn-danger":""}`,onClick:()=>f(p.id,p.isAdmin),children:p.isAdmin?"Remove Admin":"Make Admin"})})]},p.id)})})]})]})})}function Xd({children:n}){const{user:e,loading:t}=Ys();return t?y.jsx("div",{className:"page",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:y.jsx("div",{className:"spinner"})}):e?n:y.jsx(dc,{to:"/login",replace:!0})}function Ax({children:n}){const{user:e,isAdmin:t,loading:s}=Ys();return s?y.jsx("div",{className:"page",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:y.jsx("div",{className:"spinner"})}):e?t?n:y.jsx(dc,{to:"/",replace:!0}):y.jsx(dc,{to:"/login",replace:!0})}function Px(){return y.jsxs("div",{className:"app-shell",children:[y.jsx(rx,{}),y.jsx("main",{className:"main-content",children:y.jsxs(DT,{children:[y.jsx(As,{path:"/login",element:y.jsx(gx,{})}),y.jsx(As,{path:"/signup",element:y.jsx(yx,{})}),y.jsx(As,{path:"/",element:y.jsx(Xd,{children:y.jsx(mx,{})})}),y.jsx(As,{path:"/event/:id",element:y.jsx(Xd,{children:y.jsx(Ix,{})})}),y.jsx(As,{path:"/profile",element:y.jsx(Xd,{children:y.jsx(Sx,{})})}),y.jsx(As,{path:"/admin",element:y.jsx(Ax,{children:y.jsx(Cx,{})})}),y.jsx(As,{path:"*",element:y.jsx(dc,{to:"/",replace:!0})})]})}),y.jsx(sx,{})]})}const Rx="/golfgang/";U0.createRoot(document.getElementById("root")).render(y.jsx($.StrictMode,{children:y.jsx(UT,{basename:Rx,children:y.jsx(nx,{children:y.jsx(Px,{})})})}));
