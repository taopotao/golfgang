function I0(r,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in r)){const l=Object.getOwnPropertyDescriptor(i,o);l&&Object.defineProperty(r,o,l.get?l:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const l of o)if(l.type==="childList")for(const h of l.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&i(h)}).observe(document,{childList:!0,subtree:!0});function t(o){const l={};return o.integrity&&(l.integrity=o.integrity),o.referrerPolicy&&(l.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?l.credentials="include":o.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(o){if(o.ep)return;o.ep=!0;const l=t(o);fetch(o.href,l)}})();function S0(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var bd={exports:{}},Ha={},Dd={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function P0(){if(jg)return xe;jg=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),h=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.iterator;function S(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var V={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,B={};function j(M,q,ge){this.props=M,this.context=q,this.refs=B,this.updater=ge||V}j.prototype.isReactComponent={},j.prototype.setState=function(M,q){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,q,"setState")},j.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function oe(){}oe.prototype=j.prototype;function H(M,q,ge){this.props=M,this.context=q,this.refs=B,this.updater=ge||V}var ne=H.prototype=new oe;ne.constructor=H,O(ne,j.prototype),ne.isPureReactComponent=!0;var le=Array.isArray,Se=Object.prototype.hasOwnProperty,re={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function P(M,q,ge){var ke,K={},ee=null,ce=null;if(q!=null)for(ke in q.ref!==void 0&&(ce=q.ref),q.key!==void 0&&(ee=""+q.key),q)Se.call(q,ke)&&!k.hasOwnProperty(ke)&&(K[ke]=q[ke]);var Re=arguments.length-2;if(Re===1)K.children=ge;else if(1<Re){for(var be=Array(Re),He=0;He<Re;He++)be[He]=arguments[He+2];K.children=be}if(M&&M.defaultProps)for(ke in Re=M.defaultProps,Re)K[ke]===void 0&&(K[ke]=Re[ke]);return{$$typeof:r,type:M,key:ee,ref:ce,props:K,_owner:re.current}}function C(M,q){return{$$typeof:r,type:M.type,key:q,ref:M.ref,props:M.props,_owner:M._owner}}function b(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function N(M){var q={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ge){return q[ge]})}var L=/\/+/g;function R(M,q){return typeof M=="object"&&M!==null&&M.key!=null?N(""+M.key):q.toString(36)}function We(M,q,ge,ke,K){var ee=typeof M;(ee==="undefined"||ee==="boolean")&&(M=null);var ce=!1;if(M===null)ce=!0;else switch(ee){case"string":case"number":ce=!0;break;case"object":switch(M.$$typeof){case r:case e:ce=!0}}if(ce)return ce=M,K=K(ce),M=ke===""?"."+R(ce,0):ke,le(K)?(ge="",M!=null&&(ge=M.replace(L,"$&/")+"/"),We(K,q,ge,"",function(He){return He})):K!=null&&(b(K)&&(K=C(K,ge+(!K.key||ce&&ce.key===K.key?"":(""+K.key).replace(L,"$&/")+"/")+M)),q.push(K)),1;if(ce=0,ke=ke===""?".":ke+":",le(M))for(var Re=0;Re<M.length;Re++){ee=M[Re];var be=ke+R(ee,Re);ce+=We(ee,q,ge,be,K)}else if(be=S(M),typeof be=="function")for(M=be.call(M),Re=0;!(ee=M.next()).done;)ee=ee.value,be=ke+R(ee,Re++),ce+=We(ee,q,ge,be,K);else if(ee==="object")throw q=String(M),Error("Objects are not valid as a React child (found: "+(q==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":q)+"). If you meant to render a collection of children, use an array instead.");return ce}function Ze(M,q,ge){if(M==null)return M;var ke=[],K=0;return We(M,ke,"","",function(ee){return q.call(ge,ee,K++)}),ke}function at(M){if(M._status===-1){var q=M._result;q=q(),q.then(function(ge){(M._status===0||M._status===-1)&&(M._status=1,M._result=ge)},function(ge){(M._status===0||M._status===-1)&&(M._status=2,M._result=ge)}),M._status===-1&&(M._status=0,M._result=q)}if(M._status===1)return M._result.default;throw M._result}var Be={current:null},se={transition:null},ve={ReactCurrentDispatcher:Be,ReactCurrentBatchConfig:se,ReactCurrentOwner:re};function ue(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:Ze,forEach:function(M,q,ge){Ze(M,function(){q.apply(this,arguments)},ge)},count:function(M){var q=0;return Ze(M,function(){q++}),q},toArray:function(M){return Ze(M,function(q){return q})||[]},only:function(M){if(!b(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},xe.Component=j,xe.Fragment=t,xe.Profiler=o,xe.PureComponent=H,xe.StrictMode=i,xe.Suspense=p,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,xe.act=ue,xe.cloneElement=function(M,q,ge){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var ke=O({},M.props),K=M.key,ee=M.ref,ce=M._owner;if(q!=null){if(q.ref!==void 0&&(ee=q.ref,ce=re.current),q.key!==void 0&&(K=""+q.key),M.type&&M.type.defaultProps)var Re=M.type.defaultProps;for(be in q)Se.call(q,be)&&!k.hasOwnProperty(be)&&(ke[be]=q[be]===void 0&&Re!==void 0?Re[be]:q[be])}var be=arguments.length-2;if(be===1)ke.children=ge;else if(1<be){Re=Array(be);for(var He=0;He<be;He++)Re[He]=arguments[He+2];ke.children=Re}return{$$typeof:r,type:M.type,key:K,ref:ee,props:ke,_owner:ce}},xe.createContext=function(M){return M={$$typeof:h,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:l,_context:M},M.Consumer=M},xe.createElement=P,xe.createFactory=function(M){var q=P.bind(null,M);return q.type=M,q},xe.createRef=function(){return{current:null}},xe.forwardRef=function(M){return{$$typeof:f,render:M}},xe.isValidElement=b,xe.lazy=function(M){return{$$typeof:w,_payload:{_status:-1,_result:M},_init:at}},xe.memo=function(M,q){return{$$typeof:y,type:M,compare:q===void 0?null:q}},xe.startTransition=function(M){var q=se.transition;se.transition={};try{M()}finally{se.transition=q}},xe.unstable_act=ue,xe.useCallback=function(M,q){return Be.current.useCallback(M,q)},xe.useContext=function(M){return Be.current.useContext(M)},xe.useDebugValue=function(){},xe.useDeferredValue=function(M){return Be.current.useDeferredValue(M)},xe.useEffect=function(M,q){return Be.current.useEffect(M,q)},xe.useId=function(){return Be.current.useId()},xe.useImperativeHandle=function(M,q,ge){return Be.current.useImperativeHandle(M,q,ge)},xe.useInsertionEffect=function(M,q){return Be.current.useInsertionEffect(M,q)},xe.useLayoutEffect=function(M,q){return Be.current.useLayoutEffect(M,q)},xe.useMemo=function(M,q){return Be.current.useMemo(M,q)},xe.useReducer=function(M,q,ge){return Be.current.useReducer(M,q,ge)},xe.useRef=function(M){return Be.current.useRef(M)},xe.useState=function(M){return Be.current.useState(M)},xe.useSyncExternalStore=function(M,q,ge){return Be.current.useSyncExternalStore(M,q,ge)},xe.useTransition=function(){return Be.current.useTransition()},xe.version="18.3.1",xe}var Fg;function kf(){return Fg||(Fg=1,Dd.exports=P0()),Dd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ug;function A0(){if(Ug)return Ha;Ug=1;var r=kf(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function h(f,p,y){var w,T={},S=null,V=null;y!==void 0&&(S=""+y),p.key!==void 0&&(S=""+p.key),p.ref!==void 0&&(V=p.ref);for(w in p)i.call(p,w)&&!l.hasOwnProperty(w)&&(T[w]=p[w]);if(f&&f.defaultProps)for(w in p=f.defaultProps,p)T[w]===void 0&&(T[w]=p[w]);return{$$typeof:e,type:f,key:S,ref:V,props:T,_owner:o.current}}return Ha.Fragment=t,Ha.jsx=h,Ha.jsxs=h,Ha}var Bg;function C0(){return Bg||(Bg=1,bd.exports=A0()),bd.exports}var _=C0(),G=kf();const R0=S0(G),k0=I0({__proto__:null,default:R0},[G]);var Hu={},Vd={exports:{}},rn={},Od={exports:{}},Ld={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zg;function N0(){return zg||(zg=1,(function(r){function e(se,ve){var ue=se.length;se.push(ve);e:for(;0<ue;){var M=ue-1>>>1,q=se[M];if(0<o(q,ve))se[M]=ve,se[ue]=q,ue=M;else break e}}function t(se){return se.length===0?null:se[0]}function i(se){if(se.length===0)return null;var ve=se[0],ue=se.pop();if(ue!==ve){se[0]=ue;e:for(var M=0,q=se.length,ge=q>>>1;M<ge;){var ke=2*(M+1)-1,K=se[ke],ee=ke+1,ce=se[ee];if(0>o(K,ue))ee<q&&0>o(ce,K)?(se[M]=ce,se[ee]=ue,M=ee):(se[M]=K,se[ke]=ue,M=ke);else if(ee<q&&0>o(ce,ue))se[M]=ce,se[ee]=ue,M=ee;else break e}}return ve}function o(se,ve){var ue=se.sortIndex-ve.sortIndex;return ue!==0?ue:se.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var h=Date,f=h.now();r.unstable_now=function(){return h.now()-f}}var p=[],y=[],w=1,T=null,S=3,V=!1,O=!1,B=!1,j=typeof setTimeout=="function"?setTimeout:null,oe=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(se){for(var ve=t(y);ve!==null;){if(ve.callback===null)i(y);else if(ve.startTime<=se)i(y),ve.sortIndex=ve.expirationTime,e(p,ve);else break;ve=t(y)}}function le(se){if(B=!1,ne(se),!O)if(t(p)!==null)O=!0,at(Se);else{var ve=t(y);ve!==null&&Be(le,ve.startTime-se)}}function Se(se,ve){O=!1,B&&(B=!1,oe(P),P=-1),V=!0;var ue=S;try{for(ne(ve),T=t(p);T!==null&&(!(T.expirationTime>ve)||se&&!N());){var M=T.callback;if(typeof M=="function"){T.callback=null,S=T.priorityLevel;var q=M(T.expirationTime<=ve);ve=r.unstable_now(),typeof q=="function"?T.callback=q:T===t(p)&&i(p),ne(ve)}else i(p);T=t(p)}if(T!==null)var ge=!0;else{var ke=t(y);ke!==null&&Be(le,ke.startTime-ve),ge=!1}return ge}finally{T=null,S=ue,V=!1}}var re=!1,k=null,P=-1,C=5,b=-1;function N(){return!(r.unstable_now()-b<C)}function L(){if(k!==null){var se=r.unstable_now();b=se;var ve=!0;try{ve=k(!0,se)}finally{ve?R():(re=!1,k=null)}}else re=!1}var R;if(typeof H=="function")R=function(){H(L)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,Ze=We.port2;We.port1.onmessage=L,R=function(){Ze.postMessage(null)}}else R=function(){j(L,0)};function at(se){k=se,re||(re=!0,R())}function Be(se,ve){P=j(function(){se(r.unstable_now())},ve)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(se){se.callback=null},r.unstable_continueExecution=function(){O||V||(O=!0,at(Se))},r.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<se?Math.floor(1e3/se):5},r.unstable_getCurrentPriorityLevel=function(){return S},r.unstable_getFirstCallbackNode=function(){return t(p)},r.unstable_next=function(se){switch(S){case 1:case 2:case 3:var ve=3;break;default:ve=S}var ue=S;S=ve;try{return se()}finally{S=ue}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(se,ve){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ue=S;S=se;try{return ve()}finally{S=ue}},r.unstable_scheduleCallback=function(se,ve,ue){var M=r.unstable_now();switch(typeof ue=="object"&&ue!==null?(ue=ue.delay,ue=typeof ue=="number"&&0<ue?M+ue:M):ue=M,se){case 1:var q=-1;break;case 2:q=250;break;case 5:q=1073741823;break;case 4:q=1e4;break;default:q=5e3}return q=ue+q,se={id:w++,callback:ve,priorityLevel:se,startTime:ue,expirationTime:q,sortIndex:-1},ue>M?(se.sortIndex=ue,e(y,se),t(p)===null&&se===t(y)&&(B?(oe(P),P=-1):B=!0,Be(le,ue-M))):(se.sortIndex=q,e(p,se),O||V||(O=!0,at(Se))),se},r.unstable_shouldYield=N,r.unstable_wrapCallback=function(se){var ve=S;return function(){var ue=S;S=ve;try{return se.apply(this,arguments)}finally{S=ue}}}})(Ld)),Ld}var $g;function x0(){return $g||($g=1,Od.exports=N0()),Od.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wg;function b0(){if(Wg)return rn;Wg=1;var r=kf(),e=x0();function t(n){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+n,a=1;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(n,s){h(n,s),h(n+"Capture",s)}function h(n,s){for(o[n]=s,n=0;n<s.length;n++)i.add(s[n])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),p=Object.prototype.hasOwnProperty,y=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},T={};function S(n){return p.call(T,n)?!0:p.call(w,n)?!1:y.test(n)?T[n]=!0:(w[n]=!0,!1)}function V(n,s,a,c){if(a!==null&&a.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return c?!1:a!==null?!a.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function O(n,s,a,c){if(s===null||typeof s>"u"||V(n,s,a,c))return!0;if(c)return!1;if(a!==null)switch(a.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function B(n,s,a,c,d,g,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=a,this.propertyName=n,this.type=s,this.sanitizeURL=g,this.removeEmptyString=E}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){j[n]=new B(n,0,!1,n,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var s=n[0];j[s]=new B(s,1,!1,n[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(n){j[n]=new B(n,2,!1,n.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){j[n]=new B(n,2,!1,n,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){j[n]=new B(n,3,!1,n.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(n){j[n]=new B(n,3,!0,n,null,!1,!1)}),["capture","download"].forEach(function(n){j[n]=new B(n,4,!1,n,null,!1,!1)}),["cols","rows","size","span"].forEach(function(n){j[n]=new B(n,6,!1,n,null,!1,!1)}),["rowSpan","start"].forEach(function(n){j[n]=new B(n,5,!1,n.toLowerCase(),null,!1,!1)});var oe=/[\-:]([a-z])/g;function H(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var s=n.replace(oe,H);j[s]=new B(s,1,!1,n,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var s=n.replace(oe,H);j[s]=new B(s,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(n){var s=n.replace(oe,H);j[s]=new B(s,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(n){j[n]=new B(n,1,!1,n.toLowerCase(),null,!1,!1)}),j.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(n){j[n]=new B(n,1,!1,n.toLowerCase(),null,!0,!0)});function ne(n,s,a,c){var d=j.hasOwnProperty(s)?j[s]:null;(d!==null?d.type!==0:c||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(O(s,a,d,c)&&(a=null),c||d===null?S(s)&&(a===null?n.removeAttribute(s):n.setAttribute(s,""+a)):d.mustUseProperty?n[d.propertyName]=a===null?d.type===3?!1:"":a:(s=d.attributeName,c=d.attributeNamespace,a===null?n.removeAttribute(s):(d=d.type,a=d===3||d===4&&a===!0?"":""+a,c?n.setAttributeNS(c,s,a):n.setAttribute(s,a))))}var le=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Se=Symbol.for("react.element"),re=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),N=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),We=Symbol.for("react.suspense_list"),Ze=Symbol.for("react.memo"),at=Symbol.for("react.lazy"),Be=Symbol.for("react.offscreen"),se=Symbol.iterator;function ve(n){return n===null||typeof n!="object"?null:(n=se&&n[se]||n["@@iterator"],typeof n=="function"?n:null)}var ue=Object.assign,M;function q(n){if(M===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);M=s&&s[1]||""}return`
`+M+n}var ge=!1;function ke(n,s){if(!n||ge)return"";ge=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch($){var c=$}Reflect.construct(n,[],s)}else{try{s.call()}catch($){c=$}n.call(s.prototype)}else{try{throw Error()}catch($){c=$}n()}}catch($){if($&&c&&typeof $.stack=="string"){for(var d=$.stack.split(`
`),g=c.stack.split(`
`),E=d.length-1,A=g.length-1;1<=E&&0<=A&&d[E]!==g[A];)A--;for(;1<=E&&0<=A;E--,A--)if(d[E]!==g[A]){if(E!==1||A!==1)do if(E--,A--,0>A||d[E]!==g[A]){var x=`
`+d[E].replace(" at new "," at ");return n.displayName&&x.includes("<anonymous>")&&(x=x.replace("<anonymous>",n.displayName)),x}while(1<=E&&0<=A);break}}}finally{ge=!1,Error.prepareStackTrace=a}return(n=n?n.displayName||n.name:"")?q(n):""}function K(n){switch(n.tag){case 5:return q(n.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return n=ke(n.type,!1),n;case 11:return n=ke(n.type.render,!1),n;case 1:return n=ke(n.type,!0),n;default:return""}}function ee(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case k:return"Fragment";case re:return"Portal";case C:return"Profiler";case P:return"StrictMode";case R:return"Suspense";case We:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case N:return(n.displayName||"Context")+".Consumer";case b:return(n._context.displayName||"Context")+".Provider";case L:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Ze:return s=n.displayName||null,s!==null?s:ee(n.type)||"Memo";case at:s=n._payload,n=n._init;try{return ee(n(s))}catch{}}return null}function ce(n){var s=n.type;switch(n.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=s.render,n=n.displayName||n.name||"",s.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ee(s);case 8:return s===P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function Re(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function be(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function He(n){var s=be(n)?"checked":"value",a=Object.getOwnPropertyDescriptor(n.constructor.prototype,s),c=""+n[s];if(!n.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var d=a.get,g=a.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return d.call(this)},set:function(E){c=""+E,g.call(this,E)}}),Object.defineProperty(n,s,{enumerable:a.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Qt(n){n._valueTracker||(n._valueTracker=He(n))}function mr(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var a=s.getValue(),c="";return n&&(c=be(n)?n.checked?"true":"false":n.value),n=c,n!==a?(s.setValue(n),!0):!1}function Kn(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function $i(n,s){var a=s.checked;return ue({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:a??n._wrapperState.initialChecked})}function Ds(n,s){var a=s.defaultValue==null?"":s.defaultValue,c=s.checked!=null?s.checked:s.defaultChecked;a=Re(s.value!=null?s.value:a),n._wrapperState={initialChecked:c,initialValue:a,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function Xo(n,s){s=s.checked,s!=null&&ne(n,"checked",s,!1)}function Jo(n,s){Xo(n,s);var a=Re(s.value),c=s.type;if(a!=null)c==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+a):n.value!==""+a&&(n.value=""+a);else if(c==="submit"||c==="reset"){n.removeAttribute("value");return}s.hasOwnProperty("value")?Vs(n,s.type,a):s.hasOwnProperty("defaultValue")&&Vs(n,s.type,Re(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(n.defaultChecked=!!s.defaultChecked)}function Nl(n,s,a){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var c=s.type;if(!(c!=="submit"&&c!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+n._wrapperState.initialValue,a||s===n.value||(n.value=s),n.defaultValue=s}a=n.name,a!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,a!==""&&(n.name=a)}function Vs(n,s,a){(s!=="number"||Kn(n.ownerDocument)!==n)&&(a==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+a&&(n.defaultValue=""+a))}var gr=Array.isArray;function yr(n,s,a,c){if(n=n.options,s){s={};for(var d=0;d<a.length;d++)s["$"+a[d]]=!0;for(a=0;a<n.length;a++)d=s.hasOwnProperty("$"+n[a].value),n[a].selected!==d&&(n[a].selected=d),d&&c&&(n[a].defaultSelected=!0)}else{for(a=""+Re(a),s=null,d=0;d<n.length;d++){if(n[d].value===a){n[d].selected=!0,c&&(n[d].defaultSelected=!0);return}s!==null||n[d].disabled||(s=n[d])}s!==null&&(s.selected=!0)}}function Zo(n,s){if(s.dangerouslySetInnerHTML!=null)throw Error(t(91));return ue({},s,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function Os(n,s){var a=s.value;if(a==null){if(a=s.children,s=s.defaultValue,a!=null){if(s!=null)throw Error(t(92));if(gr(a)){if(1<a.length)throw Error(t(93));a=a[0]}s=a}s==null&&(s=""),a=s}n._wrapperState={initialValue:Re(a)}}function Ls(n,s){var a=Re(s.value),c=Re(s.defaultValue);a!=null&&(a=""+a,a!==n.value&&(n.value=a),s.defaultValue==null&&n.defaultValue!==a&&(n.defaultValue=a)),c!=null&&(n.defaultValue=""+c)}function ea(n){var s=n.textContent;s===n._wrapperState.initialValue&&s!==""&&s!==null&&(n.value=s)}function _t(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function wt(n,s){return n==null||n==="http://www.w3.org/1999/xhtml"?_t(s):n==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var vr,ta=(function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,a,c,d){MSApp.execUnsafeLocalFunction(function(){return n(s,a,c,d)})}:n})(function(n,s){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=s;else{for(vr=vr||document.createElement("div"),vr.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=vr.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;s.firstChild;)n.appendChild(s.firstChild)}});function Gr(n,s){if(s){var a=n.firstChild;if(a&&a===n.lastChild&&a.nodeType===3){a.nodeValue=s;return}}n.textContent=s}var Wi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hi=["Webkit","ms","Moz","O"];Object.keys(Wi).forEach(function(n){Hi.forEach(function(s){s=s+n.charAt(0).toUpperCase()+n.substring(1),Wi[s]=Wi[n]})});function na(n,s,a){return s==null||typeof s=="boolean"||s===""?"":a||typeof s!="number"||s===0||Wi.hasOwnProperty(n)&&Wi[n]?(""+s).trim():s+"px"}function ra(n,s){n=n.style;for(var a in s)if(s.hasOwnProperty(a)){var c=a.indexOf("--")===0,d=na(a,s[a],c);a==="float"&&(a="cssFloat"),c?n.setProperty(a,d):n[a]=d}}var ia=ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sa(n,s){if(s){if(ia[n]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(t(137,n));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(t(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(t(61))}if(s.style!=null&&typeof s.style!="object")throw Error(t(62))}}function oa(n,s){if(n.indexOf("-")===-1)return typeof s.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qi=null;function Ms(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var js=null,yn=null,Qn=null;function Fs(n){if(n=Na(n)){if(typeof js!="function")throw Error(t(280));var s=n.stateNode;s&&(s=ou(s),js(n.stateNode,n.type,s))}}function Yn(n){yn?Qn?Qn.push(n):Qn=[n]:yn=n}function aa(){if(yn){var n=yn,s=Qn;if(Qn=yn=null,Fs(n),s)for(n=0;n<s.length;n++)Fs(s[n])}}function Gi(n,s){return n(s)}function la(){}var _r=!1;function ua(n,s,a){if(_r)return n(s,a);_r=!0;try{return Gi(n,s,a)}finally{_r=!1,(yn!==null||Qn!==null)&&(la(),aa())}}function lt(n,s){var a=n.stateNode;if(a===null)return null;var c=ou(a);if(c===null)return null;a=c[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break e;default:n=!1}if(n)return null;if(a&&typeof a!="function")throw Error(t(231,s,typeof a));return a}var Us=!1;if(f)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Us=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Us=!1}function Ki(n,s,a,c,d,g,E,A,x){var $=Array.prototype.slice.call(arguments,3);try{s.apply(a,$)}catch(J){this.onError(J)}}var Qi=!1,Bs=null,xn=!1,ca=null,oh={onError:function(n){Qi=!0,Bs=n}};function zs(n,s,a,c,d,g,E,A,x){Qi=!1,Bs=null,Ki.apply(oh,arguments)}function xl(n,s,a,c,d,g,E,A,x){if(zs.apply(this,arguments),Qi){if(Qi){var $=Bs;Qi=!1,Bs=null}else throw Error(t(198));xn||(xn=!0,ca=$)}}function bn(n){var s=n,a=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(a=s.return),n=s.return;while(n)}return s.tag===3?a:null}function Yi(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function Dn(n){if(bn(n)!==n)throw Error(t(188))}function bl(n){var s=n.alternate;if(!s){if(s=bn(n),s===null)throw Error(t(188));return s!==n?null:n}for(var a=n,c=s;;){var d=a.return;if(d===null)break;var g=d.alternate;if(g===null){if(c=d.return,c!==null){a=c;continue}break}if(d.child===g.child){for(g=d.child;g;){if(g===a)return Dn(d),n;if(g===c)return Dn(d),s;g=g.sibling}throw Error(t(188))}if(a.return!==c.return)a=d,c=g;else{for(var E=!1,A=d.child;A;){if(A===a){E=!0,a=d,c=g;break}if(A===c){E=!0,c=d,a=g;break}A=A.sibling}if(!E){for(A=g.child;A;){if(A===a){E=!0,a=g,c=d;break}if(A===c){E=!0,c=g,a=d;break}A=A.sibling}if(!E)throw Error(t(189))}}if(a.alternate!==c)throw Error(t(190))}if(a.tag!==3)throw Error(t(188));return a.stateNode.current===a?n:s}function ha(n){return n=bl(n),n!==null?$s(n):null}function $s(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var s=$s(n);if(s!==null)return s;n=n.sibling}return null}var Ws=e.unstable_scheduleCallback,da=e.unstable_cancelCallback,Dl=e.unstable_shouldYield,ah=e.unstable_requestPaint,Ke=e.unstable_now,Vl=e.unstable_getCurrentPriorityLevel,Xi=e.unstable_ImmediatePriority,Kr=e.unstable_UserBlockingPriority,vn=e.unstable_NormalPriority,fa=e.unstable_LowPriority,Ol=e.unstable_IdlePriority,Ji=null,ln=null;function Ll(n){if(ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ji,n,void 0,(n.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:jl,pa=Math.log,Ml=Math.LN2;function jl(n){return n>>>=0,n===0?32:31-(pa(n)/Ml|0)|0}var Hs=64,qs=4194304;function Qr(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Zi(n,s){var a=n.pendingLanes;if(a===0)return 0;var c=0,d=n.suspendedLanes,g=n.pingedLanes,E=a&268435455;if(E!==0){var A=E&~d;A!==0?c=Qr(A):(g&=E,g!==0&&(c=Qr(g)))}else E=a&~d,E!==0?c=Qr(E):g!==0&&(c=Qr(g));if(c===0)return 0;if(s!==0&&s!==c&&(s&d)===0&&(d=c&-c,g=s&-s,d>=g||d===16&&(g&4194240)!==0))return s;if((c&4)!==0&&(c|=a&16),s=n.entangledLanes,s!==0)for(n=n.entanglements,s&=c;0<s;)a=31-Ht(s),d=1<<a,c|=n[a],s&=~d;return c}function lh(n,s){switch(n){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wr(n,s){for(var a=n.suspendedLanes,c=n.pingedLanes,d=n.expirationTimes,g=n.pendingLanes;0<g;){var E=31-Ht(g),A=1<<E,x=d[E];x===-1?((A&a)===0||(A&c)!==0)&&(d[E]=lh(A,s)):x<=s&&(n.expiredLanes|=A),g&=~A}}function un(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function es(){var n=Hs;return Hs<<=1,(Hs&4194240)===0&&(Hs=64),n}function Yr(n){for(var s=[],a=0;31>a;a++)s.push(n);return s}function Xr(n,s,a){n.pendingLanes|=s,s!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,s=31-Ht(s),n[s]=a}function qe(n,s){var a=n.pendingLanes&~s;n.pendingLanes=s,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=s,n.mutableReadLanes&=s,n.entangledLanes&=s,s=n.entanglements;var c=n.eventTimes;for(n=n.expirationTimes;0<a;){var d=31-Ht(a),g=1<<d;s[d]=0,c[d]=-1,n[d]=-1,a&=~g}}function Jr(n,s){var a=n.entangledLanes|=s;for(n=n.entanglements;a;){var c=31-Ht(a),d=1<<c;d&s|n[c]&s&&(n[c]|=s),a&=~d}}var Oe=0;function Zr(n){return n&=-n,1<n?4<n?(n&268435455)!==0?16:536870912:4:1}var Fl,Gs,Ul,Bl,zl,ma=!1,Xn=[],Nt=null,Vn=null,On=null,ei=new Map,_n=new Map,Jn=[],uh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $l(n,s){switch(n){case"focusin":case"focusout":Nt=null;break;case"dragenter":case"dragleave":Vn=null;break;case"mouseover":case"mouseout":On=null;break;case"pointerover":case"pointerout":ei.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":_n.delete(s.pointerId)}}function Yt(n,s,a,c,d,g){return n===null||n.nativeEvent!==g?(n={blockedOn:s,domEventName:a,eventSystemFlags:c,nativeEvent:g,targetContainers:[d]},s!==null&&(s=Na(s),s!==null&&Gs(s)),n):(n.eventSystemFlags|=c,s=n.targetContainers,d!==null&&s.indexOf(d)===-1&&s.push(d),n)}function ch(n,s,a,c,d){switch(s){case"focusin":return Nt=Yt(Nt,n,s,a,c,d),!0;case"dragenter":return Vn=Yt(Vn,n,s,a,c,d),!0;case"mouseover":return On=Yt(On,n,s,a,c,d),!0;case"pointerover":var g=d.pointerId;return ei.set(g,Yt(ei.get(g)||null,n,s,a,c,d)),!0;case"gotpointercapture":return g=d.pointerId,_n.set(g,Yt(_n.get(g)||null,n,s,a,c,d)),!0}return!1}function Wl(n){var s=ss(n.target);if(s!==null){var a=bn(s);if(a!==null){if(s=a.tag,s===13){if(s=Yi(a),s!==null){n.blockedOn=s,zl(n.priority,function(){Ul(a)});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){n.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Er(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var a=Ks(n.domEventName,n.eventSystemFlags,s[0],n.nativeEvent);if(a===null){a=n.nativeEvent;var c=new a.constructor(a.type,a);qi=c,a.target.dispatchEvent(c),qi=null}else return s=Na(a),s!==null&&Gs(s),n.blockedOn=a,!1;s.shift()}return!0}function ts(n,s,a){Er(n)&&a.delete(s)}function Hl(){ma=!1,Nt!==null&&Er(Nt)&&(Nt=null),Vn!==null&&Er(Vn)&&(Vn=null),On!==null&&Er(On)&&(On=null),ei.forEach(ts),_n.forEach(ts)}function Ln(n,s){n.blockedOn===s&&(n.blockedOn=null,ma||(ma=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Hl)))}function Mn(n){function s(d){return Ln(d,n)}if(0<Xn.length){Ln(Xn[0],n);for(var a=1;a<Xn.length;a++){var c=Xn[a];c.blockedOn===n&&(c.blockedOn=null)}}for(Nt!==null&&Ln(Nt,n),Vn!==null&&Ln(Vn,n),On!==null&&Ln(On,n),ei.forEach(s),_n.forEach(s),a=0;a<Jn.length;a++)c=Jn[a],c.blockedOn===n&&(c.blockedOn=null);for(;0<Jn.length&&(a=Jn[0],a.blockedOn===null);)Wl(a),a.blockedOn===null&&Jn.shift()}var Tr=le.ReactCurrentBatchConfig,ti=!0;function et(n,s,a,c){var d=Oe,g=Tr.transition;Tr.transition=null;try{Oe=1,ga(n,s,a,c)}finally{Oe=d,Tr.transition=g}}function hh(n,s,a,c){var d=Oe,g=Tr.transition;Tr.transition=null;try{Oe=4,ga(n,s,a,c)}finally{Oe=d,Tr.transition=g}}function ga(n,s,a,c){if(ti){var d=Ks(n,s,a,c);if(d===null)Th(n,s,c,ns,a),$l(n,c);else if(ch(d,n,s,a,c))c.stopPropagation();else if($l(n,c),s&4&&-1<uh.indexOf(n)){for(;d!==null;){var g=Na(d);if(g!==null&&Fl(g),g=Ks(n,s,a,c),g===null&&Th(n,s,c,ns,a),g===d)break;d=g}d!==null&&c.stopPropagation()}else Th(n,s,c,null,a)}}var ns=null;function Ks(n,s,a,c){if(ns=null,n=Ms(c),n=ss(n),n!==null)if(s=bn(n),s===null)n=null;else if(a=s.tag,a===13){if(n=Yi(s),n!==null)return n;n=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null);return ns=n,null}function ya(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vl()){case Xi:return 1;case Kr:return 4;case vn:case fa:return 16;case Ol:return 536870912;default:return 16}default:return 16}}var cn=null,Qs=null,Xt=null;function va(){if(Xt)return Xt;var n,s=Qs,a=s.length,c,d="value"in cn?cn.value:cn.textContent,g=d.length;for(n=0;n<a&&s[n]===d[n];n++);var E=a-n;for(c=1;c<=E&&s[a-c]===d[g-c];c++);return Xt=d.slice(n,1<c?1-c:void 0)}function Ys(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function Zn(){return!0}function _a(){return!1}function xt(n){function s(a,c,d,g,E){this._reactName=a,this._targetInst=d,this.type=c,this.nativeEvent=g,this.target=E,this.currentTarget=null;for(var A in n)n.hasOwnProperty(A)&&(a=n[A],this[A]=a?a(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Zn:_a,this.isPropagationStopped=_a,this}return ue(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zn)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zn)},persist:function(){},isPersistent:Zn}),s}var jn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xs=xt(jn),er=ue({},jn,{view:0,detail:0}),dh=xt(er),Js,Ir,ni,rs=ue({},er,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:tr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ni&&(ni&&n.type==="mousemove"?(Js=n.screenX-ni.screenX,Ir=n.screenY-ni.screenY):Ir=Js=0,ni=n),Js)},movementY:function(n){return"movementY"in n?n.movementY:Ir}}),Zs=xt(rs),wa=ue({},rs,{dataTransfer:0}),ql=xt(wa),eo=ue({},er,{relatedTarget:0}),to=xt(eo),Gl=ue({},jn,{animationName:0,elapsedTime:0,pseudoElement:0}),Sr=xt(Gl),Kl=ue({},jn,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Ql=xt(Kl),Yl=ue({},jn,{data:0}),Ea=xt(Yl),no={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jl(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=Xl[n])?!!s[n]:!1}function tr(){return Jl}var u=ue({},er,{key:function(n){if(n.key){var s=no[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ys(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?qt[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:tr,charCode:function(n){return n.type==="keypress"?Ys(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ys(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),m=xt(u),v=ue({},rs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I=xt(v),F=ue({},er,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:tr}),W=xt(F),ie=ue({},jn,{propertyName:0,elapsedTime:0,pseudoElement:0}),$e=xt(ie),Et=ue({},rs,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=xt(Et),Pt=[9,13,27,32],pt=f&&"CompositionEvent"in window,wn=null;f&&"documentMode"in document&&(wn=document.documentMode);var hn=f&&"TextEvent"in window&&!wn,is=f&&(!pt||wn&&8<wn&&11>=wn),ro=" ",bp=!1;function Dp(n,s){switch(n){case"keyup":return Pt.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vp(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var io=!1;function wE(n,s){switch(n){case"compositionend":return Vp(s);case"keypress":return s.which!==32?null:(bp=!0,ro);case"textInput":return n=s.data,n===ro&&bp?null:n;default:return null}}function EE(n,s){if(io)return n==="compositionend"||!pt&&Dp(n,s)?(n=va(),Xt=Qs=cn=null,io=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return is&&s.locale!=="ko"?null:s.data;default:return null}}var TE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Op(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!TE[n.type]:s==="textarea"}function Lp(n,s,a,c){Yn(c),s=ru(s,"onChange"),0<s.length&&(a=new Xs("onChange","change",null,a,c),n.push({event:a,listeners:s}))}var Ta=null,Ia=null;function IE(n){em(n,0)}function Zl(n){var s=uo(n);if(mr(s))return n}function SE(n,s){if(n==="change")return s}var Mp=!1;if(f){var fh;if(f){var ph="oninput"in document;if(!ph){var jp=document.createElement("div");jp.setAttribute("oninput","return;"),ph=typeof jp.oninput=="function"}fh=ph}else fh=!1;Mp=fh&&(!document.documentMode||9<document.documentMode)}function Fp(){Ta&&(Ta.detachEvent("onpropertychange",Up),Ia=Ta=null)}function Up(n){if(n.propertyName==="value"&&Zl(Ia)){var s=[];Lp(s,Ia,n,Ms(n)),ua(IE,s)}}function PE(n,s,a){n==="focusin"?(Fp(),Ta=s,Ia=a,Ta.attachEvent("onpropertychange",Up)):n==="focusout"&&Fp()}function AE(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Zl(Ia)}function CE(n,s){if(n==="click")return Zl(s)}function RE(n,s){if(n==="input"||n==="change")return Zl(s)}function kE(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var Fn=typeof Object.is=="function"?Object.is:kE;function Sa(n,s){if(Fn(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var a=Object.keys(n),c=Object.keys(s);if(a.length!==c.length)return!1;for(c=0;c<a.length;c++){var d=a[c];if(!p.call(s,d)||!Fn(n[d],s[d]))return!1}return!0}function Bp(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function zp(n,s){var a=Bp(n);n=0;for(var c;a;){if(a.nodeType===3){if(c=n+a.textContent.length,n<=s&&c>=s)return{node:a,offset:s-n};n=c}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Bp(a)}}function $p(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?$p(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function Wp(){for(var n=window,s=Kn();s instanceof n.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)n=s.contentWindow;else break;s=Kn(n.document)}return s}function mh(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}function NE(n){var s=Wp(),a=n.focusedElem,c=n.selectionRange;if(s!==a&&a&&a.ownerDocument&&$p(a.ownerDocument.documentElement,a)){if(c!==null&&mh(a)){if(s=c.start,n=c.end,n===void 0&&(n=s),"selectionStart"in a)a.selectionStart=s,a.selectionEnd=Math.min(n,a.value.length);else if(n=(s=a.ownerDocument||document)&&s.defaultView||window,n.getSelection){n=n.getSelection();var d=a.textContent.length,g=Math.min(c.start,d);c=c.end===void 0?g:Math.min(c.end,d),!n.extend&&g>c&&(d=c,c=g,g=d),d=zp(a,g);var E=zp(a,c);d&&E&&(n.rangeCount!==1||n.anchorNode!==d.node||n.anchorOffset!==d.offset||n.focusNode!==E.node||n.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(d.node,d.offset),n.removeAllRanges(),g>c?(n.addRange(s),n.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),n.addRange(s)))}}for(s=[],n=a;n=n.parentNode;)n.nodeType===1&&s.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof a.focus=="function"&&a.focus(),a=0;a<s.length;a++)n=s[a],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var xE=f&&"documentMode"in document&&11>=document.documentMode,so=null,gh=null,Pa=null,yh=!1;function Hp(n,s,a){var c=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;yh||so==null||so!==Kn(c)||(c=so,"selectionStart"in c&&mh(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pa&&Sa(Pa,c)||(Pa=c,c=ru(gh,"onSelect"),0<c.length&&(s=new Xs("onSelect","select",null,s,a),n.push({event:s,listeners:c}),s.target=so)))}function eu(n,s){var a={};return a[n.toLowerCase()]=s.toLowerCase(),a["Webkit"+n]="webkit"+s,a["Moz"+n]="moz"+s,a}var oo={animationend:eu("Animation","AnimationEnd"),animationiteration:eu("Animation","AnimationIteration"),animationstart:eu("Animation","AnimationStart"),transitionend:eu("Transition","TransitionEnd")},vh={},qp={};f&&(qp=document.createElement("div").style,"AnimationEvent"in window||(delete oo.animationend.animation,delete oo.animationiteration.animation,delete oo.animationstart.animation),"TransitionEvent"in window||delete oo.transitionend.transition);function tu(n){if(vh[n])return vh[n];if(!oo[n])return n;var s=oo[n],a;for(a in s)if(s.hasOwnProperty(a)&&a in qp)return vh[n]=s[a];return n}var Gp=tu("animationend"),Kp=tu("animationiteration"),Qp=tu("animationstart"),Yp=tu("transitionend"),Xp=new Map,Jp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(n,s){Xp.set(n,s),l(s,[n])}for(var _h=0;_h<Jp.length;_h++){var wh=Jp[_h],bE=wh.toLowerCase(),DE=wh[0].toUpperCase()+wh.slice(1);ri(bE,"on"+DE)}ri(Gp,"onAnimationEnd"),ri(Kp,"onAnimationIteration"),ri(Qp,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Yp,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Aa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),VE=new Set("cancel close invalid load scroll toggle".split(" ").concat(Aa));function Zp(n,s,a){var c=n.type||"unknown-event";n.currentTarget=a,xl(c,s,void 0,n),n.currentTarget=null}function em(n,s){s=(s&4)!==0;for(var a=0;a<n.length;a++){var c=n[a],d=c.event;c=c.listeners;e:{var g=void 0;if(s)for(var E=c.length-1;0<=E;E--){var A=c[E],x=A.instance,$=A.currentTarget;if(A=A.listener,x!==g&&d.isPropagationStopped())break e;Zp(d,A,$),g=x}else for(E=0;E<c.length;E++){if(A=c[E],x=A.instance,$=A.currentTarget,A=A.listener,x!==g&&d.isPropagationStopped())break e;Zp(d,A,$),g=x}}}if(xn)throw n=ca,xn=!1,ca=null,n}function Xe(n,s){var a=s[Rh];a===void 0&&(a=s[Rh]=new Set);var c=n+"__bubble";a.has(c)||(tm(s,n,2,!1),a.add(c))}function Eh(n,s,a){var c=0;s&&(c|=4),tm(a,n,c,s)}var nu="_reactListening"+Math.random().toString(36).slice(2);function Ca(n){if(!n[nu]){n[nu]=!0,i.forEach(function(a){a!=="selectionchange"&&(VE.has(a)||Eh(a,!1,n),Eh(a,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[nu]||(s[nu]=!0,Eh("selectionchange",!1,s))}}function tm(n,s,a,c){switch(ya(s)){case 1:var d=et;break;case 4:d=hh;break;default:d=ga}a=d.bind(null,s,a,n),d=void 0,!Us||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(d=!0),c?d!==void 0?n.addEventListener(s,a,{capture:!0,passive:d}):n.addEventListener(s,a,!0):d!==void 0?n.addEventListener(s,a,{passive:d}):n.addEventListener(s,a,!1)}function Th(n,s,a,c,d){var g=c;if((s&1)===0&&(s&2)===0&&c!==null)e:for(;;){if(c===null)return;var E=c.tag;if(E===3||E===4){var A=c.stateNode.containerInfo;if(A===d||A.nodeType===8&&A.parentNode===d)break;if(E===4)for(E=c.return;E!==null;){var x=E.tag;if((x===3||x===4)&&(x=E.stateNode.containerInfo,x===d||x.nodeType===8&&x.parentNode===d))return;E=E.return}for(;A!==null;){if(E=ss(A),E===null)return;if(x=E.tag,x===5||x===6){c=g=E;continue e}A=A.parentNode}}c=c.return}ua(function(){var $=g,J=Ms(a),Z=[];e:{var X=Xp.get(n);if(X!==void 0){var he=Xs,pe=n;switch(n){case"keypress":if(Ys(a)===0)break e;case"keydown":case"keyup":he=m;break;case"focusin":pe="focus",he=to;break;case"focusout":pe="blur",he=to;break;case"beforeblur":case"afterblur":he=to;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":he=Zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":he=ql;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":he=W;break;case Gp:case Kp:case Qp:he=Sr;break;case Yp:he=$e;break;case"scroll":he=dh;break;case"wheel":he=Le;break;case"copy":case"cut":case"paste":he=Ql;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":he=I}var me=(s&4)!==0,ut=!me&&n==="scroll",U=me?X!==null?X+"Capture":null:X;me=[];for(var D=$,z;D!==null;){z=D;var te=z.stateNode;if(z.tag===5&&te!==null&&(z=te,U!==null&&(te=lt(D,U),te!=null&&me.push(Ra(D,te,z)))),ut)break;D=D.return}0<me.length&&(X=new he(X,pe,null,a,J),Z.push({event:X,listeners:me}))}}if((s&7)===0){e:{if(X=n==="mouseover"||n==="pointerover",he=n==="mouseout"||n==="pointerout",X&&a!==qi&&(pe=a.relatedTarget||a.fromElement)&&(ss(pe)||pe[Pr]))break e;if((he||X)&&(X=J.window===J?J:(X=J.ownerDocument)?X.defaultView||X.parentWindow:window,he?(pe=a.relatedTarget||a.toElement,he=$,pe=pe?ss(pe):null,pe!==null&&(ut=bn(pe),pe!==ut||pe.tag!==5&&pe.tag!==6)&&(pe=null)):(he=null,pe=$),he!==pe)){if(me=Zs,te="onMouseLeave",U="onMouseEnter",D="mouse",(n==="pointerout"||n==="pointerover")&&(me=I,te="onPointerLeave",U="onPointerEnter",D="pointer"),ut=he==null?X:uo(he),z=pe==null?X:uo(pe),X=new me(te,D+"leave",he,a,J),X.target=ut,X.relatedTarget=z,te=null,ss(J)===$&&(me=new me(U,D+"enter",pe,a,J),me.target=z,me.relatedTarget=ut,te=me),ut=te,he&&pe)t:{for(me=he,U=pe,D=0,z=me;z;z=ao(z))D++;for(z=0,te=U;te;te=ao(te))z++;for(;0<D-z;)me=ao(me),D--;for(;0<z-D;)U=ao(U),z--;for(;D--;){if(me===U||U!==null&&me===U.alternate)break t;me=ao(me),U=ao(U)}me=null}else me=null;he!==null&&nm(Z,X,he,me,!1),pe!==null&&ut!==null&&nm(Z,ut,pe,me,!0)}}e:{if(X=$?uo($):window,he=X.nodeName&&X.nodeName.toLowerCase(),he==="select"||he==="input"&&X.type==="file")var ye=SE;else if(Op(X))if(Mp)ye=RE;else{ye=AE;var we=PE}else(he=X.nodeName)&&he.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(ye=CE);if(ye&&(ye=ye(n,$))){Lp(Z,ye,a,J);break e}we&&we(n,X,$),n==="focusout"&&(we=X._wrapperState)&&we.controlled&&X.type==="number"&&Vs(X,"number",X.value)}switch(we=$?uo($):window,n){case"focusin":(Op(we)||we.contentEditable==="true")&&(so=we,gh=$,Pa=null);break;case"focusout":Pa=gh=so=null;break;case"mousedown":yh=!0;break;case"contextmenu":case"mouseup":case"dragend":yh=!1,Hp(Z,a,J);break;case"selectionchange":if(xE)break;case"keydown":case"keyup":Hp(Z,a,J)}var Ee;if(pt)e:{switch(n){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else io?Dp(n,a)&&(Pe="onCompositionEnd"):n==="keydown"&&a.keyCode===229&&(Pe="onCompositionStart");Pe&&(is&&a.locale!=="ko"&&(io||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&io&&(Ee=va()):(cn=J,Qs="value"in cn?cn.value:cn.textContent,io=!0)),we=ru($,Pe),0<we.length&&(Pe=new Ea(Pe,n,null,a,J),Z.push({event:Pe,listeners:we}),Ee?Pe.data=Ee:(Ee=Vp(a),Ee!==null&&(Pe.data=Ee)))),(Ee=hn?wE(n,a):EE(n,a))&&($=ru($,"onBeforeInput"),0<$.length&&(J=new Ea("onBeforeInput","beforeinput",null,a,J),Z.push({event:J,listeners:$}),J.data=Ee))}em(Z,s)})}function Ra(n,s,a){return{instance:n,listener:s,currentTarget:a}}function ru(n,s){for(var a=s+"Capture",c=[];n!==null;){var d=n,g=d.stateNode;d.tag===5&&g!==null&&(d=g,g=lt(n,a),g!=null&&c.unshift(Ra(n,g,d)),g=lt(n,s),g!=null&&c.push(Ra(n,g,d))),n=n.return}return c}function ao(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function nm(n,s,a,c,d){for(var g=s._reactName,E=[];a!==null&&a!==c;){var A=a,x=A.alternate,$=A.stateNode;if(x!==null&&x===c)break;A.tag===5&&$!==null&&(A=$,d?(x=lt(a,g),x!=null&&E.unshift(Ra(a,x,A))):d||(x=lt(a,g),x!=null&&E.push(Ra(a,x,A)))),a=a.return}E.length!==0&&n.push({event:s,listeners:E})}var OE=/\r\n?/g,LE=/\u0000|\uFFFD/g;function rm(n){return(typeof n=="string"?n:""+n).replace(OE,`
`).replace(LE,"")}function iu(n,s,a){if(s=rm(s),rm(n)!==s&&a)throw Error(t(425))}function su(){}var Ih=null,Sh=null;function Ph(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Ah=typeof setTimeout=="function"?setTimeout:void 0,ME=typeof clearTimeout=="function"?clearTimeout:void 0,im=typeof Promise=="function"?Promise:void 0,jE=typeof queueMicrotask=="function"?queueMicrotask:typeof im<"u"?function(n){return im.resolve(null).then(n).catch(FE)}:Ah;function FE(n){setTimeout(function(){throw n})}function Ch(n,s){var a=s,c=0;do{var d=a.nextSibling;if(n.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(c===0){n.removeChild(d),Mn(s);return}c--}else a!=="$"&&a!=="$?"&&a!=="$!"||c++;a=d}while(a);Mn(s)}function ii(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return n}function sm(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return n;s--}else a==="/$"&&s++}n=n.previousSibling}return null}var lo=Math.random().toString(36).slice(2),nr="__reactFiber$"+lo,ka="__reactProps$"+lo,Pr="__reactContainer$"+lo,Rh="__reactEvents$"+lo,UE="__reactListeners$"+lo,BE="__reactHandles$"+lo;function ss(n){var s=n[nr];if(s)return s;for(var a=n.parentNode;a;){if(s=a[Pr]||a[nr]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(n=sm(n);n!==null;){if(a=n[nr])return a;n=sm(n)}return s}n=a,a=n.parentNode}return null}function Na(n){return n=n[nr]||n[Pr],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function uo(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(t(33))}function ou(n){return n[ka]||null}var kh=[],co=-1;function si(n){return{current:n}}function Je(n){0>co||(n.current=kh[co],kh[co]=null,co--)}function Qe(n,s){co++,kh[co]=n.current,n.current=s}var oi={},Mt=si(oi),Jt=si(!1),os=oi;function ho(n,s){var a=n.type.contextTypes;if(!a)return oi;var c=n.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===s)return c.__reactInternalMemoizedMaskedChildContext;var d={},g;for(g in a)d[g]=s[g];return c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=s,n.__reactInternalMemoizedMaskedChildContext=d),d}function Zt(n){return n=n.childContextTypes,n!=null}function au(){Je(Jt),Je(Mt)}function om(n,s,a){if(Mt.current!==oi)throw Error(t(168));Qe(Mt,s),Qe(Jt,a)}function am(n,s,a){var c=n.stateNode;if(s=s.childContextTypes,typeof c.getChildContext!="function")return a;c=c.getChildContext();for(var d in c)if(!(d in s))throw Error(t(108,ce(n)||"Unknown",d));return ue({},a,c)}function lu(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||oi,os=Mt.current,Qe(Mt,n),Qe(Jt,Jt.current),!0}function lm(n,s,a){var c=n.stateNode;if(!c)throw Error(t(169));a?(n=am(n,s,os),c.__reactInternalMemoizedMergedChildContext=n,Je(Jt),Je(Mt),Qe(Mt,n)):Je(Jt),Qe(Jt,a)}var Ar=null,uu=!1,Nh=!1;function um(n){Ar===null?Ar=[n]:Ar.push(n)}function zE(n){uu=!0,um(n)}function ai(){if(!Nh&&Ar!==null){Nh=!0;var n=0,s=Oe;try{var a=Ar;for(Oe=1;n<a.length;n++){var c=a[n];do c=c(!0);while(c!==null)}Ar=null,uu=!1}catch(d){throw Ar!==null&&(Ar=Ar.slice(n+1)),Ws(Xi,ai),d}finally{Oe=s,Nh=!1}}return null}var fo=[],po=0,cu=null,hu=0,En=[],Tn=0,as=null,Cr=1,Rr="";function ls(n,s){fo[po++]=hu,fo[po++]=cu,cu=n,hu=s}function cm(n,s,a){En[Tn++]=Cr,En[Tn++]=Rr,En[Tn++]=as,as=n;var c=Cr;n=Rr;var d=32-Ht(c)-1;c&=~(1<<d),a+=1;var g=32-Ht(s)+d;if(30<g){var E=d-d%5;g=(c&(1<<E)-1).toString(32),c>>=E,d-=E,Cr=1<<32-Ht(s)+d|a<<d|c,Rr=g+n}else Cr=1<<g|a<<d|c,Rr=n}function xh(n){n.return!==null&&(ls(n,1),cm(n,1,0))}function bh(n){for(;n===cu;)cu=fo[--po],fo[po]=null,hu=fo[--po],fo[po]=null;for(;n===as;)as=En[--Tn],En[Tn]=null,Rr=En[--Tn],En[Tn]=null,Cr=En[--Tn],En[Tn]=null}var dn=null,fn=null,tt=!1,Un=null;function hm(n,s){var a=An(5,null,null,0);a.elementType="DELETED",a.stateNode=s,a.return=n,s=n.deletions,s===null?(n.deletions=[a],n.flags|=16):s.push(a)}function dm(n,s){switch(n.tag){case 5:var a=n.type;return s=s.nodeType!==1||a.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(n.stateNode=s,dn=n,fn=ii(s.firstChild),!0):!1;case 6:return s=n.pendingProps===""||s.nodeType!==3?null:s,s!==null?(n.stateNode=s,dn=n,fn=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(a=as!==null?{id:Cr,overflow:Rr}:null,n.memoizedState={dehydrated:s,treeContext:a,retryLane:1073741824},a=An(18,null,null,0),a.stateNode=s,a.return=n,n.child=a,dn=n,fn=null,!0):!1;default:return!1}}function Dh(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Vh(n){if(tt){var s=fn;if(s){var a=s;if(!dm(n,s)){if(Dh(n))throw Error(t(418));s=ii(a.nextSibling);var c=dn;s&&dm(n,s)?hm(c,a):(n.flags=n.flags&-4097|2,tt=!1,dn=n)}}else{if(Dh(n))throw Error(t(418));n.flags=n.flags&-4097|2,tt=!1,dn=n}}}function fm(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;dn=n}function du(n){if(n!==dn)return!1;if(!tt)return fm(n),tt=!0,!1;var s;if((s=n.tag!==3)&&!(s=n.tag!==5)&&(s=n.type,s=s!=="head"&&s!=="body"&&!Ph(n.type,n.memoizedProps)),s&&(s=fn)){if(Dh(n))throw pm(),Error(t(418));for(;s;)hm(n,s),s=ii(s.nextSibling)}if(fm(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(t(317));e:{for(n=n.nextSibling,s=0;n;){if(n.nodeType===8){var a=n.data;if(a==="/$"){if(s===0){fn=ii(n.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++}n=n.nextSibling}fn=null}}else fn=dn?ii(n.stateNode.nextSibling):null;return!0}function pm(){for(var n=fn;n;)n=ii(n.nextSibling)}function mo(){fn=dn=null,tt=!1}function Oh(n){Un===null?Un=[n]:Un.push(n)}var $E=le.ReactCurrentBatchConfig;function xa(n,s,a){if(n=a.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(t(309));var c=a.stateNode}if(!c)throw Error(t(147,n));var d=c,g=""+n;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===g?s.ref:(s=function(E){var A=d.refs;E===null?delete A[g]:A[g]=E},s._stringRef=g,s)}if(typeof n!="string")throw Error(t(284));if(!a._owner)throw Error(t(290,n))}return n}function fu(n,s){throw n=Object.prototype.toString.call(s),Error(t(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n))}function mm(n){var s=n._init;return s(n._payload)}function gm(n){function s(U,D){if(n){var z=U.deletions;z===null?(U.deletions=[D],U.flags|=16):z.push(D)}}function a(U,D){if(!n)return null;for(;D!==null;)s(U,D),D=D.sibling;return null}function c(U,D){for(U=new Map;D!==null;)D.key!==null?U.set(D.key,D):U.set(D.index,D),D=D.sibling;return U}function d(U,D){return U=mi(U,D),U.index=0,U.sibling=null,U}function g(U,D,z){return U.index=z,n?(z=U.alternate,z!==null?(z=z.index,z<D?(U.flags|=2,D):z):(U.flags|=2,D)):(U.flags|=1048576,D)}function E(U){return n&&U.alternate===null&&(U.flags|=2),U}function A(U,D,z,te){return D===null||D.tag!==6?(D=Ad(z,U.mode,te),D.return=U,D):(D=d(D,z),D.return=U,D)}function x(U,D,z,te){var ye=z.type;return ye===k?J(U,D,z.props.children,te,z.key):D!==null&&(D.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===at&&mm(ye)===D.type)?(te=d(D,z.props),te.ref=xa(U,D,z),te.return=U,te):(te=Mu(z.type,z.key,z.props,null,U.mode,te),te.ref=xa(U,D,z),te.return=U,te)}function $(U,D,z,te){return D===null||D.tag!==4||D.stateNode.containerInfo!==z.containerInfo||D.stateNode.implementation!==z.implementation?(D=Cd(z,U.mode,te),D.return=U,D):(D=d(D,z.children||[]),D.return=U,D)}function J(U,D,z,te,ye){return D===null||D.tag!==7?(D=gs(z,U.mode,te,ye),D.return=U,D):(D=d(D,z),D.return=U,D)}function Z(U,D,z){if(typeof D=="string"&&D!==""||typeof D=="number")return D=Ad(""+D,U.mode,z),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Se:return z=Mu(D.type,D.key,D.props,null,U.mode,z),z.ref=xa(U,null,D),z.return=U,z;case re:return D=Cd(D,U.mode,z),D.return=U,D;case at:var te=D._init;return Z(U,te(D._payload),z)}if(gr(D)||ve(D))return D=gs(D,U.mode,z,null),D.return=U,D;fu(U,D)}return null}function X(U,D,z,te){var ye=D!==null?D.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return ye!==null?null:A(U,D,""+z,te);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Se:return z.key===ye?x(U,D,z,te):null;case re:return z.key===ye?$(U,D,z,te):null;case at:return ye=z._init,X(U,D,ye(z._payload),te)}if(gr(z)||ve(z))return ye!==null?null:J(U,D,z,te,null);fu(U,z)}return null}function he(U,D,z,te,ye){if(typeof te=="string"&&te!==""||typeof te=="number")return U=U.get(z)||null,A(D,U,""+te,ye);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case Se:return U=U.get(te.key===null?z:te.key)||null,x(D,U,te,ye);case re:return U=U.get(te.key===null?z:te.key)||null,$(D,U,te,ye);case at:var we=te._init;return he(U,D,z,we(te._payload),ye)}if(gr(te)||ve(te))return U=U.get(z)||null,J(D,U,te,ye,null);fu(D,te)}return null}function pe(U,D,z,te){for(var ye=null,we=null,Ee=D,Pe=D=0,Rt=null;Ee!==null&&Pe<z.length;Pe++){Ee.index>Pe?(Rt=Ee,Ee=null):Rt=Ee.sibling;var Ue=X(U,Ee,z[Pe],te);if(Ue===null){Ee===null&&(Ee=Rt);break}n&&Ee&&Ue.alternate===null&&s(U,Ee),D=g(Ue,D,Pe),we===null?ye=Ue:we.sibling=Ue,we=Ue,Ee=Rt}if(Pe===z.length)return a(U,Ee),tt&&ls(U,Pe),ye;if(Ee===null){for(;Pe<z.length;Pe++)Ee=Z(U,z[Pe],te),Ee!==null&&(D=g(Ee,D,Pe),we===null?ye=Ee:we.sibling=Ee,we=Ee);return tt&&ls(U,Pe),ye}for(Ee=c(U,Ee);Pe<z.length;Pe++)Rt=he(Ee,U,Pe,z[Pe],te),Rt!==null&&(n&&Rt.alternate!==null&&Ee.delete(Rt.key===null?Pe:Rt.key),D=g(Rt,D,Pe),we===null?ye=Rt:we.sibling=Rt,we=Rt);return n&&Ee.forEach(function(gi){return s(U,gi)}),tt&&ls(U,Pe),ye}function me(U,D,z,te){var ye=ve(z);if(typeof ye!="function")throw Error(t(150));if(z=ye.call(z),z==null)throw Error(t(151));for(var we=ye=null,Ee=D,Pe=D=0,Rt=null,Ue=z.next();Ee!==null&&!Ue.done;Pe++,Ue=z.next()){Ee.index>Pe?(Rt=Ee,Ee=null):Rt=Ee.sibling;var gi=X(U,Ee,Ue.value,te);if(gi===null){Ee===null&&(Ee=Rt);break}n&&Ee&&gi.alternate===null&&s(U,Ee),D=g(gi,D,Pe),we===null?ye=gi:we.sibling=gi,we=gi,Ee=Rt}if(Ue.done)return a(U,Ee),tt&&ls(U,Pe),ye;if(Ee===null){for(;!Ue.done;Pe++,Ue=z.next())Ue=Z(U,Ue.value,te),Ue!==null&&(D=g(Ue,D,Pe),we===null?ye=Ue:we.sibling=Ue,we=Ue);return tt&&ls(U,Pe),ye}for(Ee=c(U,Ee);!Ue.done;Pe++,Ue=z.next())Ue=he(Ee,U,Pe,Ue.value,te),Ue!==null&&(n&&Ue.alternate!==null&&Ee.delete(Ue.key===null?Pe:Ue.key),D=g(Ue,D,Pe),we===null?ye=Ue:we.sibling=Ue,we=Ue);return n&&Ee.forEach(function(T0){return s(U,T0)}),tt&&ls(U,Pe),ye}function ut(U,D,z,te){if(typeof z=="object"&&z!==null&&z.type===k&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Se:e:{for(var ye=z.key,we=D;we!==null;){if(we.key===ye){if(ye=z.type,ye===k){if(we.tag===7){a(U,we.sibling),D=d(we,z.props.children),D.return=U,U=D;break e}}else if(we.elementType===ye||typeof ye=="object"&&ye!==null&&ye.$$typeof===at&&mm(ye)===we.type){a(U,we.sibling),D=d(we,z.props),D.ref=xa(U,we,z),D.return=U,U=D;break e}a(U,we);break}else s(U,we);we=we.sibling}z.type===k?(D=gs(z.props.children,U.mode,te,z.key),D.return=U,U=D):(te=Mu(z.type,z.key,z.props,null,U.mode,te),te.ref=xa(U,D,z),te.return=U,U=te)}return E(U);case re:e:{for(we=z.key;D!==null;){if(D.key===we)if(D.tag===4&&D.stateNode.containerInfo===z.containerInfo&&D.stateNode.implementation===z.implementation){a(U,D.sibling),D=d(D,z.children||[]),D.return=U,U=D;break e}else{a(U,D);break}else s(U,D);D=D.sibling}D=Cd(z,U.mode,te),D.return=U,U=D}return E(U);case at:return we=z._init,ut(U,D,we(z._payload),te)}if(gr(z))return pe(U,D,z,te);if(ve(z))return me(U,D,z,te);fu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,D!==null&&D.tag===6?(a(U,D.sibling),D=d(D,z),D.return=U,U=D):(a(U,D),D=Ad(z,U.mode,te),D.return=U,U=D),E(U)):a(U,D)}return ut}var go=gm(!0),ym=gm(!1),pu=si(null),mu=null,yo=null,Lh=null;function Mh(){Lh=yo=mu=null}function jh(n){var s=pu.current;Je(pu),n._currentValue=s}function Fh(n,s,a){for(;n!==null;){var c=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,c!==null&&(c.childLanes|=s)):c!==null&&(c.childLanes&s)!==s&&(c.childLanes|=s),n===a)break;n=n.return}}function vo(n,s){mu=n,Lh=yo=null,n=n.dependencies,n!==null&&n.firstContext!==null&&((n.lanes&s)!==0&&(en=!0),n.firstContext=null)}function In(n){var s=n._currentValue;if(Lh!==n)if(n={context:n,memoizedValue:s,next:null},yo===null){if(mu===null)throw Error(t(308));yo=n,mu.dependencies={lanes:0,firstContext:n}}else yo=yo.next=n;return s}var us=null;function Uh(n){us===null?us=[n]:us.push(n)}function vm(n,s,a,c){var d=s.interleaved;return d===null?(a.next=a,Uh(s)):(a.next=d.next,d.next=a),s.interleaved=a,kr(n,c)}function kr(n,s){n.lanes|=s;var a=n.alternate;for(a!==null&&(a.lanes|=s),a=n,n=n.return;n!==null;)n.childLanes|=s,a=n.alternate,a!==null&&(a.childLanes|=s),a=n,n=n.return;return a.tag===3?a.stateNode:null}var li=!1;function Bh(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _m(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function Nr(n,s){return{eventTime:n,lane:s,tag:0,payload:null,callback:null,next:null}}function ui(n,s,a){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Fe&2)!==0){var d=c.pending;return d===null?s.next=s:(s.next=d.next,d.next=s),c.pending=s,kr(n,a)}return d=c.interleaved,d===null?(s.next=s,Uh(c)):(s.next=d.next,d.next=s),c.interleaved=s,kr(n,a)}function gu(n,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194240)!==0)){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Jr(n,a)}}function wm(n,s){var a=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,a===c)){var d=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var E={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?d=g=E:g=g.next=E,a=a.next}while(a!==null);g===null?d=g=s:g=g.next=s}else d=g=s;a={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:g,shared:c.shared,effects:c.effects},n.updateQueue=a;return}n=a.lastBaseUpdate,n===null?a.firstBaseUpdate=s:n.next=s,a.lastBaseUpdate=s}function yu(n,s,a,c){var d=n.updateQueue;li=!1;var g=d.firstBaseUpdate,E=d.lastBaseUpdate,A=d.shared.pending;if(A!==null){d.shared.pending=null;var x=A,$=x.next;x.next=null,E===null?g=$:E.next=$,E=x;var J=n.alternate;J!==null&&(J=J.updateQueue,A=J.lastBaseUpdate,A!==E&&(A===null?J.firstBaseUpdate=$:A.next=$,J.lastBaseUpdate=x))}if(g!==null){var Z=d.baseState;E=0,J=$=x=null,A=g;do{var X=A.lane,he=A.eventTime;if((c&X)===X){J!==null&&(J=J.next={eventTime:he,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var pe=n,me=A;switch(X=s,he=a,me.tag){case 1:if(pe=me.payload,typeof pe=="function"){Z=pe.call(he,Z,X);break e}Z=pe;break e;case 3:pe.flags=pe.flags&-65537|128;case 0:if(pe=me.payload,X=typeof pe=="function"?pe.call(he,Z,X):pe,X==null)break e;Z=ue({},Z,X);break e;case 2:li=!0}}A.callback!==null&&A.lane!==0&&(n.flags|=64,X=d.effects,X===null?d.effects=[A]:X.push(A))}else he={eventTime:he,lane:X,tag:A.tag,payload:A.payload,callback:A.callback,next:null},J===null?($=J=he,x=Z):J=J.next=he,E|=X;if(A=A.next,A===null){if(A=d.shared.pending,A===null)break;X=A,A=X.next,X.next=null,d.lastBaseUpdate=X,d.shared.pending=null}}while(!0);if(J===null&&(x=Z),d.baseState=x,d.firstBaseUpdate=$,d.lastBaseUpdate=J,s=d.shared.interleaved,s!==null){d=s;do E|=d.lane,d=d.next;while(d!==s)}else g===null&&(d.shared.lanes=0);ds|=E,n.lanes=E,n.memoizedState=Z}}function Em(n,s,a){if(n=s.effects,s.effects=null,n!==null)for(s=0;s<n.length;s++){var c=n[s],d=c.callback;if(d!==null){if(c.callback=null,c=a,typeof d!="function")throw Error(t(191,d));d.call(c)}}}var ba={},rr=si(ba),Da=si(ba),Va=si(ba);function cs(n){if(n===ba)throw Error(t(174));return n}function zh(n,s){switch(Qe(Va,s),Qe(Da,n),Qe(rr,ba),n=s.nodeType,n){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:wt(null,"");break;default:n=n===8?s.parentNode:s,s=n.namespaceURI||null,n=n.tagName,s=wt(s,n)}Je(rr),Qe(rr,s)}function _o(){Je(rr),Je(Da),Je(Va)}function Tm(n){cs(Va.current);var s=cs(rr.current),a=wt(s,n.type);s!==a&&(Qe(Da,n),Qe(rr,a))}function $h(n){Da.current===n&&(Je(rr),Je(Da))}var nt=si(0);function vu(n){for(var s=n;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||a.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Wh=[];function Hh(){for(var n=0;n<Wh.length;n++)Wh[n]._workInProgressVersionPrimary=null;Wh.length=0}var _u=le.ReactCurrentDispatcher,qh=le.ReactCurrentBatchConfig,hs=0,rt=null,Tt=null,At=null,wu=!1,Oa=!1,La=0,WE=0;function jt(){throw Error(t(321))}function Gh(n,s){if(s===null)return!1;for(var a=0;a<s.length&&a<n.length;a++)if(!Fn(n[a],s[a]))return!1;return!0}function Kh(n,s,a,c,d,g){if(hs=g,rt=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,_u.current=n===null||n.memoizedState===null?KE:QE,n=a(c,d),Oa){g=0;do{if(Oa=!1,La=0,25<=g)throw Error(t(301));g+=1,At=Tt=null,s.updateQueue=null,_u.current=YE,n=a(c,d)}while(Oa)}if(_u.current=Iu,s=Tt!==null&&Tt.next!==null,hs=0,At=Tt=rt=null,wu=!1,s)throw Error(t(300));return n}function Qh(){var n=La!==0;return La=0,n}function ir(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=n:At=At.next=n,At}function Sn(){if(Tt===null){var n=rt.alternate;n=n!==null?n.memoizedState:null}else n=Tt.next;var s=At===null?rt.memoizedState:At.next;if(s!==null)At=s,Tt=n;else{if(n===null)throw Error(t(310));Tt=n,n={memoizedState:Tt.memoizedState,baseState:Tt.baseState,baseQueue:Tt.baseQueue,queue:Tt.queue,next:null},At===null?rt.memoizedState=At=n:At=At.next=n}return At}function Ma(n,s){return typeof s=="function"?s(n):s}function Yh(n){var s=Sn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=Tt,d=c.baseQueue,g=a.pending;if(g!==null){if(d!==null){var E=d.next;d.next=g.next,g.next=E}c.baseQueue=d=g,a.pending=null}if(d!==null){g=d.next,c=c.baseState;var A=E=null,x=null,$=g;do{var J=$.lane;if((hs&J)===J)x!==null&&(x=x.next={lane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),c=$.hasEagerState?$.eagerState:n(c,$.action);else{var Z={lane:J,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null};x===null?(A=x=Z,E=c):x=x.next=Z,rt.lanes|=J,ds|=J}$=$.next}while($!==null&&$!==g);x===null?E=c:x.next=A,Fn(c,s.memoizedState)||(en=!0),s.memoizedState=c,s.baseState=E,s.baseQueue=x,a.lastRenderedState=c}if(n=a.interleaved,n!==null){d=n;do g=d.lane,rt.lanes|=g,ds|=g,d=d.next;while(d!==n)}else d===null&&(a.lanes=0);return[s.memoizedState,a.dispatch]}function Xh(n){var s=Sn(),a=s.queue;if(a===null)throw Error(t(311));a.lastRenderedReducer=n;var c=a.dispatch,d=a.pending,g=s.memoizedState;if(d!==null){a.pending=null;var E=d=d.next;do g=n(g,E.action),E=E.next;while(E!==d);Fn(g,s.memoizedState)||(en=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),a.lastRenderedState=g}return[g,c]}function Im(){}function Sm(n,s){var a=rt,c=Sn(),d=s(),g=!Fn(c.memoizedState,d);if(g&&(c.memoizedState=d,en=!0),c=c.queue,Jh(Cm.bind(null,a,c,n),[n]),c.getSnapshot!==s||g||At!==null&&At.memoizedState.tag&1){if(a.flags|=2048,ja(9,Am.bind(null,a,c,d,s),void 0,null),Ct===null)throw Error(t(349));(hs&30)!==0||Pm(a,s,d)}return d}function Pm(n,s,a){n.flags|=16384,n={getSnapshot:s,value:a},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.stores=[n]):(a=s.stores,a===null?s.stores=[n]:a.push(n))}function Am(n,s,a,c){s.value=a,s.getSnapshot=c,Rm(s)&&km(n)}function Cm(n,s,a){return a(function(){Rm(s)&&km(n)})}function Rm(n){var s=n.getSnapshot;n=n.value;try{var a=s();return!Fn(n,a)}catch{return!0}}function km(n){var s=kr(n,1);s!==null&&Wn(s,n,1,-1)}function Nm(n){var s=ir();return typeof n=="function"&&(n=n()),s.memoizedState=s.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ma,lastRenderedState:n},s.queue=n,n=n.dispatch=GE.bind(null,rt,n),[s.memoizedState,n]}function ja(n,s,a,c){return n={tag:n,create:s,destroy:a,deps:c,next:null},s=rt.updateQueue,s===null?(s={lastEffect:null,stores:null},rt.updateQueue=s,s.lastEffect=n.next=n):(a=s.lastEffect,a===null?s.lastEffect=n.next=n:(c=a.next,a.next=n,n.next=c,s.lastEffect=n)),n}function xm(){return Sn().memoizedState}function Eu(n,s,a,c){var d=ir();rt.flags|=n,d.memoizedState=ja(1|s,a,void 0,c===void 0?null:c)}function Tu(n,s,a,c){var d=Sn();c=c===void 0?null:c;var g=void 0;if(Tt!==null){var E=Tt.memoizedState;if(g=E.destroy,c!==null&&Gh(c,E.deps)){d.memoizedState=ja(s,a,g,c);return}}rt.flags|=n,d.memoizedState=ja(1|s,a,g,c)}function bm(n,s){return Eu(8390656,8,n,s)}function Jh(n,s){return Tu(2048,8,n,s)}function Dm(n,s){return Tu(4,2,n,s)}function Vm(n,s){return Tu(4,4,n,s)}function Om(n,s){if(typeof s=="function")return n=n(),s(n),function(){s(null)};if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Lm(n,s,a){return a=a!=null?a.concat([n]):null,Tu(4,4,Om.bind(null,s,n),a)}function Zh(){}function Mm(n,s){var a=Sn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Gh(s,c[1])?c[0]:(a.memoizedState=[n,s],n)}function jm(n,s){var a=Sn();s=s===void 0?null:s;var c=a.memoizedState;return c!==null&&s!==null&&Gh(s,c[1])?c[0]:(n=n(),a.memoizedState=[n,s],n)}function Fm(n,s,a){return(hs&21)===0?(n.baseState&&(n.baseState=!1,en=!0),n.memoizedState=a):(Fn(a,s)||(a=es(),rt.lanes|=a,ds|=a,n.baseState=!0),s)}function HE(n,s){var a=Oe;Oe=a!==0&&4>a?a:4,n(!0);var c=qh.transition;qh.transition={};try{n(!1),s()}finally{Oe=a,qh.transition=c}}function Um(){return Sn().memoizedState}function qE(n,s,a){var c=fi(n);if(a={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null},Bm(n))zm(s,a);else if(a=vm(n,s,a,c),a!==null){var d=Kt();Wn(a,n,c,d),$m(a,s,c)}}function GE(n,s,a){var c=fi(n),d={lane:c,action:a,hasEagerState:!1,eagerState:null,next:null};if(Bm(n))zm(s,d);else{var g=n.alternate;if(n.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var E=s.lastRenderedState,A=g(E,a);if(d.hasEagerState=!0,d.eagerState=A,Fn(A,E)){var x=s.interleaved;x===null?(d.next=d,Uh(s)):(d.next=x.next,x.next=d),s.interleaved=d;return}}catch{}finally{}a=vm(n,s,d,c),a!==null&&(d=Kt(),Wn(a,n,c,d),$m(a,s,c))}}function Bm(n){var s=n.alternate;return n===rt||s!==null&&s===rt}function zm(n,s){Oa=wu=!0;var a=n.pending;a===null?s.next=s:(s.next=a.next,a.next=s),n.pending=s}function $m(n,s,a){if((a&4194240)!==0){var c=s.lanes;c&=n.pendingLanes,a|=c,s.lanes=a,Jr(n,a)}}var Iu={readContext:In,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useInsertionEffect:jt,useLayoutEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useMutableSource:jt,useSyncExternalStore:jt,useId:jt,unstable_isNewReconciler:!1},KE={readContext:In,useCallback:function(n,s){return ir().memoizedState=[n,s===void 0?null:s],n},useContext:In,useEffect:bm,useImperativeHandle:function(n,s,a){return a=a!=null?a.concat([n]):null,Eu(4194308,4,Om.bind(null,s,n),a)},useLayoutEffect:function(n,s){return Eu(4194308,4,n,s)},useInsertionEffect:function(n,s){return Eu(4,2,n,s)},useMemo:function(n,s){var a=ir();return s=s===void 0?null:s,n=n(),a.memoizedState=[n,s],n},useReducer:function(n,s,a){var c=ir();return s=a!==void 0?a(s):s,c.memoizedState=c.baseState=s,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:s},c.queue=n,n=n.dispatch=qE.bind(null,rt,n),[c.memoizedState,n]},useRef:function(n){var s=ir();return n={current:n},s.memoizedState=n},useState:Nm,useDebugValue:Zh,useDeferredValue:function(n){return ir().memoizedState=n},useTransition:function(){var n=Nm(!1),s=n[0];return n=HE.bind(null,n[1]),ir().memoizedState=n,[s,n]},useMutableSource:function(){},useSyncExternalStore:function(n,s,a){var c=rt,d=ir();if(tt){if(a===void 0)throw Error(t(407));a=a()}else{if(a=s(),Ct===null)throw Error(t(349));(hs&30)!==0||Pm(c,s,a)}d.memoizedState=a;var g={value:a,getSnapshot:s};return d.queue=g,bm(Cm.bind(null,c,g,n),[n]),c.flags|=2048,ja(9,Am.bind(null,c,g,a,s),void 0,null),a},useId:function(){var n=ir(),s=Ct.identifierPrefix;if(tt){var a=Rr,c=Cr;a=(c&~(1<<32-Ht(c)-1)).toString(32)+a,s=":"+s+"R"+a,a=La++,0<a&&(s+="H"+a.toString(32)),s+=":"}else a=WE++,s=":"+s+"r"+a.toString(32)+":";return n.memoizedState=s},unstable_isNewReconciler:!1},QE={readContext:In,useCallback:Mm,useContext:In,useEffect:Jh,useImperativeHandle:Lm,useInsertionEffect:Dm,useLayoutEffect:Vm,useMemo:jm,useReducer:Yh,useRef:xm,useState:function(){return Yh(Ma)},useDebugValue:Zh,useDeferredValue:function(n){var s=Sn();return Fm(s,Tt.memoizedState,n)},useTransition:function(){var n=Yh(Ma)[0],s=Sn().memoizedState;return[n,s]},useMutableSource:Im,useSyncExternalStore:Sm,useId:Um,unstable_isNewReconciler:!1},YE={readContext:In,useCallback:Mm,useContext:In,useEffect:Jh,useImperativeHandle:Lm,useInsertionEffect:Dm,useLayoutEffect:Vm,useMemo:jm,useReducer:Xh,useRef:xm,useState:function(){return Xh(Ma)},useDebugValue:Zh,useDeferredValue:function(n){var s=Sn();return Tt===null?s.memoizedState=n:Fm(s,Tt.memoizedState,n)},useTransition:function(){var n=Xh(Ma)[0],s=Sn().memoizedState;return[n,s]},useMutableSource:Im,useSyncExternalStore:Sm,useId:Um,unstable_isNewReconciler:!1};function Bn(n,s){if(n&&n.defaultProps){s=ue({},s),n=n.defaultProps;for(var a in n)s[a]===void 0&&(s[a]=n[a]);return s}return s}function ed(n,s,a,c){s=n.memoizedState,a=a(c,s),a=a==null?s:ue({},s,a),n.memoizedState=a,n.lanes===0&&(n.updateQueue.baseState=a)}var Su={isMounted:function(n){return(n=n._reactInternals)?bn(n)===n:!1},enqueueSetState:function(n,s,a){n=n._reactInternals;var c=Kt(),d=fi(n),g=Nr(c,d);g.payload=s,a!=null&&(g.callback=a),s=ui(n,g,d),s!==null&&(Wn(s,n,d,c),gu(s,n,d))},enqueueReplaceState:function(n,s,a){n=n._reactInternals;var c=Kt(),d=fi(n),g=Nr(c,d);g.tag=1,g.payload=s,a!=null&&(g.callback=a),s=ui(n,g,d),s!==null&&(Wn(s,n,d,c),gu(s,n,d))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var a=Kt(),c=fi(n),d=Nr(a,c);d.tag=2,s!=null&&(d.callback=s),s=ui(n,d,c),s!==null&&(Wn(s,n,c,a),gu(s,n,c))}};function Wm(n,s,a,c,d,g,E){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,g,E):s.prototype&&s.prototype.isPureReactComponent?!Sa(a,c)||!Sa(d,g):!0}function Hm(n,s,a){var c=!1,d=oi,g=s.contextType;return typeof g=="object"&&g!==null?g=In(g):(d=Zt(s)?os:Mt.current,c=s.contextTypes,g=(c=c!=null)?ho(n,d):oi),s=new s(a,g),n.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=Su,n.stateNode=s,s._reactInternals=n,c&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=d,n.__reactInternalMemoizedMaskedChildContext=g),s}function qm(n,s,a,c){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,c),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,c),s.state!==n&&Su.enqueueReplaceState(s,s.state,null)}function td(n,s,a,c){var d=n.stateNode;d.props=a,d.state=n.memoizedState,d.refs={},Bh(n);var g=s.contextType;typeof g=="object"&&g!==null?d.context=In(g):(g=Zt(s)?os:Mt.current,d.context=ho(n,g)),d.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(ed(n,s,g,a),d.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(s=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),s!==d.state&&Su.enqueueReplaceState(d,d.state,null),yu(n,a,d,c),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308)}function wo(n,s){try{var a="",c=s;do a+=K(c),c=c.return;while(c);var d=a}catch(g){d=`
Error generating stack: `+g.message+`
`+g.stack}return{value:n,source:s,stack:d,digest:null}}function nd(n,s,a){return{value:n,source:null,stack:a??null,digest:s??null}}function rd(n,s){try{console.error(s.value)}catch(a){setTimeout(function(){throw a})}}var XE=typeof WeakMap=="function"?WeakMap:Map;function Gm(n,s,a){a=Nr(-1,a),a.tag=3,a.payload={element:null};var c=s.value;return a.callback=function(){xu||(xu=!0,vd=c),rd(n,s)},a}function Km(n,s,a){a=Nr(-1,a),a.tag=3;var c=n.type.getDerivedStateFromError;if(typeof c=="function"){var d=s.value;a.payload=function(){return c(d)},a.callback=function(){rd(n,s)}}var g=n.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){rd(n,s),typeof c!="function"&&(hi===null?hi=new Set([this]):hi.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),a}function Qm(n,s,a){var c=n.pingCache;if(c===null){c=n.pingCache=new XE;var d=new Set;c.set(s,d)}else d=c.get(s),d===void 0&&(d=new Set,c.set(s,d));d.has(a)||(d.add(a),n=h0.bind(null,n,s,a),s.then(n,n))}function Ym(n){do{var s;if((s=n.tag===13)&&(s=n.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return n;n=n.return}while(n!==null);return null}function Xm(n,s,a,c,d){return(n.mode&1)===0?(n===s?n.flags|=65536:(n.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(s=Nr(-1,1),s.tag=2,ui(a,s,1))),a.lanes|=1),n):(n.flags|=65536,n.lanes=d,n)}var JE=le.ReactCurrentOwner,en=!1;function Gt(n,s,a,c){s.child=n===null?ym(s,null,a,c):go(s,n.child,a,c)}function Jm(n,s,a,c,d){a=a.render;var g=s.ref;return vo(s,d),c=Kh(n,s,a,c,g,d),a=Qh(),n!==null&&!en?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,xr(n,s,d)):(tt&&a&&xh(s),s.flags|=1,Gt(n,s,c,d),s.child)}function Zm(n,s,a,c,d){if(n===null){var g=a.type;return typeof g=="function"&&!Pd(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(s.tag=15,s.type=g,eg(n,s,g,c,d)):(n=Mu(a.type,null,c,s,s.mode,d),n.ref=s.ref,n.return=s,s.child=n)}if(g=n.child,(n.lanes&d)===0){var E=g.memoizedProps;if(a=a.compare,a=a!==null?a:Sa,a(E,c)&&n.ref===s.ref)return xr(n,s,d)}return s.flags|=1,n=mi(g,c),n.ref=s.ref,n.return=s,s.child=n}function eg(n,s,a,c,d){if(n!==null){var g=n.memoizedProps;if(Sa(g,c)&&n.ref===s.ref)if(en=!1,s.pendingProps=c=g,(n.lanes&d)!==0)(n.flags&131072)!==0&&(en=!0);else return s.lanes=n.lanes,xr(n,s,d)}return id(n,s,a,c,d)}function tg(n,s,a){var c=s.pendingProps,d=c.children,g=n!==null?n.memoizedState:null;if(c.mode==="hidden")if((s.mode&1)===0)s.memoizedState={baseLanes:0,cachePool:null,transitions:null},Qe(To,pn),pn|=a;else{if((a&1073741824)===0)return n=g!==null?g.baseLanes|a:a,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:n,cachePool:null,transitions:null},s.updateQueue=null,Qe(To,pn),pn|=n,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=g!==null?g.baseLanes:a,Qe(To,pn),pn|=c}else g!==null?(c=g.baseLanes|a,s.memoizedState=null):c=a,Qe(To,pn),pn|=c;return Gt(n,s,d,a),s.child}function ng(n,s){var a=s.ref;(n===null&&a!==null||n!==null&&n.ref!==a)&&(s.flags|=512,s.flags|=2097152)}function id(n,s,a,c,d){var g=Zt(a)?os:Mt.current;return g=ho(s,g),vo(s,d),a=Kh(n,s,a,c,g,d),c=Qh(),n!==null&&!en?(s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~d,xr(n,s,d)):(tt&&c&&xh(s),s.flags|=1,Gt(n,s,a,d),s.child)}function rg(n,s,a,c,d){if(Zt(a)){var g=!0;lu(s)}else g=!1;if(vo(s,d),s.stateNode===null)Au(n,s),Hm(s,a,c),td(s,a,c,d),c=!0;else if(n===null){var E=s.stateNode,A=s.memoizedProps;E.props=A;var x=E.context,$=a.contextType;typeof $=="object"&&$!==null?$=In($):($=Zt(a)?os:Mt.current,$=ho(s,$));var J=a.getDerivedStateFromProps,Z=typeof J=="function"||typeof E.getSnapshotBeforeUpdate=="function";Z||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==c||x!==$)&&qm(s,E,c,$),li=!1;var X=s.memoizedState;E.state=X,yu(s,c,E,d),x=s.memoizedState,A!==c||X!==x||Jt.current||li?(typeof J=="function"&&(ed(s,a,J,c),x=s.memoizedState),(A=li||Wm(s,a,A,c,X,x,$))?(Z||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=c,s.memoizedState=x),E.props=c,E.state=x,E.context=$,c=A):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),c=!1)}else{E=s.stateNode,_m(n,s),A=s.memoizedProps,$=s.type===s.elementType?A:Bn(s.type,A),E.props=$,Z=s.pendingProps,X=E.context,x=a.contextType,typeof x=="object"&&x!==null?x=In(x):(x=Zt(a)?os:Mt.current,x=ho(s,x));var he=a.getDerivedStateFromProps;(J=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(A!==Z||X!==x)&&qm(s,E,c,x),li=!1,X=s.memoizedState,E.state=X,yu(s,c,E,d);var pe=s.memoizedState;A!==Z||X!==pe||Jt.current||li?(typeof he=="function"&&(ed(s,a,he,c),pe=s.memoizedState),($=li||Wm(s,a,$,c,X,pe,x)||!1)?(J||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(c,pe,x),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(c,pe,x)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||A===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),s.memoizedProps=c,s.memoizedState=pe),E.props=c,E.state=pe,E.context=x,c=$):(typeof E.componentDidUpdate!="function"||A===n.memoizedProps&&X===n.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||A===n.memoizedProps&&X===n.memoizedState||(s.flags|=1024),c=!1)}return sd(n,s,a,c,g,d)}function sd(n,s,a,c,d,g){ng(n,s);var E=(s.flags&128)!==0;if(!c&&!E)return d&&lm(s,a,!1),xr(n,s,g);c=s.stateNode,JE.current=s;var A=E&&typeof a.getDerivedStateFromError!="function"?null:c.render();return s.flags|=1,n!==null&&E?(s.child=go(s,n.child,null,g),s.child=go(s,null,A,g)):Gt(n,s,A,g),s.memoizedState=c.state,d&&lm(s,a,!0),s.child}function ig(n){var s=n.stateNode;s.pendingContext?om(n,s.pendingContext,s.pendingContext!==s.context):s.context&&om(n,s.context,!1),zh(n,s.containerInfo)}function sg(n,s,a,c,d){return mo(),Oh(d),s.flags|=256,Gt(n,s,a,c),s.child}var od={dehydrated:null,treeContext:null,retryLane:0};function ad(n){return{baseLanes:n,cachePool:null,transitions:null}}function og(n,s,a){var c=s.pendingProps,d=nt.current,g=!1,E=(s.flags&128)!==0,A;if((A=E)||(A=n!==null&&n.memoizedState===null?!1:(d&2)!==0),A?(g=!0,s.flags&=-129):(n===null||n.memoizedState!==null)&&(d|=1),Qe(nt,d&1),n===null)return Vh(s),n=s.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?((s.mode&1)===0?s.lanes=1:n.data==="$!"?s.lanes=8:s.lanes=1073741824,null):(E=c.children,n=c.fallback,g?(c=s.mode,g=s.child,E={mode:"hidden",children:E},(c&1)===0&&g!==null?(g.childLanes=0,g.pendingProps=E):g=ju(E,c,0,null),n=gs(n,c,a,null),g.return=s,n.return=s,g.sibling=n,s.child=g,s.child.memoizedState=ad(a),s.memoizedState=od,n):ld(s,E));if(d=n.memoizedState,d!==null&&(A=d.dehydrated,A!==null))return ZE(n,s,E,c,A,d,a);if(g){g=c.fallback,E=s.mode,d=n.child,A=d.sibling;var x={mode:"hidden",children:c.children};return(E&1)===0&&s.child!==d?(c=s.child,c.childLanes=0,c.pendingProps=x,s.deletions=null):(c=mi(d,x),c.subtreeFlags=d.subtreeFlags&14680064),A!==null?g=mi(A,g):(g=gs(g,E,a,null),g.flags|=2),g.return=s,c.return=s,c.sibling=g,s.child=c,c=g,g=s.child,E=n.child.memoizedState,E=E===null?ad(a):{baseLanes:E.baseLanes|a,cachePool:null,transitions:E.transitions},g.memoizedState=E,g.childLanes=n.childLanes&~a,s.memoizedState=od,c}return g=n.child,n=g.sibling,c=mi(g,{mode:"visible",children:c.children}),(s.mode&1)===0&&(c.lanes=a),c.return=s,c.sibling=null,n!==null&&(a=s.deletions,a===null?(s.deletions=[n],s.flags|=16):a.push(n)),s.child=c,s.memoizedState=null,c}function ld(n,s){return s=ju({mode:"visible",children:s},n.mode,0,null),s.return=n,n.child=s}function Pu(n,s,a,c){return c!==null&&Oh(c),go(s,n.child,null,a),n=ld(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function ZE(n,s,a,c,d,g,E){if(a)return s.flags&256?(s.flags&=-257,c=nd(Error(t(422))),Pu(n,s,E,c)):s.memoizedState!==null?(s.child=n.child,s.flags|=128,null):(g=c.fallback,d=s.mode,c=ju({mode:"visible",children:c.children},d,0,null),g=gs(g,d,E,null),g.flags|=2,c.return=s,g.return=s,c.sibling=g,s.child=c,(s.mode&1)!==0&&go(s,n.child,null,E),s.child.memoizedState=ad(E),s.memoizedState=od,g);if((s.mode&1)===0)return Pu(n,s,E,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var A=c.dgst;return c=A,g=Error(t(419)),c=nd(g,c,void 0),Pu(n,s,E,c)}if(A=(E&n.childLanes)!==0,en||A){if(c=Ct,c!==null){switch(E&-E){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=(d&(c.suspendedLanes|E))!==0?0:d,d!==0&&d!==g.retryLane&&(g.retryLane=d,kr(n,d),Wn(c,n,d,-1))}return Sd(),c=nd(Error(t(421))),Pu(n,s,E,c)}return d.data==="$?"?(s.flags|=128,s.child=n.child,s=d0.bind(null,n),d._reactRetry=s,null):(n=g.treeContext,fn=ii(d.nextSibling),dn=s,tt=!0,Un=null,n!==null&&(En[Tn++]=Cr,En[Tn++]=Rr,En[Tn++]=as,Cr=n.id,Rr=n.overflow,as=s),s=ld(s,c.children),s.flags|=4096,s)}function ag(n,s,a){n.lanes|=s;var c=n.alternate;c!==null&&(c.lanes|=s),Fh(n.return,s,a)}function ud(n,s,a,c,d){var g=n.memoizedState;g===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:c,tail:a,tailMode:d}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=c,g.tail=a,g.tailMode=d)}function lg(n,s,a){var c=s.pendingProps,d=c.revealOrder,g=c.tail;if(Gt(n,s,c.children,a),c=nt.current,(c&2)!==0)c=c&1|2,s.flags|=128;else{if(n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&ag(n,a,s);else if(n.tag===19)ag(n,a,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}if(Qe(nt,c),(s.mode&1)===0)s.memoizedState=null;else switch(d){case"forwards":for(a=s.child,d=null;a!==null;)n=a.alternate,n!==null&&vu(n)===null&&(d=a),a=a.sibling;a=d,a===null?(d=s.child,s.child=null):(d=a.sibling,a.sibling=null),ud(s,!1,d,a,g);break;case"backwards":for(a=null,d=s.child,s.child=null;d!==null;){if(n=d.alternate,n!==null&&vu(n)===null){s.child=d;break}n=d.sibling,d.sibling=a,a=d,d=n}ud(s,!0,a,null,g);break;case"together":ud(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Au(n,s){(s.mode&1)===0&&n!==null&&(n.alternate=null,s.alternate=null,s.flags|=2)}function xr(n,s,a){if(n!==null&&(s.dependencies=n.dependencies),ds|=s.lanes,(a&s.childLanes)===0)return null;if(n!==null&&s.child!==n.child)throw Error(t(153));if(s.child!==null){for(n=s.child,a=mi(n,n.pendingProps),s.child=a,a.return=s;n.sibling!==null;)n=n.sibling,a=a.sibling=mi(n,n.pendingProps),a.return=s;a.sibling=null}return s.child}function e0(n,s,a){switch(s.tag){case 3:ig(s),mo();break;case 5:Tm(s);break;case 1:Zt(s.type)&&lu(s);break;case 4:zh(s,s.stateNode.containerInfo);break;case 10:var c=s.type._context,d=s.memoizedProps.value;Qe(pu,c._currentValue),c._currentValue=d;break;case 13:if(c=s.memoizedState,c!==null)return c.dehydrated!==null?(Qe(nt,nt.current&1),s.flags|=128,null):(a&s.child.childLanes)!==0?og(n,s,a):(Qe(nt,nt.current&1),n=xr(n,s,a),n!==null?n.sibling:null);Qe(nt,nt.current&1);break;case 19:if(c=(a&s.childLanes)!==0,(n.flags&128)!==0){if(c)return lg(n,s,a);s.flags|=128}if(d=s.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),Qe(nt,nt.current),c)break;return null;case 22:case 23:return s.lanes=0,tg(n,s,a)}return xr(n,s,a)}var ug,cd,cg,hg;ug=function(n,s){for(var a=s.child;a!==null;){if(a.tag===5||a.tag===6)n.appendChild(a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},cd=function(){},cg=function(n,s,a,c){var d=n.memoizedProps;if(d!==c){n=s.stateNode,cs(rr.current);var g=null;switch(a){case"input":d=$i(n,d),c=$i(n,c),g=[];break;case"select":d=ue({},d,{value:void 0}),c=ue({},c,{value:void 0}),g=[];break;case"textarea":d=Zo(n,d),c=Zo(n,c),g=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(n.onclick=su)}sa(a,c);var E;a=null;for($ in d)if(!c.hasOwnProperty($)&&d.hasOwnProperty($)&&d[$]!=null)if($==="style"){var A=d[$];for(E in A)A.hasOwnProperty(E)&&(a||(a={}),a[E]="")}else $!=="dangerouslySetInnerHTML"&&$!=="children"&&$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&$!=="autoFocus"&&(o.hasOwnProperty($)?g||(g=[]):(g=g||[]).push($,null));for($ in c){var x=c[$];if(A=d!=null?d[$]:void 0,c.hasOwnProperty($)&&x!==A&&(x!=null||A!=null))if($==="style")if(A){for(E in A)!A.hasOwnProperty(E)||x&&x.hasOwnProperty(E)||(a||(a={}),a[E]="");for(E in x)x.hasOwnProperty(E)&&A[E]!==x[E]&&(a||(a={}),a[E]=x[E])}else a||(g||(g=[]),g.push($,a)),a=x;else $==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,A=A?A.__html:void 0,x!=null&&A!==x&&(g=g||[]).push($,x)):$==="children"?typeof x!="string"&&typeof x!="number"||(g=g||[]).push($,""+x):$!=="suppressContentEditableWarning"&&$!=="suppressHydrationWarning"&&(o.hasOwnProperty($)?(x!=null&&$==="onScroll"&&Xe("scroll",n),g||A===x||(g=[])):(g=g||[]).push($,x))}a&&(g=g||[]).push("style",a);var $=g;(s.updateQueue=$)&&(s.flags|=4)}},hg=function(n,s,a,c){a!==c&&(s.flags|=4)};function Fa(n,s){if(!tt)switch(n.tailMode){case"hidden":s=n.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?n.tail=null:a.sibling=null;break;case"collapsed":a=n.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Ft(n){var s=n.alternate!==null&&n.alternate.child===n.child,a=0,c=0;if(s)for(var d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=n,d=d.sibling;else for(d=n.child;d!==null;)a|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=n,d=d.sibling;return n.subtreeFlags|=c,n.childLanes=a,s}function t0(n,s,a){var c=s.pendingProps;switch(bh(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(s),null;case 1:return Zt(s.type)&&au(),Ft(s),null;case 3:return c=s.stateNode,_o(),Je(Jt),Je(Mt),Hh(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(n===null||n.child===null)&&(du(s)?s.flags|=4:n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,Un!==null&&(Ed(Un),Un=null))),cd(n,s),Ft(s),null;case 5:$h(s);var d=cs(Va.current);if(a=s.type,n!==null&&s.stateNode!=null)cg(n,s,a,c,d),n.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!c){if(s.stateNode===null)throw Error(t(166));return Ft(s),null}if(n=cs(rr.current),du(s)){c=s.stateNode,a=s.type;var g=s.memoizedProps;switch(c[nr]=s,c[ka]=g,n=(s.mode&1)!==0,a){case"dialog":Xe("cancel",c),Xe("close",c);break;case"iframe":case"object":case"embed":Xe("load",c);break;case"video":case"audio":for(d=0;d<Aa.length;d++)Xe(Aa[d],c);break;case"source":Xe("error",c);break;case"img":case"image":case"link":Xe("error",c),Xe("load",c);break;case"details":Xe("toggle",c);break;case"input":Ds(c,g),Xe("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!g.multiple},Xe("invalid",c);break;case"textarea":Os(c,g),Xe("invalid",c)}sa(a,g),d=null;for(var E in g)if(g.hasOwnProperty(E)){var A=g[E];E==="children"?typeof A=="string"?c.textContent!==A&&(g.suppressHydrationWarning!==!0&&iu(c.textContent,A,n),d=["children",A]):typeof A=="number"&&c.textContent!==""+A&&(g.suppressHydrationWarning!==!0&&iu(c.textContent,A,n),d=["children",""+A]):o.hasOwnProperty(E)&&A!=null&&E==="onScroll"&&Xe("scroll",c)}switch(a){case"input":Qt(c),Nl(c,g,!0);break;case"textarea":Qt(c),ea(c);break;case"select":case"option":break;default:typeof g.onClick=="function"&&(c.onclick=su)}c=d,s.updateQueue=c,c!==null&&(s.flags|=4)}else{E=d.nodeType===9?d:d.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=_t(a)),n==="http://www.w3.org/1999/xhtml"?a==="script"?(n=E.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof c.is=="string"?n=E.createElement(a,{is:c.is}):(n=E.createElement(a),a==="select"&&(E=n,c.multiple?E.multiple=!0:c.size&&(E.size=c.size))):n=E.createElementNS(n,a),n[nr]=s,n[ka]=c,ug(n,s,!1,!1),s.stateNode=n;e:{switch(E=oa(a,c),a){case"dialog":Xe("cancel",n),Xe("close",n),d=c;break;case"iframe":case"object":case"embed":Xe("load",n),d=c;break;case"video":case"audio":for(d=0;d<Aa.length;d++)Xe(Aa[d],n);d=c;break;case"source":Xe("error",n),d=c;break;case"img":case"image":case"link":Xe("error",n),Xe("load",n),d=c;break;case"details":Xe("toggle",n),d=c;break;case"input":Ds(n,c),d=$i(n,c),Xe("invalid",n);break;case"option":d=c;break;case"select":n._wrapperState={wasMultiple:!!c.multiple},d=ue({},c,{value:void 0}),Xe("invalid",n);break;case"textarea":Os(n,c),d=Zo(n,c),Xe("invalid",n);break;default:d=c}sa(a,d),A=d;for(g in A)if(A.hasOwnProperty(g)){var x=A[g];g==="style"?ra(n,x):g==="dangerouslySetInnerHTML"?(x=x?x.__html:void 0,x!=null&&ta(n,x)):g==="children"?typeof x=="string"?(a!=="textarea"||x!=="")&&Gr(n,x):typeof x=="number"&&Gr(n,""+x):g!=="suppressContentEditableWarning"&&g!=="suppressHydrationWarning"&&g!=="autoFocus"&&(o.hasOwnProperty(g)?x!=null&&g==="onScroll"&&Xe("scroll",n):x!=null&&ne(n,g,x,E))}switch(a){case"input":Qt(n),Nl(n,c,!1);break;case"textarea":Qt(n),ea(n);break;case"option":c.value!=null&&n.setAttribute("value",""+Re(c.value));break;case"select":n.multiple=!!c.multiple,g=c.value,g!=null?yr(n,!!c.multiple,g,!1):c.defaultValue!=null&&yr(n,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(n.onclick=su)}switch(a){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Ft(s),null;case 6:if(n&&s.stateNode!=null)hg(n,s,n.memoizedProps,c);else{if(typeof c!="string"&&s.stateNode===null)throw Error(t(166));if(a=cs(Va.current),cs(rr.current),du(s)){if(c=s.stateNode,a=s.memoizedProps,c[nr]=s,(g=c.nodeValue!==a)&&(n=dn,n!==null))switch(n.tag){case 3:iu(c.nodeValue,a,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&iu(c.nodeValue,a,(n.mode&1)!==0)}g&&(s.flags|=4)}else c=(a.nodeType===9?a:a.ownerDocument).createTextNode(c),c[nr]=s,s.stateNode=c}return Ft(s),null;case 13:if(Je(nt),c=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(tt&&fn!==null&&(s.mode&1)!==0&&(s.flags&128)===0)pm(),mo(),s.flags|=98560,g=!1;else if(g=du(s),c!==null&&c.dehydrated!==null){if(n===null){if(!g)throw Error(t(318));if(g=s.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(t(317));g[nr]=s}else mo(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Ft(s),g=!1}else Un!==null&&(Ed(Un),Un=null),g=!0;if(!g)return s.flags&65536?s:null}return(s.flags&128)!==0?(s.lanes=a,s):(c=c!==null,c!==(n!==null&&n.memoizedState!==null)&&c&&(s.child.flags|=8192,(s.mode&1)!==0&&(n===null||(nt.current&1)!==0?It===0&&(It=3):Sd())),s.updateQueue!==null&&(s.flags|=4),Ft(s),null);case 4:return _o(),cd(n,s),n===null&&Ca(s.stateNode.containerInfo),Ft(s),null;case 10:return jh(s.type._context),Ft(s),null;case 17:return Zt(s.type)&&au(),Ft(s),null;case 19:if(Je(nt),g=s.memoizedState,g===null)return Ft(s),null;if(c=(s.flags&128)!==0,E=g.rendering,E===null)if(c)Fa(g,!1);else{if(It!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(E=vu(n),E!==null){for(s.flags|=128,Fa(g,!1),c=E.updateQueue,c!==null&&(s.updateQueue=c,s.flags|=4),s.subtreeFlags=0,c=a,a=s.child;a!==null;)g=a,n=c,g.flags&=14680066,E=g.alternate,E===null?(g.childLanes=0,g.lanes=n,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=E.childLanes,g.lanes=E.lanes,g.child=E.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=E.memoizedProps,g.memoizedState=E.memoizedState,g.updateQueue=E.updateQueue,g.type=E.type,n=E.dependencies,g.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),a=a.sibling;return Qe(nt,nt.current&1|2),s.child}n=n.sibling}g.tail!==null&&Ke()>Io&&(s.flags|=128,c=!0,Fa(g,!1),s.lanes=4194304)}else{if(!c)if(n=vu(E),n!==null){if(s.flags|=128,c=!0,a=n.updateQueue,a!==null&&(s.updateQueue=a,s.flags|=4),Fa(g,!0),g.tail===null&&g.tailMode==="hidden"&&!E.alternate&&!tt)return Ft(s),null}else 2*Ke()-g.renderingStartTime>Io&&a!==1073741824&&(s.flags|=128,c=!0,Fa(g,!1),s.lanes=4194304);g.isBackwards?(E.sibling=s.child,s.child=E):(a=g.last,a!==null?a.sibling=E:s.child=E,g.last=E)}return g.tail!==null?(s=g.tail,g.rendering=s,g.tail=s.sibling,g.renderingStartTime=Ke(),s.sibling=null,a=nt.current,Qe(nt,c?a&1|2:a&1),s):(Ft(s),null);case 22:case 23:return Id(),c=s.memoizedState!==null,n!==null&&n.memoizedState!==null!==c&&(s.flags|=8192),c&&(s.mode&1)!==0?(pn&1073741824)!==0&&(Ft(s),s.subtreeFlags&6&&(s.flags|=8192)):Ft(s),null;case 24:return null;case 25:return null}throw Error(t(156,s.tag))}function n0(n,s){switch(bh(s),s.tag){case 1:return Zt(s.type)&&au(),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return _o(),Je(Jt),Je(Mt),Hh(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 5:return $h(s),null;case 13:if(Je(nt),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(t(340));mo()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return Je(nt),null;case 4:return _o(),null;case 10:return jh(s.type._context),null;case 22:case 23:return Id(),null;case 24:return null;default:return null}}var Cu=!1,Ut=!1,r0=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Eo(n,s){var a=n.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(c){st(n,s,c)}else a.current=null}function hd(n,s,a){try{a()}catch(c){st(n,s,c)}}var dg=!1;function i0(n,s){if(Ih=ti,n=Wp(),mh(n)){if("selectionStart"in n)var a={start:n.selectionStart,end:n.selectionEnd};else e:{a=(a=n.ownerDocument)&&a.defaultView||window;var c=a.getSelection&&a.getSelection();if(c&&c.rangeCount!==0){a=c.anchorNode;var d=c.anchorOffset,g=c.focusNode;c=c.focusOffset;try{a.nodeType,g.nodeType}catch{a=null;break e}var E=0,A=-1,x=-1,$=0,J=0,Z=n,X=null;t:for(;;){for(var he;Z!==a||d!==0&&Z.nodeType!==3||(A=E+d),Z!==g||c!==0&&Z.nodeType!==3||(x=E+c),Z.nodeType===3&&(E+=Z.nodeValue.length),(he=Z.firstChild)!==null;)X=Z,Z=he;for(;;){if(Z===n)break t;if(X===a&&++$===d&&(A=E),X===g&&++J===c&&(x=E),(he=Z.nextSibling)!==null)break;Z=X,X=Z.parentNode}Z=he}a=A===-1||x===-1?null:{start:A,end:x}}else a=null}a=a||{start:0,end:0}}else a=null;for(Sh={focusedElem:n,selectionRange:a},ti=!1,fe=s;fe!==null;)if(s=fe,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,fe=n;else for(;fe!==null;){s=fe;try{var pe=s.alternate;if((s.flags&1024)!==0)switch(s.tag){case 0:case 11:case 15:break;case 1:if(pe!==null){var me=pe.memoizedProps,ut=pe.memoizedState,U=s.stateNode,D=U.getSnapshotBeforeUpdate(s.elementType===s.type?me:Bn(s.type,me),ut);U.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var z=s.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(te){st(s,s.return,te)}if(n=s.sibling,n!==null){n.return=s.return,fe=n;break}fe=s.return}return pe=dg,dg=!1,pe}function Ua(n,s,a){var c=s.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&n)===n){var g=d.destroy;d.destroy=void 0,g!==void 0&&hd(s,a,g)}d=d.next}while(d!==c)}}function Ru(n,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var a=s=s.next;do{if((a.tag&n)===n){var c=a.create;a.destroy=c()}a=a.next}while(a!==s)}}function dd(n){var s=n.ref;if(s!==null){var a=n.stateNode;switch(n.tag){case 5:n=a;break;default:n=a}typeof s=="function"?s(n):s.current=n}}function fg(n){var s=n.alternate;s!==null&&(n.alternate=null,fg(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&(delete s[nr],delete s[ka],delete s[Rh],delete s[UE],delete s[BE])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function pg(n){return n.tag===5||n.tag===3||n.tag===4}function mg(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||pg(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function fd(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.nodeType===8?a.parentNode.insertBefore(n,s):a.insertBefore(n,s):(a.nodeType===8?(s=a.parentNode,s.insertBefore(n,a)):(s=a,s.appendChild(n)),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=su));else if(c!==4&&(n=n.child,n!==null))for(fd(n,s,a),n=n.sibling;n!==null;)fd(n,s,a),n=n.sibling}function pd(n,s,a){var c=n.tag;if(c===5||c===6)n=n.stateNode,s?a.insertBefore(n,s):a.appendChild(n);else if(c!==4&&(n=n.child,n!==null))for(pd(n,s,a),n=n.sibling;n!==null;)pd(n,s,a),n=n.sibling}var bt=null,zn=!1;function ci(n,s,a){for(a=a.child;a!==null;)gg(n,s,a),a=a.sibling}function gg(n,s,a){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ji,a)}catch{}switch(a.tag){case 5:Ut||Eo(a,s);case 6:var c=bt,d=zn;bt=null,ci(n,s,a),bt=c,zn=d,bt!==null&&(zn?(n=bt,a=a.stateNode,n.nodeType===8?n.parentNode.removeChild(a):n.removeChild(a)):bt.removeChild(a.stateNode));break;case 18:bt!==null&&(zn?(n=bt,a=a.stateNode,n.nodeType===8?Ch(n.parentNode,a):n.nodeType===1&&Ch(n,a),Mn(n)):Ch(bt,a.stateNode));break;case 4:c=bt,d=zn,bt=a.stateNode.containerInfo,zn=!0,ci(n,s,a),bt=c,zn=d;break;case 0:case 11:case 14:case 15:if(!Ut&&(c=a.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var g=d,E=g.destroy;g=g.tag,E!==void 0&&((g&2)!==0||(g&4)!==0)&&hd(a,s,E),d=d.next}while(d!==c)}ci(n,s,a);break;case 1:if(!Ut&&(Eo(a,s),c=a.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=a.memoizedProps,c.state=a.memoizedState,c.componentWillUnmount()}catch(A){st(a,s,A)}ci(n,s,a);break;case 21:ci(n,s,a);break;case 22:a.mode&1?(Ut=(c=Ut)||a.memoizedState!==null,ci(n,s,a),Ut=c):ci(n,s,a);break;default:ci(n,s,a)}}function yg(n){var s=n.updateQueue;if(s!==null){n.updateQueue=null;var a=n.stateNode;a===null&&(a=n.stateNode=new r0),s.forEach(function(c){var d=f0.bind(null,n,c);a.has(c)||(a.add(c),c.then(d,d))})}}function $n(n,s){var a=s.deletions;if(a!==null)for(var c=0;c<a.length;c++){var d=a[c];try{var g=n,E=s,A=E;e:for(;A!==null;){switch(A.tag){case 5:bt=A.stateNode,zn=!1;break e;case 3:bt=A.stateNode.containerInfo,zn=!0;break e;case 4:bt=A.stateNode.containerInfo,zn=!0;break e}A=A.return}if(bt===null)throw Error(t(160));gg(g,E,d),bt=null,zn=!1;var x=d.alternate;x!==null&&(x.return=null),d.return=null}catch($){st(d,s,$)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)vg(s,n),s=s.sibling}function vg(n,s){var a=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if($n(s,n),sr(n),c&4){try{Ua(3,n,n.return),Ru(3,n)}catch(me){st(n,n.return,me)}try{Ua(5,n,n.return)}catch(me){st(n,n.return,me)}}break;case 1:$n(s,n),sr(n),c&512&&a!==null&&Eo(a,a.return);break;case 5:if($n(s,n),sr(n),c&512&&a!==null&&Eo(a,a.return),n.flags&32){var d=n.stateNode;try{Gr(d,"")}catch(me){st(n,n.return,me)}}if(c&4&&(d=n.stateNode,d!=null)){var g=n.memoizedProps,E=a!==null?a.memoizedProps:g,A=n.type,x=n.updateQueue;if(n.updateQueue=null,x!==null)try{A==="input"&&g.type==="radio"&&g.name!=null&&Xo(d,g),oa(A,E);var $=oa(A,g);for(E=0;E<x.length;E+=2){var J=x[E],Z=x[E+1];J==="style"?ra(d,Z):J==="dangerouslySetInnerHTML"?ta(d,Z):J==="children"?Gr(d,Z):ne(d,J,Z,$)}switch(A){case"input":Jo(d,g);break;case"textarea":Ls(d,g);break;case"select":var X=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!g.multiple;var he=g.value;he!=null?yr(d,!!g.multiple,he,!1):X!==!!g.multiple&&(g.defaultValue!=null?yr(d,!!g.multiple,g.defaultValue,!0):yr(d,!!g.multiple,g.multiple?[]:"",!1))}d[ka]=g}catch(me){st(n,n.return,me)}}break;case 6:if($n(s,n),sr(n),c&4){if(n.stateNode===null)throw Error(t(162));d=n.stateNode,g=n.memoizedProps;try{d.nodeValue=g}catch(me){st(n,n.return,me)}}break;case 3:if($n(s,n),sr(n),c&4&&a!==null&&a.memoizedState.isDehydrated)try{Mn(s.containerInfo)}catch(me){st(n,n.return,me)}break;case 4:$n(s,n),sr(n);break;case 13:$n(s,n),sr(n),d=n.child,d.flags&8192&&(g=d.memoizedState!==null,d.stateNode.isHidden=g,!g||d.alternate!==null&&d.alternate.memoizedState!==null||(yd=Ke())),c&4&&yg(n);break;case 22:if(J=a!==null&&a.memoizedState!==null,n.mode&1?(Ut=($=Ut)||J,$n(s,n),Ut=$):$n(s,n),sr(n),c&8192){if($=n.memoizedState!==null,(n.stateNode.isHidden=$)&&!J&&(n.mode&1)!==0)for(fe=n,J=n.child;J!==null;){for(Z=fe=J;fe!==null;){switch(X=fe,he=X.child,X.tag){case 0:case 11:case 14:case 15:Ua(4,X,X.return);break;case 1:Eo(X,X.return);var pe=X.stateNode;if(typeof pe.componentWillUnmount=="function"){c=X,a=X.return;try{s=c,pe.props=s.memoizedProps,pe.state=s.memoizedState,pe.componentWillUnmount()}catch(me){st(c,a,me)}}break;case 5:Eo(X,X.return);break;case 22:if(X.memoizedState!==null){Eg(Z);continue}}he!==null?(he.return=X,fe=he):Eg(Z)}J=J.sibling}e:for(J=null,Z=n;;){if(Z.tag===5){if(J===null){J=Z;try{d=Z.stateNode,$?(g=d.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none"):(A=Z.stateNode,x=Z.memoizedProps.style,E=x!=null&&x.hasOwnProperty("display")?x.display:null,A.style.display=na("display",E))}catch(me){st(n,n.return,me)}}}else if(Z.tag===6){if(J===null)try{Z.stateNode.nodeValue=$?"":Z.memoizedProps}catch(me){st(n,n.return,me)}}else if((Z.tag!==22&&Z.tag!==23||Z.memoizedState===null||Z===n)&&Z.child!==null){Z.child.return=Z,Z=Z.child;continue}if(Z===n)break e;for(;Z.sibling===null;){if(Z.return===null||Z.return===n)break e;J===Z&&(J=null),Z=Z.return}J===Z&&(J=null),Z.sibling.return=Z.return,Z=Z.sibling}}break;case 19:$n(s,n),sr(n),c&4&&yg(n);break;case 21:break;default:$n(s,n),sr(n)}}function sr(n){var s=n.flags;if(s&2){try{e:{for(var a=n.return;a!==null;){if(pg(a)){var c=a;break e}a=a.return}throw Error(t(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Gr(d,""),c.flags&=-33);var g=mg(n);pd(n,g,d);break;case 3:case 4:var E=c.stateNode.containerInfo,A=mg(n);fd(n,A,E);break;default:throw Error(t(161))}}catch(x){st(n,n.return,x)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function s0(n,s,a){fe=n,_g(n)}function _g(n,s,a){for(var c=(n.mode&1)!==0;fe!==null;){var d=fe,g=d.child;if(d.tag===22&&c){var E=d.memoizedState!==null||Cu;if(!E){var A=d.alternate,x=A!==null&&A.memoizedState!==null||Ut;A=Cu;var $=Ut;if(Cu=E,(Ut=x)&&!$)for(fe=d;fe!==null;)E=fe,x=E.child,E.tag===22&&E.memoizedState!==null?Tg(d):x!==null?(x.return=E,fe=x):Tg(d);for(;g!==null;)fe=g,_g(g),g=g.sibling;fe=d,Cu=A,Ut=$}wg(n)}else(d.subtreeFlags&8772)!==0&&g!==null?(g.return=d,fe=g):wg(n)}}function wg(n){for(;fe!==null;){var s=fe;if((s.flags&8772)!==0){var a=s.alternate;try{if((s.flags&8772)!==0)switch(s.tag){case 0:case 11:case 15:Ut||Ru(5,s);break;case 1:var c=s.stateNode;if(s.flags&4&&!Ut)if(a===null)c.componentDidMount();else{var d=s.elementType===s.type?a.memoizedProps:Bn(s.type,a.memoizedProps);c.componentDidUpdate(d,a.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var g=s.updateQueue;g!==null&&Em(s,g,c);break;case 3:var E=s.updateQueue;if(E!==null){if(a=null,s.child!==null)switch(s.child.tag){case 5:a=s.child.stateNode;break;case 1:a=s.child.stateNode}Em(s,E,a)}break;case 5:var A=s.stateNode;if(a===null&&s.flags&4){a=A;var x=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":x.autoFocus&&a.focus();break;case"img":x.src&&(a.src=x.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var $=s.alternate;if($!==null){var J=$.memoizedState;if(J!==null){var Z=J.dehydrated;Z!==null&&Mn(Z)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ut||s.flags&512&&dd(s)}catch(X){st(s,s.return,X)}}if(s===n){fe=null;break}if(a=s.sibling,a!==null){a.return=s.return,fe=a;break}fe=s.return}}function Eg(n){for(;fe!==null;){var s=fe;if(s===n){fe=null;break}var a=s.sibling;if(a!==null){a.return=s.return,fe=a;break}fe=s.return}}function Tg(n){for(;fe!==null;){var s=fe;try{switch(s.tag){case 0:case 11:case 15:var a=s.return;try{Ru(4,s)}catch(x){st(s,a,x)}break;case 1:var c=s.stateNode;if(typeof c.componentDidMount=="function"){var d=s.return;try{c.componentDidMount()}catch(x){st(s,d,x)}}var g=s.return;try{dd(s)}catch(x){st(s,g,x)}break;case 5:var E=s.return;try{dd(s)}catch(x){st(s,E,x)}}}catch(x){st(s,s.return,x)}if(s===n){fe=null;break}var A=s.sibling;if(A!==null){A.return=s.return,fe=A;break}fe=s.return}}var o0=Math.ceil,ku=le.ReactCurrentDispatcher,md=le.ReactCurrentOwner,Pn=le.ReactCurrentBatchConfig,Fe=0,Ct=null,mt=null,Dt=0,pn=0,To=si(0),It=0,Ba=null,ds=0,Nu=0,gd=0,za=null,tn=null,yd=0,Io=1/0,br=null,xu=!1,vd=null,hi=null,bu=!1,di=null,Du=0,$a=0,_d=null,Vu=-1,Ou=0;function Kt(){return(Fe&6)!==0?Ke():Vu!==-1?Vu:Vu=Ke()}function fi(n){return(n.mode&1)===0?1:(Fe&2)!==0&&Dt!==0?Dt&-Dt:$E.transition!==null?(Ou===0&&(Ou=es()),Ou):(n=Oe,n!==0||(n=window.event,n=n===void 0?16:ya(n.type)),n)}function Wn(n,s,a,c){if(50<$a)throw $a=0,_d=null,Error(t(185));Xr(n,a,c),((Fe&2)===0||n!==Ct)&&(n===Ct&&((Fe&2)===0&&(Nu|=a),It===4&&pi(n,Dt)),nn(n,c),a===1&&Fe===0&&(s.mode&1)===0&&(Io=Ke()+500,uu&&ai()))}function nn(n,s){var a=n.callbackNode;wr(n,s);var c=Zi(n,n===Ct?Dt:0);if(c===0)a!==null&&da(a),n.callbackNode=null,n.callbackPriority=0;else if(s=c&-c,n.callbackPriority!==s){if(a!=null&&da(a),s===1)n.tag===0?zE(Sg.bind(null,n)):um(Sg.bind(null,n)),jE(function(){(Fe&6)===0&&ai()}),a=null;else{switch(Zr(c)){case 1:a=Xi;break;case 4:a=Kr;break;case 16:a=vn;break;case 536870912:a=Ol;break;default:a=vn}a=bg(a,Ig.bind(null,n))}n.callbackPriority=s,n.callbackNode=a}}function Ig(n,s){if(Vu=-1,Ou=0,(Fe&6)!==0)throw Error(t(327));var a=n.callbackNode;if(So()&&n.callbackNode!==a)return null;var c=Zi(n,n===Ct?Dt:0);if(c===0)return null;if((c&30)!==0||(c&n.expiredLanes)!==0||s)s=Lu(n,c);else{s=c;var d=Fe;Fe|=2;var g=Ag();(Ct!==n||Dt!==s)&&(br=null,Io=Ke()+500,ps(n,s));do try{u0();break}catch(A){Pg(n,A)}while(!0);Mh(),ku.current=g,Fe=d,mt!==null?s=0:(Ct=null,Dt=0,s=It)}if(s!==0){if(s===2&&(d=un(n),d!==0&&(c=d,s=wd(n,d))),s===1)throw a=Ba,ps(n,0),pi(n,c),nn(n,Ke()),a;if(s===6)pi(n,c);else{if(d=n.current.alternate,(c&30)===0&&!a0(d)&&(s=Lu(n,c),s===2&&(g=un(n),g!==0&&(c=g,s=wd(n,g))),s===1))throw a=Ba,ps(n,0),pi(n,c),nn(n,Ke()),a;switch(n.finishedWork=d,n.finishedLanes=c,s){case 0:case 1:throw Error(t(345));case 2:ms(n,tn,br);break;case 3:if(pi(n,c),(c&130023424)===c&&(s=yd+500-Ke(),10<s)){if(Zi(n,0)!==0)break;if(d=n.suspendedLanes,(d&c)!==c){Kt(),n.pingedLanes|=n.suspendedLanes&d;break}n.timeoutHandle=Ah(ms.bind(null,n,tn,br),s);break}ms(n,tn,br);break;case 4:if(pi(n,c),(c&4194240)===c)break;for(s=n.eventTimes,d=-1;0<c;){var E=31-Ht(c);g=1<<E,E=s[E],E>d&&(d=E),c&=~g}if(c=d,c=Ke()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*o0(c/1960))-c,10<c){n.timeoutHandle=Ah(ms.bind(null,n,tn,br),c);break}ms(n,tn,br);break;case 5:ms(n,tn,br);break;default:throw Error(t(329))}}}return nn(n,Ke()),n.callbackNode===a?Ig.bind(null,n):null}function wd(n,s){var a=za;return n.current.memoizedState.isDehydrated&&(ps(n,s).flags|=256),n=Lu(n,s),n!==2&&(s=tn,tn=a,s!==null&&Ed(s)),n}function Ed(n){tn===null?tn=n:tn.push.apply(tn,n)}function a0(n){for(var s=n;;){if(s.flags&16384){var a=s.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var c=0;c<a.length;c++){var d=a[c],g=d.getSnapshot;d=d.value;try{if(!Fn(g(),d))return!1}catch{return!1}}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function pi(n,s){for(s&=~gd,s&=~Nu,n.suspendedLanes|=s,n.pingedLanes&=~s,n=n.expirationTimes;0<s;){var a=31-Ht(s),c=1<<a;n[a]=-1,s&=~c}}function Sg(n){if((Fe&6)!==0)throw Error(t(327));So();var s=Zi(n,0);if((s&1)===0)return nn(n,Ke()),null;var a=Lu(n,s);if(n.tag!==0&&a===2){var c=un(n);c!==0&&(s=c,a=wd(n,c))}if(a===1)throw a=Ba,ps(n,0),pi(n,s),nn(n,Ke()),a;if(a===6)throw Error(t(345));return n.finishedWork=n.current.alternate,n.finishedLanes=s,ms(n,tn,br),nn(n,Ke()),null}function Td(n,s){var a=Fe;Fe|=1;try{return n(s)}finally{Fe=a,Fe===0&&(Io=Ke()+500,uu&&ai())}}function fs(n){di!==null&&di.tag===0&&(Fe&6)===0&&So();var s=Fe;Fe|=1;var a=Pn.transition,c=Oe;try{if(Pn.transition=null,Oe=1,n)return n()}finally{Oe=c,Pn.transition=a,Fe=s,(Fe&6)===0&&ai()}}function Id(){pn=To.current,Je(To)}function ps(n,s){n.finishedWork=null,n.finishedLanes=0;var a=n.timeoutHandle;if(a!==-1&&(n.timeoutHandle=-1,ME(a)),mt!==null)for(a=mt.return;a!==null;){var c=a;switch(bh(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&au();break;case 3:_o(),Je(Jt),Je(Mt),Hh();break;case 5:$h(c);break;case 4:_o();break;case 13:Je(nt);break;case 19:Je(nt);break;case 10:jh(c.type._context);break;case 22:case 23:Id()}a=a.return}if(Ct=n,mt=n=mi(n.current,null),Dt=pn=s,It=0,Ba=null,gd=Nu=ds=0,tn=za=null,us!==null){for(s=0;s<us.length;s++)if(a=us[s],c=a.interleaved,c!==null){a.interleaved=null;var d=c.next,g=a.pending;if(g!==null){var E=g.next;g.next=d,c.next=E}a.pending=c}us=null}return n}function Pg(n,s){do{var a=mt;try{if(Mh(),_u.current=Iu,wu){for(var c=rt.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}wu=!1}if(hs=0,At=Tt=rt=null,Oa=!1,La=0,md.current=null,a===null||a.return===null){It=1,Ba=s,mt=null;break}e:{var g=n,E=a.return,A=a,x=s;if(s=Dt,A.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){var $=x,J=A,Z=J.tag;if((J.mode&1)===0&&(Z===0||Z===11||Z===15)){var X=J.alternate;X?(J.updateQueue=X.updateQueue,J.memoizedState=X.memoizedState,J.lanes=X.lanes):(J.updateQueue=null,J.memoizedState=null)}var he=Ym(E);if(he!==null){he.flags&=-257,Xm(he,E,A,g,s),he.mode&1&&Qm(g,$,s),s=he,x=$;var pe=s.updateQueue;if(pe===null){var me=new Set;me.add(x),s.updateQueue=me}else pe.add(x);break e}else{if((s&1)===0){Qm(g,$,s),Sd();break e}x=Error(t(426))}}else if(tt&&A.mode&1){var ut=Ym(E);if(ut!==null){(ut.flags&65536)===0&&(ut.flags|=256),Xm(ut,E,A,g,s),Oh(wo(x,A));break e}}g=x=wo(x,A),It!==4&&(It=2),za===null?za=[g]:za.push(g),g=E;do{switch(g.tag){case 3:g.flags|=65536,s&=-s,g.lanes|=s;var U=Gm(g,x,s);wm(g,U);break e;case 1:A=x;var D=g.type,z=g.stateNode;if((g.flags&128)===0&&(typeof D.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(hi===null||!hi.has(z)))){g.flags|=65536,s&=-s,g.lanes|=s;var te=Km(g,A,s);wm(g,te);break e}}g=g.return}while(g!==null)}Rg(a)}catch(ye){s=ye,mt===a&&a!==null&&(mt=a=a.return);continue}break}while(!0)}function Ag(){var n=ku.current;return ku.current=Iu,n===null?Iu:n}function Sd(){(It===0||It===3||It===2)&&(It=4),Ct===null||(ds&268435455)===0&&(Nu&268435455)===0||pi(Ct,Dt)}function Lu(n,s){var a=Fe;Fe|=2;var c=Ag();(Ct!==n||Dt!==s)&&(br=null,ps(n,s));do try{l0();break}catch(d){Pg(n,d)}while(!0);if(Mh(),Fe=a,ku.current=c,mt!==null)throw Error(t(261));return Ct=null,Dt=0,It}function l0(){for(;mt!==null;)Cg(mt)}function u0(){for(;mt!==null&&!Dl();)Cg(mt)}function Cg(n){var s=xg(n.alternate,n,pn);n.memoizedProps=n.pendingProps,s===null?Rg(n):mt=s,md.current=null}function Rg(n){var s=n;do{var a=s.alternate;if(n=s.return,(s.flags&32768)===0){if(a=t0(a,s,pn),a!==null){mt=a;return}}else{if(a=n0(a,s),a!==null){a.flags&=32767,mt=a;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{It=6,mt=null;return}}if(s=s.sibling,s!==null){mt=s;return}mt=s=n}while(s!==null);It===0&&(It=5)}function ms(n,s,a){var c=Oe,d=Pn.transition;try{Pn.transition=null,Oe=1,c0(n,s,a,c)}finally{Pn.transition=d,Oe=c}return null}function c0(n,s,a,c){do So();while(di!==null);if((Fe&6)!==0)throw Error(t(327));a=n.finishedWork;var d=n.finishedLanes;if(a===null)return null;if(n.finishedWork=null,n.finishedLanes=0,a===n.current)throw Error(t(177));n.callbackNode=null,n.callbackPriority=0;var g=a.lanes|a.childLanes;if(qe(n,g),n===Ct&&(mt=Ct=null,Dt=0),(a.subtreeFlags&2064)===0&&(a.flags&2064)===0||bu||(bu=!0,bg(vn,function(){return So(),null})),g=(a.flags&15990)!==0,(a.subtreeFlags&15990)!==0||g){g=Pn.transition,Pn.transition=null;var E=Oe;Oe=1;var A=Fe;Fe|=4,md.current=null,i0(n,a),vg(a,n),NE(Sh),ti=!!Ih,Sh=Ih=null,n.current=a,s0(a),ah(),Fe=A,Oe=E,Pn.transition=g}else n.current=a;if(bu&&(bu=!1,di=n,Du=d),g=n.pendingLanes,g===0&&(hi=null),Ll(a.stateNode),nn(n,Ke()),s!==null)for(c=n.onRecoverableError,a=0;a<s.length;a++)d=s[a],c(d.value,{componentStack:d.stack,digest:d.digest});if(xu)throw xu=!1,n=vd,vd=null,n;return(Du&1)!==0&&n.tag!==0&&So(),g=n.pendingLanes,(g&1)!==0?n===_d?$a++:($a=0,_d=n):$a=0,ai(),null}function So(){if(di!==null){var n=Zr(Du),s=Pn.transition,a=Oe;try{if(Pn.transition=null,Oe=16>n?16:n,di===null)var c=!1;else{if(n=di,di=null,Du=0,(Fe&6)!==0)throw Error(t(331));var d=Fe;for(Fe|=4,fe=n.current;fe!==null;){var g=fe,E=g.child;if((fe.flags&16)!==0){var A=g.deletions;if(A!==null){for(var x=0;x<A.length;x++){var $=A[x];for(fe=$;fe!==null;){var J=fe;switch(J.tag){case 0:case 11:case 15:Ua(8,J,g)}var Z=J.child;if(Z!==null)Z.return=J,fe=Z;else for(;fe!==null;){J=fe;var X=J.sibling,he=J.return;if(fg(J),J===$){fe=null;break}if(X!==null){X.return=he,fe=X;break}fe=he}}}var pe=g.alternate;if(pe!==null){var me=pe.child;if(me!==null){pe.child=null;do{var ut=me.sibling;me.sibling=null,me=ut}while(me!==null)}}fe=g}}if((g.subtreeFlags&2064)!==0&&E!==null)E.return=g,fe=E;else e:for(;fe!==null;){if(g=fe,(g.flags&2048)!==0)switch(g.tag){case 0:case 11:case 15:Ua(9,g,g.return)}var U=g.sibling;if(U!==null){U.return=g.return,fe=U;break e}fe=g.return}}var D=n.current;for(fe=D;fe!==null;){E=fe;var z=E.child;if((E.subtreeFlags&2064)!==0&&z!==null)z.return=E,fe=z;else e:for(E=D;fe!==null;){if(A=fe,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:Ru(9,A)}}catch(ye){st(A,A.return,ye)}if(A===E){fe=null;break e}var te=A.sibling;if(te!==null){te.return=A.return,fe=te;break e}fe=A.return}}if(Fe=d,ai(),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ji,n)}catch{}c=!0}return c}finally{Oe=a,Pn.transition=s}}return!1}function kg(n,s,a){s=wo(a,s),s=Gm(n,s,1),n=ui(n,s,1),s=Kt(),n!==null&&(Xr(n,1,s),nn(n,s))}function st(n,s,a){if(n.tag===3)kg(n,n,a);else for(;s!==null;){if(s.tag===3){kg(s,n,a);break}else if(s.tag===1){var c=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(hi===null||!hi.has(c))){n=wo(a,n),n=Km(s,n,1),s=ui(s,n,1),n=Kt(),s!==null&&(Xr(s,1,n),nn(s,n));break}}s=s.return}}function h0(n,s,a){var c=n.pingCache;c!==null&&c.delete(s),s=Kt(),n.pingedLanes|=n.suspendedLanes&a,Ct===n&&(Dt&a)===a&&(It===4||It===3&&(Dt&130023424)===Dt&&500>Ke()-yd?ps(n,0):gd|=a),nn(n,s)}function Ng(n,s){s===0&&((n.mode&1)===0?s=1:(s=qs,qs<<=1,(qs&130023424)===0&&(qs=4194304)));var a=Kt();n=kr(n,s),n!==null&&(Xr(n,s,a),nn(n,a))}function d0(n){var s=n.memoizedState,a=0;s!==null&&(a=s.retryLane),Ng(n,a)}function f0(n,s){var a=0;switch(n.tag){case 13:var c=n.stateNode,d=n.memoizedState;d!==null&&(a=d.retryLane);break;case 19:c=n.stateNode;break;default:throw Error(t(314))}c!==null&&c.delete(s),Ng(n,a)}var xg;xg=function(n,s,a){if(n!==null)if(n.memoizedProps!==s.pendingProps||Jt.current)en=!0;else{if((n.lanes&a)===0&&(s.flags&128)===0)return en=!1,e0(n,s,a);en=(n.flags&131072)!==0}else en=!1,tt&&(s.flags&1048576)!==0&&cm(s,hu,s.index);switch(s.lanes=0,s.tag){case 2:var c=s.type;Au(n,s),n=s.pendingProps;var d=ho(s,Mt.current);vo(s,a),d=Kh(null,s,c,n,d,a);var g=Qh();return s.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,Zt(c)?(g=!0,lu(s)):g=!1,s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,Bh(s),d.updater=Su,s.stateNode=d,d._reactInternals=s,td(s,c,n,a),s=sd(null,s,c,!0,g,a)):(s.tag=0,tt&&g&&xh(s),Gt(null,s,d,a),s=s.child),s;case 16:c=s.elementType;e:{switch(Au(n,s),n=s.pendingProps,d=c._init,c=d(c._payload),s.type=c,d=s.tag=m0(c),n=Bn(c,n),d){case 0:s=id(null,s,c,n,a);break e;case 1:s=rg(null,s,c,n,a);break e;case 11:s=Jm(null,s,c,n,a);break e;case 14:s=Zm(null,s,c,Bn(c.type,n),a);break e}throw Error(t(306,c,""))}return s;case 0:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Bn(c,d),id(n,s,c,d,a);case 1:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Bn(c,d),rg(n,s,c,d,a);case 3:e:{if(ig(s),n===null)throw Error(t(387));c=s.pendingProps,g=s.memoizedState,d=g.element,_m(n,s),yu(s,c,null,a);var E=s.memoizedState;if(c=E.element,g.isDehydrated)if(g={element:c,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){d=wo(Error(t(423)),s),s=sg(n,s,c,a,d);break e}else if(c!==d){d=wo(Error(t(424)),s),s=sg(n,s,c,a,d);break e}else for(fn=ii(s.stateNode.containerInfo.firstChild),dn=s,tt=!0,Un=null,a=ym(s,null,c,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(mo(),c===d){s=xr(n,s,a);break e}Gt(n,s,c,a)}s=s.child}return s;case 5:return Tm(s),n===null&&Vh(s),c=s.type,d=s.pendingProps,g=n!==null?n.memoizedProps:null,E=d.children,Ph(c,d)?E=null:g!==null&&Ph(c,g)&&(s.flags|=32),ng(n,s),Gt(n,s,E,a),s.child;case 6:return n===null&&Vh(s),null;case 13:return og(n,s,a);case 4:return zh(s,s.stateNode.containerInfo),c=s.pendingProps,n===null?s.child=go(s,null,c,a):Gt(n,s,c,a),s.child;case 11:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Bn(c,d),Jm(n,s,c,d,a);case 7:return Gt(n,s,s.pendingProps,a),s.child;case 8:return Gt(n,s,s.pendingProps.children,a),s.child;case 12:return Gt(n,s,s.pendingProps.children,a),s.child;case 10:e:{if(c=s.type._context,d=s.pendingProps,g=s.memoizedProps,E=d.value,Qe(pu,c._currentValue),c._currentValue=E,g!==null)if(Fn(g.value,E)){if(g.children===d.children&&!Jt.current){s=xr(n,s,a);break e}}else for(g=s.child,g!==null&&(g.return=s);g!==null;){var A=g.dependencies;if(A!==null){E=g.child;for(var x=A.firstContext;x!==null;){if(x.context===c){if(g.tag===1){x=Nr(-1,a&-a),x.tag=2;var $=g.updateQueue;if($!==null){$=$.shared;var J=$.pending;J===null?x.next=x:(x.next=J.next,J.next=x),$.pending=x}}g.lanes|=a,x=g.alternate,x!==null&&(x.lanes|=a),Fh(g.return,a,s),A.lanes|=a;break}x=x.next}}else if(g.tag===10)E=g.type===s.type?null:g.child;else if(g.tag===18){if(E=g.return,E===null)throw Error(t(341));E.lanes|=a,A=E.alternate,A!==null&&(A.lanes|=a),Fh(E,a,s),E=g.sibling}else E=g.child;if(E!==null)E.return=g;else for(E=g;E!==null;){if(E===s){E=null;break}if(g=E.sibling,g!==null){g.return=E.return,E=g;break}E=E.return}g=E}Gt(n,s,d.children,a),s=s.child}return s;case 9:return d=s.type,c=s.pendingProps.children,vo(s,a),d=In(d),c=c(d),s.flags|=1,Gt(n,s,c,a),s.child;case 14:return c=s.type,d=Bn(c,s.pendingProps),d=Bn(c.type,d),Zm(n,s,c,d,a);case 15:return eg(n,s,s.type,s.pendingProps,a);case 17:return c=s.type,d=s.pendingProps,d=s.elementType===c?d:Bn(c,d),Au(n,s),s.tag=1,Zt(c)?(n=!0,lu(s)):n=!1,vo(s,a),Hm(s,c,d),td(s,c,d,a),sd(null,s,c,!0,n,a);case 19:return lg(n,s,a);case 22:return tg(n,s,a)}throw Error(t(156,s.tag))};function bg(n,s){return Ws(n,s)}function p0(n,s,a,c){this.tag=n,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(n,s,a,c){return new p0(n,s,a,c)}function Pd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function m0(n){if(typeof n=="function")return Pd(n)?1:0;if(n!=null){if(n=n.$$typeof,n===L)return 11;if(n===Ze)return 14}return 2}function mi(n,s){var a=n.alternate;return a===null?(a=An(n.tag,s,n.key,n.mode),a.elementType=n.elementType,a.type=n.type,a.stateNode=n.stateNode,a.alternate=n,n.alternate=a):(a.pendingProps=s,a.type=n.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=n.flags&14680064,a.childLanes=n.childLanes,a.lanes=n.lanes,a.child=n.child,a.memoizedProps=n.memoizedProps,a.memoizedState=n.memoizedState,a.updateQueue=n.updateQueue,s=n.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=n.sibling,a.index=n.index,a.ref=n.ref,a}function Mu(n,s,a,c,d,g){var E=2;if(c=n,typeof n=="function")Pd(n)&&(E=1);else if(typeof n=="string")E=5;else e:switch(n){case k:return gs(a.children,d,g,s);case P:E=8,d|=8;break;case C:return n=An(12,a,s,d|2),n.elementType=C,n.lanes=g,n;case R:return n=An(13,a,s,d),n.elementType=R,n.lanes=g,n;case We:return n=An(19,a,s,d),n.elementType=We,n.lanes=g,n;case Be:return ju(a,d,g,s);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case b:E=10;break e;case N:E=9;break e;case L:E=11;break e;case Ze:E=14;break e;case at:E=16,c=null;break e}throw Error(t(130,n==null?n:typeof n,""))}return s=An(E,a,s,d),s.elementType=n,s.type=c,s.lanes=g,s}function gs(n,s,a,c){return n=An(7,n,c,s),n.lanes=a,n}function ju(n,s,a,c){return n=An(22,n,c,s),n.elementType=Be,n.lanes=a,n.stateNode={isHidden:!1},n}function Ad(n,s,a){return n=An(6,n,null,s),n.lanes=a,n}function Cd(n,s,a){return s=An(4,n.children!==null?n.children:[],n.key,s),s.lanes=a,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}function g0(n,s,a,c,d){this.tag=s,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yr(0),this.expirationTimes=Yr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function Rd(n,s,a,c,d,g,E,A,x){return n=new g0(n,s,a,A,x),s===1?(s=1,g===!0&&(s|=8)):s=0,g=An(3,null,null,s),n.current=g,g.stateNode=n,g.memoizedState={element:c,isDehydrated:a,cache:null,transitions:null,pendingSuspenseBoundaries:null},Bh(g),n}function y0(n,s,a){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:c==null?null:""+c,children:n,containerInfo:s,implementation:a}}function Dg(n){if(!n)return oi;n=n._reactInternals;e:{if(bn(n)!==n||n.tag!==1)throw Error(t(170));var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(Zt(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(s!==null);throw Error(t(171))}if(n.tag===1){var a=n.type;if(Zt(a))return am(n,a,s)}return s}function Vg(n,s,a,c,d,g,E,A,x){return n=Rd(a,c,!0,n,d,g,E,A,x),n.context=Dg(null),a=n.current,c=Kt(),d=fi(a),g=Nr(c,d),g.callback=s??null,ui(a,g,d),n.current.lanes=d,Xr(n,d,c),nn(n,c),n}function Fu(n,s,a,c){var d=s.current,g=Kt(),E=fi(d);return a=Dg(a),s.context===null?s.context=a:s.pendingContext=a,s=Nr(g,E),s.payload={element:n},c=c===void 0?null:c,c!==null&&(s.callback=c),n=ui(d,s,E),n!==null&&(Wn(n,d,E,g),gu(n,d,E)),E}function Uu(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function Og(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var a=n.retryLane;n.retryLane=a!==0&&a<s?a:s}}function kd(n,s){Og(n,s),(n=n.alternate)&&Og(n,s)}function v0(){return null}var Lg=typeof reportError=="function"?reportError:function(n){console.error(n)};function Nd(n){this._internalRoot=n}Bu.prototype.render=Nd.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(t(409));Fu(n,s,null,null)},Bu.prototype.unmount=Nd.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;fs(function(){Fu(null,n,null,null)}),s[Pr]=null}};function Bu(n){this._internalRoot=n}Bu.prototype.unstable_scheduleHydration=function(n){if(n){var s=Bl();n={blockedOn:null,target:n,priority:s};for(var a=0;a<Jn.length&&s!==0&&s<Jn[a].priority;a++);Jn.splice(a,0,n),a===0&&Wl(n)}};function xd(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function zu(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function Mg(){}function _0(n,s,a,c,d){if(d){if(typeof c=="function"){var g=c;c=function(){var $=Uu(E);g.call($)}}var E=Vg(s,c,n,0,null,!1,!1,"",Mg);return n._reactRootContainer=E,n[Pr]=E.current,Ca(n.nodeType===8?n.parentNode:n),fs(),E}for(;d=n.lastChild;)n.removeChild(d);if(typeof c=="function"){var A=c;c=function(){var $=Uu(x);A.call($)}}var x=Rd(n,0,!1,null,null,!1,!1,"",Mg);return n._reactRootContainer=x,n[Pr]=x.current,Ca(n.nodeType===8?n.parentNode:n),fs(function(){Fu(s,x,a,c)}),x}function $u(n,s,a,c,d){var g=a._reactRootContainer;if(g){var E=g;if(typeof d=="function"){var A=d;d=function(){var x=Uu(E);A.call(x)}}Fu(s,E,n,d)}else E=_0(a,s,n,d,c);return Uu(E)}Fl=function(n){switch(n.tag){case 3:var s=n.stateNode;if(s.current.memoizedState.isDehydrated){var a=Qr(s.pendingLanes);a!==0&&(Jr(s,a|1),nn(s,Ke()),(Fe&6)===0&&(Io=Ke()+500,ai()))}break;case 13:fs(function(){var c=kr(n,1);if(c!==null){var d=Kt();Wn(c,n,1,d)}}),kd(n,1)}},Gs=function(n){if(n.tag===13){var s=kr(n,134217728);if(s!==null){var a=Kt();Wn(s,n,134217728,a)}kd(n,134217728)}},Ul=function(n){if(n.tag===13){var s=fi(n),a=kr(n,s);if(a!==null){var c=Kt();Wn(a,n,s,c)}kd(n,s)}},Bl=function(){return Oe},zl=function(n,s){var a=Oe;try{return Oe=n,s()}finally{Oe=a}},js=function(n,s,a){switch(s){case"input":if(Jo(n,a),s=a.name,a.type==="radio"&&s!=null){for(a=n;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<a.length;s++){var c=a[s];if(c!==n&&c.form===n.form){var d=ou(c);if(!d)throw Error(t(90));mr(c),Jo(c,d)}}}break;case"textarea":Ls(n,a);break;case"select":s=a.value,s!=null&&yr(n,!!a.multiple,s,!1)}},Gi=Td,la=fs;var w0={usingClientEntryPoint:!1,Events:[Na,uo,ou,Yn,aa,Td]},Wa={findFiberByHostInstance:ss,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},E0={bundleType:Wa.bundleType,version:Wa.version,rendererPackageName:Wa.rendererPackageName,rendererConfig:Wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:le.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=ha(n),n===null?null:n.stateNode},findFiberByHostInstance:Wa.findFiberByHostInstance||v0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wu.isDisabled&&Wu.supportsFiber)try{Ji=Wu.inject(E0),ln=Wu}catch{}}return rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=w0,rn.createPortal=function(n,s){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!xd(s))throw Error(t(200));return y0(n,s,null,a)},rn.createRoot=function(n,s){if(!xd(n))throw Error(t(299));var a=!1,c="",d=Lg;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(c=s.identifierPrefix),s.onRecoverableError!==void 0&&(d=s.onRecoverableError)),s=Rd(n,1,!1,null,null,a,!1,c,d),n[Pr]=s.current,Ca(n.nodeType===8?n.parentNode:n),new Nd(s)},rn.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(t(188)):(n=Object.keys(n).join(","),Error(t(268,n)));return n=ha(s),n=n===null?null:n.stateNode,n},rn.flushSync=function(n){return fs(n)},rn.hydrate=function(n,s,a){if(!zu(s))throw Error(t(200));return $u(null,n,s,!0,a)},rn.hydrateRoot=function(n,s,a){if(!xd(n))throw Error(t(405));var c=a!=null&&a.hydratedSources||null,d=!1,g="",E=Lg;if(a!=null&&(a.unstable_strictMode===!0&&(d=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),s=Vg(s,null,n,1,a??null,d,!1,g,E),n[Pr]=s.current,Ca(n),c)for(n=0;n<c.length;n++)a=c[n],d=a._getVersion,d=d(a._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[a,d]:s.mutableSourceEagerHydrationData.push(a,d);return new Bu(s)},rn.render=function(n,s,a){if(!zu(s))throw Error(t(200));return $u(null,n,s,!1,a)},rn.unmountComponentAtNode=function(n){if(!zu(n))throw Error(t(40));return n._reactRootContainer?(fs(function(){$u(null,null,n,!1,function(){n._reactRootContainer=null,n[Pr]=null})}),!0):!1},rn.unstable_batchedUpdates=Td,rn.unstable_renderSubtreeIntoContainer=function(n,s,a,c){if(!zu(a))throw Error(t(200));if(n==null||n._reactInternals===void 0)throw Error(t(38));return $u(n,s,a,!1,c)},rn.version="18.3.1-next-f1338f8080-20240426",rn}var Hg;function Lv(){if(Hg)return Vd.exports;Hg=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Vd.exports=b0(),Vd.exports}var qg;function D0(){if(qg)return Hu;qg=1;var r=Lv();return Hu.createRoot=r.createRoot,Hu.hydrateRoot=r.hydrateRoot,Hu}var V0=D0();Lv();/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function il(){return il=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},il.apply(this,arguments)}var Ii;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Ii||(Ii={}));const Gg="popstate";function O0(r){r===void 0&&(r={});function e(i,o){let{pathname:l,search:h,hash:f}=i.location;return Jd("",{pathname:l,search:h,hash:f},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:cc(o)}return M0(e,t,null,r)}function dt(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Nf(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function L0(){return Math.random().toString(36).substr(2,8)}function Kg(r,e){return{usr:r.state,key:r.key,idx:e}}function Jd(r,e,t,i){return t===void 0&&(t=null),il({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?Bo(e):e,{state:t,key:e&&e.key||i||L0()})}function cc(r){let{pathname:e="/",search:t="",hash:i=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Bo(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let i=r.indexOf("?");i>=0&&(e.search=r.substr(i),r=r.substr(0,i)),r&&(e.pathname=r)}return e}function M0(r,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:l=!1}=i,h=o.history,f=Ii.Pop,p=null,y=w();y==null&&(y=0,h.replaceState(il({},h.state,{idx:y}),""));function w(){return(h.state||{idx:null}).idx}function T(){f=Ii.Pop;let j=w(),oe=j==null?null:j-y;y=j,p&&p({action:f,location:B.location,delta:oe})}function S(j,oe){f=Ii.Push;let H=Jd(B.location,j,oe);y=w()+1;let ne=Kg(H,y),le=B.createHref(H);try{h.pushState(ne,"",le)}catch(Se){if(Se instanceof DOMException&&Se.name==="DataCloneError")throw Se;o.location.assign(le)}l&&p&&p({action:f,location:B.location,delta:1})}function V(j,oe){f=Ii.Replace;let H=Jd(B.location,j,oe);y=w();let ne=Kg(H,y),le=B.createHref(H);h.replaceState(ne,"",le),l&&p&&p({action:f,location:B.location,delta:0})}function O(j){let oe=o.location.origin!=="null"?o.location.origin:o.location.href,H=typeof j=="string"?j:cc(j);return H=H.replace(/ $/,"%20"),dt(oe,"No window.location.(origin|href) available to create URL for href: "+H),new URL(H,oe)}let B={get action(){return f},get location(){return r(o,h)},listen(j){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(Gg,T),p=j,()=>{o.removeEventListener(Gg,T),p=null}},createHref(j){return e(o,j)},createURL:O,encodeLocation(j){let oe=O(j);return{pathname:oe.pathname,search:oe.search,hash:oe.hash}},push:S,replace:V,go(j){return h.go(j)}};return B}var Qg;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Qg||(Qg={}));function j0(r,e,t){return t===void 0&&(t="/"),F0(r,e,t)}function F0(r,e,t,i){let o=typeof e=="string"?Bo(e):e,l=xf(o.pathname||"/",t);if(l==null)return null;let h=Mv(r);U0(h);let f=null;for(let p=0;f==null&&p<h.length;++p){let y=J0(l);f=Q0(h[p],y)}return f}function Mv(r,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(l,h,f)=>{let p={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:h,route:l};p.relativePath.startsWith("/")&&(dt(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=Pi([i,p.relativePath]),w=t.concat(p);l.children&&l.children.length>0&&(dt(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),Mv(l.children,e,w,y)),!(l.path==null&&!l.index)&&e.push({path:y,score:G0(y,l.index),routesMeta:w})};return r.forEach((l,h)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))o(l,h);else for(let p of jv(l.path))o(l,h,p)}),e}function jv(r){let e=r.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),l=t.replace(/\?$/,"");if(i.length===0)return o?[l,""]:[l];let h=jv(i.join("/")),f=[];return f.push(...h.map(p=>p===""?l:[l,p].join("/"))),o&&f.push(...h),f.map(p=>r.startsWith("/")&&p===""?"/":p)}function U0(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:K0(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const B0=/^:[\w-]+$/,z0=3,$0=2,W0=1,H0=10,q0=-2,Yg=r=>r==="*";function G0(r,e){let t=r.split("/"),i=t.length;return t.some(Yg)&&(i+=q0),e&&(i+=$0),t.filter(o=>!Yg(o)).reduce((o,l)=>o+(B0.test(l)?z0:l===""?W0:H0),i)}function K0(r,e){return r.length===e.length&&r.slice(0,-1).every((i,o)=>i===e[o])?r[r.length-1]-e[e.length-1]:0}function Q0(r,e,t){let{routesMeta:i}=r,o={},l="/",h=[];for(let f=0;f<i.length;++f){let p=i[f],y=f===i.length-1,w=l==="/"?e:e.slice(l.length)||"/",T=Y0({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},w),S=p.route;if(!T)return null;Object.assign(o,T.params),h.push({params:o,pathname:Pi([l,T.pathname]),pathnameBase:rT(Pi([l,T.pathnameBase])),route:S}),T.pathnameBase!=="/"&&(l=Pi([l,T.pathnameBase]))}return h}function Y0(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,i]=X0(r.path,r.caseSensitive,r.end),o=e.match(t);if(!o)return null;let l=o[0],h=l.replace(/(.)\/+$/,"$1"),f=o.slice(1);return{params:i.reduce((y,w,T)=>{let{paramName:S,isOptional:V}=w;if(S==="*"){let B=f[T]||"";h=l.slice(0,l.length-B.length).replace(/(.)\/+$/,"$1")}const O=f[T];return V&&!O?y[S]=void 0:y[S]=(O||"").replace(/%2F/g,"/"),y},{}),pathname:l,pathnameBase:h,pattern:r}}function X0(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Nf(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let i=[],o="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,f,p)=>(i.push({paramName:f,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(i.push({paramName:"*"}),o+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":r!==""&&r!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function J0(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Nf(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function xf(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=r.charAt(t);return i&&i!=="/"?null:r.slice(t)||"/"}const Z0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,eT=r=>Z0.test(r);function tT(r,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof r=="string"?Bo(r):r,l;if(t)if(eT(t))l=t;else{if(t.includes("//")){let h=t;t=t.replace(/\/\/+/g,"/"),Nf(!1,"Pathnames cannot have embedded double slashes - normalizing "+(h+" -> "+t))}t.startsWith("/")?l=Xg(t.substring(1),"/"):l=Xg(t,e)}else l=e;return{pathname:l,search:iT(i),hash:sT(o)}}function Xg(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function Md(r,e,t,i){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nT(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function bf(r,e){let t=nT(r);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Df(r,e,t,i){i===void 0&&(i=!1);let o;typeof r=="string"?o=Bo(r):(o=il({},r),dt(!o.pathname||!o.pathname.includes("?"),Md("?","pathname","search",o)),dt(!o.pathname||!o.pathname.includes("#"),Md("#","pathname","hash",o)),dt(!o.search||!o.search.includes("#"),Md("#","search","hash",o)));let l=r===""||o.pathname==="",h=l?"/":o.pathname,f;if(h==null)f=t;else{let T=e.length-1;if(!i&&h.startsWith("..")){let S=h.split("/");for(;S[0]==="..";)S.shift(),T-=1;o.pathname=S.join("/")}f=T>=0?e[T]:"/"}let p=tT(o,f),y=h&&h!=="/"&&h.endsWith("/"),w=(l||h===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||w)&&(p.pathname+="/"),p}const Pi=r=>r.join("/").replace(/\/\/+/g,"/"),rT=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),iT=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,sT=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function oT(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Fv=["post","put","patch","delete"];new Set(Fv);const aT=["get",...Fv];new Set(aT);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function sl(){return sl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},sl.apply(this,arguments)}const Vf=G.createContext(null),lT=G.createContext(null),ji=G.createContext(null),Oc=G.createContext(null),Wr=G.createContext({outlet:null,matches:[],isDataRoute:!1}),Uv=G.createContext(null);function uT(r,e){let{relative:t}=e===void 0?{}:e;zo()||dt(!1);let{basename:i,navigator:o}=G.useContext(ji),{hash:l,pathname:h,search:f}=zv(r,{relative:t}),p=h;return i!=="/"&&(p=h==="/"?i:Pi([i,h])),o.createHref({pathname:p,search:f,hash:l})}function zo(){return G.useContext(Oc)!=null}function $o(){return zo()||dt(!1),G.useContext(Oc).location}function Bv(r){G.useContext(ji).static||G.useLayoutEffect(r)}function Wo(){let{isDataRoute:r}=G.useContext(Wr);return r?IT():cT()}function cT(){zo()||dt(!1);let r=G.useContext(Vf),{basename:e,future:t,navigator:i}=G.useContext(ji),{matches:o}=G.useContext(Wr),{pathname:l}=$o(),h=JSON.stringify(bf(o,t.v7_relativeSplatPath)),f=G.useRef(!1);return Bv(()=>{f.current=!0}),G.useCallback(function(y,w){if(w===void 0&&(w={}),!f.current)return;if(typeof y=="number"){i.go(y);return}let T=Df(y,JSON.parse(h),l,w.relative==="path");r==null&&e!=="/"&&(T.pathname=T.pathname==="/"?e:Pi([e,T.pathname])),(w.replace?i.replace:i.push)(T,w.state,w)},[e,i,h,l,r])}function hT(){let{matches:r}=G.useContext(Wr),e=r[r.length-1];return e?e.params:{}}function zv(r,e){let{relative:t}=e===void 0?{}:e,{future:i}=G.useContext(ji),{matches:o}=G.useContext(Wr),{pathname:l}=$o(),h=JSON.stringify(bf(o,i.v7_relativeSplatPath));return G.useMemo(()=>Df(r,JSON.parse(h),l,t==="path"),[r,h,l,t])}function dT(r,e){return fT(r,e)}function fT(r,e,t,i){zo()||dt(!1);let{navigator:o}=G.useContext(ji),{matches:l}=G.useContext(Wr),h=l[l.length-1],f=h?h.params:{};h&&h.pathname;let p=h?h.pathnameBase:"/";h&&h.route;let y=$o(),w;if(e){var T;let j=typeof e=="string"?Bo(e):e;p==="/"||(T=j.pathname)!=null&&T.startsWith(p)||dt(!1),w=j}else w=y;let S=w.pathname||"/",V=S;if(p!=="/"){let j=p.replace(/^\//,"").split("/");V="/"+S.replace(/^\//,"").split("/").slice(j.length).join("/")}let O=j0(r,{pathname:V}),B=vT(O&&O.map(j=>Object.assign({},j,{params:Object.assign({},f,j.params),pathname:Pi([p,o.encodeLocation?o.encodeLocation(j.pathname).pathname:j.pathname]),pathnameBase:j.pathnameBase==="/"?p:Pi([p,o.encodeLocation?o.encodeLocation(j.pathnameBase).pathname:j.pathnameBase])})),l,t,i);return e&&B?G.createElement(Oc.Provider,{value:{location:sl({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:Ii.Pop}},B):B}function pT(){let r=TT(),e=oT(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return G.createElement(G.Fragment,null,G.createElement("h2",null,"Unexpected Application Error!"),G.createElement("h3",{style:{fontStyle:"italic"}},e),t?G.createElement("pre",{style:o},t):null,null)}const mT=G.createElement(pT,null);class gT extends G.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?G.createElement(Wr.Provider,{value:this.props.routeContext},G.createElement(Uv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function yT(r){let{routeContext:e,match:t,children:i}=r,o=G.useContext(Vf);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),G.createElement(Wr.Provider,{value:e},i)}function vT(r,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),r==null){var l;if(!t)return null;if(t.errors)r=t.matches;else if((l=i)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let h=r,f=(o=t)==null?void 0:o.errors;if(f!=null){let w=h.findIndex(T=>T.route.id&&(f==null?void 0:f[T.route.id])!==void 0);w>=0||dt(!1),h=h.slice(0,Math.min(h.length,w+1))}let p=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let w=0;w<h.length;w++){let T=h[w];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=w),T.route.id){let{loaderData:S,errors:V}=t,O=T.route.loader&&S[T.route.id]===void 0&&(!V||V[T.route.id]===void 0);if(T.route.lazy||O){p=!0,y>=0?h=h.slice(0,y+1):h=[h[0]];break}}}return h.reduceRight((w,T,S)=>{let V,O=!1,B=null,j=null;t&&(V=f&&T.route.id?f[T.route.id]:void 0,B=T.route.errorElement||mT,p&&(y<0&&S===0?(ST("route-fallback"),O=!0,j=null):y===S&&(O=!0,j=T.route.hydrateFallbackElement||null)));let oe=e.concat(h.slice(0,S+1)),H=()=>{let ne;return V?ne=B:O?ne=j:T.route.Component?ne=G.createElement(T.route.Component,null):T.route.element?ne=T.route.element:ne=w,G.createElement(yT,{match:T,routeContext:{outlet:w,matches:oe,isDataRoute:t!=null},children:ne})};return t&&(T.route.ErrorBoundary||T.route.errorElement||S===0)?G.createElement(gT,{location:t.location,revalidation:t.revalidation,component:B,error:V,children:H(),routeContext:{outlet:null,matches:oe,isDataRoute:!0}}):H()},null)}var $v=(function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r})($v||{}),Wv=(function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r})(Wv||{});function _T(r){let e=G.useContext(Vf);return e||dt(!1),e}function wT(r){let e=G.useContext(lT);return e||dt(!1),e}function ET(r){let e=G.useContext(Wr);return e||dt(!1),e}function Hv(r){let e=ET(),t=e.matches[e.matches.length-1];return t.route.id||dt(!1),t.route.id}function TT(){var r;let e=G.useContext(Uv),t=wT(),i=Hv();return e!==void 0?e:(r=t.errors)==null?void 0:r[i]}function IT(){let{router:r}=_T($v.UseNavigateStable),e=Hv(Wv.UseNavigateStable),t=G.useRef(!1);return Bv(()=>{t.current=!0}),G.useCallback(function(o,l){l===void 0&&(l={}),t.current&&(typeof o=="number"?r.navigate(o):r.navigate(o,sl({fromRouteId:e},l)))},[r,e])}const Jg={};function ST(r,e,t){Jg[r]||(Jg[r]=!0)}function PT(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function hc(r){let{to:e,replace:t,state:i,relative:o}=r;zo()||dt(!1);let{future:l,static:h}=G.useContext(ji),{matches:f}=G.useContext(Wr),{pathname:p}=$o(),y=Wo(),w=Df(e,bf(f,l.v7_relativeSplatPath),p,o==="path"),T=JSON.stringify(w);return G.useEffect(()=>y(JSON.parse(T),{replace:t,state:i,relative:o}),[y,T,o,t,i]),null}function vi(r){dt(!1)}function AT(r){let{basename:e="/",children:t=null,location:i,navigationType:o=Ii.Pop,navigator:l,static:h=!1,future:f}=r;zo()&&dt(!1);let p=e.replace(/^\/*/,"/"),y=G.useMemo(()=>({basename:p,navigator:l,static:h,future:sl({v7_relativeSplatPath:!1},f)}),[p,f,l,h]);typeof i=="string"&&(i=Bo(i));let{pathname:w="/",search:T="",hash:S="",state:V=null,key:O="default"}=i,B=G.useMemo(()=>{let j=xf(w,p);return j==null?null:{location:{pathname:j,search:T,hash:S,state:V,key:O},navigationType:o}},[p,w,T,S,V,O,o]);return B==null?null:G.createElement(ji.Provider,{value:y},G.createElement(Oc.Provider,{children:t,value:B}))}function CT(r){let{children:e,location:t}=r;return dT(Zd(e),t)}new Promise(()=>{});function Zd(r,e){e===void 0&&(e=[]);let t=[];return G.Children.forEach(r,(i,o)=>{if(!G.isValidElement(i))return;let l=[...e,o];if(i.type===G.Fragment){t.push.apply(t,Zd(i.props.children,l));return}i.type!==vi&&dt(!1),!i.props.index||!i.props.children||dt(!1);let h={id:i.props.id||l.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(h.children=Zd(i.props.children,l)),t.push(h)}),t}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ef(){return ef=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=t[i])}return r},ef.apply(this,arguments)}function RT(r,e){if(r==null)return{};var t={},i=Object.keys(r),o,l;for(l=0;l<i.length;l++)o=i[l],!(e.indexOf(o)>=0)&&(t[o]=r[o]);return t}function kT(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function NT(r,e){return r.button===0&&(!e||e==="_self")&&!kT(r)}const xT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bT="6";try{window.__reactRouterVersion=bT}catch{}const DT="startTransition",Zg=k0[DT];function VT(r){let{basename:e,children:t,future:i,window:o}=r,l=G.useRef();l.current==null&&(l.current=O0({window:o,v5Compat:!0}));let h=l.current,[f,p]=G.useState({action:h.action,location:h.location}),{v7_startTransition:y}=i||{},w=G.useCallback(T=>{y&&Zg?Zg(()=>p(T)):p(T)},[p,y]);return G.useLayoutEffect(()=>h.listen(w),[h,w]),G.useEffect(()=>PT(i),[i]),G.createElement(AT,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:h,future:i})}const OT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ar=G.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:l,replace:h,state:f,target:p,to:y,preventScrollReset:w,viewTransition:T}=e,S=RT(e,xT),{basename:V}=G.useContext(ji),O,B=!1;if(typeof y=="string"&&LT.test(y)&&(O=y,OT))try{let ne=new URL(window.location.href),le=y.startsWith("//")?new URL(ne.protocol+y):new URL(y),Se=xf(le.pathname,V);le.origin===ne.origin&&Se!=null?y=Se+le.search+le.hash:B=!0}catch{}let j=uT(y,{relative:o}),oe=MT(y,{replace:h,state:f,target:p,preventScrollReset:w,relative:o,viewTransition:T});function H(ne){i&&i(ne),ne.defaultPrevented||oe(ne)}return G.createElement("a",ef({},S,{href:O||j,onClick:B||l?i:H,ref:t,target:p}))});var ey;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(ey||(ey={}));var ty;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(ty||(ty={}));function MT(r,e){let{target:t,replace:i,state:o,preventScrollReset:l,relative:h,viewTransition:f}=e===void 0?{}:e,p=Wo(),y=$o(),w=zv(r,{relative:h});return G.useCallback(T=>{if(NT(T,t)){T.preventDefault();let S=i!==void 0?i:cc(y)===cc(w);p(r,{replace:S,state:o,preventScrollReset:l,relative:h,viewTransition:f})}},[y,p,w,i,o,t,r,l,h,f])}const jT=()=>{};var ny={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qv=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let o=r.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},FT=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const o=r[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const l=r[t++];e[i++]=String.fromCharCode((o&31)<<6|l&63)}else if(o>239&&o<365){const l=r[t++],h=r[t++],f=r[t++],p=((o&7)<<18|(l&63)<<12|(h&63)<<6|f&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const l=r[t++],h=r[t++];e[i++]=String.fromCharCode((o&15)<<12|(l&63)<<6|h&63)}}return e.join("")},Gv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<r.length;o+=3){const l=r[o],h=o+1<r.length,f=h?r[o+1]:0,p=o+2<r.length,y=p?r[o+2]:0,w=l>>2,T=(l&3)<<4|f>>4;let S=(f&15)<<2|y>>6,V=y&63;p||(V=64,h||(S=64)),i.push(t[w],t[T],t[S],t[V])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(qv(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):FT(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<r.length;){const l=t[r.charAt(o++)],f=o<r.length?t[r.charAt(o)]:0;++o;const y=o<r.length?t[r.charAt(o)]:64;++o;const T=o<r.length?t[r.charAt(o)]:64;if(++o,l==null||f==null||y==null||T==null)throw new UT;const S=l<<2|f>>4;if(i.push(S),y!==64){const V=f<<4&240|y>>2;if(i.push(V),T!==64){const O=y<<6&192|T;i.push(O)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class UT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BT=function(r){const e=qv(r);return Gv.encodeByteArray(e,!0)},dc=function(r){return BT(r).replace(/\./g,"")},Kv=function(r){try{return Gv.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=()=>zT().__FIREBASE_DEFAULTS__,WT=()=>{if(typeof process>"u"||typeof ny>"u")return;const r=ny.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},HT=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Kv(r[1]);return e&&JSON.parse(e)},Lc=()=>{try{return jT()||$T()||WT()||HT()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Qv=r=>{var e,t;return(t=(e=Lc())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},qT=r=>{const e=Qv(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},Yv=()=>{var r;return(r=Lc())===null||r===void 0?void 0:r.config},Xv=r=>{var e;return(e=Lc())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Jv(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KT(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[dc(JSON.stringify(t)),dc(JSON.stringify(h)),""].join(".")}const Ja={};function QT(){const r={prod:[],emulator:[]};for(const e of Object.keys(Ja))Ja[e]?r.emulator.push(e):r.prod.push(e);return r}function YT(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let ry=!1;function Zv(r,e){if(typeof window>"u"||typeof document>"u"||!Ho(window.location.host)||Ja[r]===e||Ja[r]||ry)return;Ja[r]=e;function t(S){return`__firebase__banner__${S}`}const i="__firebase__banner",l=QT().prod.length>0;function h(){const S=document.getElementById(i);S&&S.remove()}function f(S){S.style.display="flex",S.style.background="#7faaf0",S.style.position="fixed",S.style.bottom="5px",S.style.left="5px",S.style.padding=".5em",S.style.borderRadius="5px",S.style.alignItems="center"}function p(S,V){S.setAttribute("width","24"),S.setAttribute("id",V),S.setAttribute("height","24"),S.setAttribute("viewBox","0 0 24 24"),S.setAttribute("fill","none"),S.style.marginLeft="-6px"}function y(){const S=document.createElement("span");return S.style.cursor="pointer",S.style.marginLeft="16px",S.style.fontSize="24px",S.innerHTML=" &times;",S.onclick=()=>{ry=!0,h()},S}function w(S,V){S.setAttribute("id",V),S.innerText="Learn more",S.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",S.setAttribute("target","__blank"),S.style.paddingLeft="5px",S.style.textDecoration="underline"}function T(){const S=YT(i),V=t("text"),O=document.getElementById(V)||document.createElement("span"),B=t("learnmore"),j=document.getElementById(B)||document.createElement("a"),oe=t("preprendIcon"),H=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(S.created){const ne=S.element;f(ne),w(j,B);const le=y();p(H,oe),ne.append(H,O,j,le),document.body.appendChild(ne)}l?(O.innerText="Preview backend disconnected.",H.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(H.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,O.innerText="Preview backend running in this workspace."),O.setAttribute("id",V)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function JT(){var r;const e=(r=Lc())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ZT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eI(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function tI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nI(){const r=Wt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function rI(){return!JT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iI(){try{return typeof indexedDB=="object"}catch{return!1}}function sI(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var l;e(((l=o.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="FirebaseError";class Hr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=oI,Object.setPrototypeOf(this,Hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gl.prototype.create)}}class gl{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,l=this.errors[e],h=l?aI(l,i):"Error",f=`${this.serviceName}: ${h} (${o}).`;return new Hr(o,f,i)}}function aI(r,e){return r.replace(lI,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const lI=/\{\$([^}]+)}/g;function uI(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ts(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const l=r[o],h=e[o];if(iy(l)&&iy(h)){if(!Ts(l,h))return!1}else if(l!==h)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function iy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yl(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function qa(r){const e={};return r.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,l]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(l)}}),e}function Ga(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function cI(r,e){const t=new hI(r,e);return t.subscribe.bind(t)}class hI{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");dI(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=jd),o.error===void 0&&(o.error=jd),o.complete===void 0&&(o.complete=jd);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function dI(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function jd(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ft(r){return r&&r._delegate?r._delegate:r}class Is{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new GT;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(o)return null;throw l}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mI(e))try{this.getOrInitializeService({instanceIdentifier:ys})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:o});i.resolve(l)}catch{}}}}clearInstance(e=ys){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ys){return this.instances.has(e)}getOptions(e=ys){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,h]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);i===f&&h.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),l=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;l.add(e),this.onInitCallbacks.set(o,l);const h=this.instances.get(o);return h&&e(h,o),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:pI(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=ys){return this.component?this.component.multipleInstances?e:ys:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pI(r){return r===ys?void 0:r}function mI(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new fI(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(De||(De={}));const yI={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},vI=De.INFO,_I={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},wI=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),o=_I[e];if(o)console[o](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Of{constructor(e){this.name=e,this._logLevel=vI,this._logHandler=wI,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yI[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const EI=(r,e)=>e.some(t=>r instanceof t);let sy,oy;function TI(){return sy||(sy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function II(){return oy||(oy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const e_=new WeakMap,tf=new WeakMap,t_=new WeakMap,Fd=new WeakMap,Lf=new WeakMap;function SI(r){const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("success",l),r.removeEventListener("error",h)},l=()=>{t(Ai(r.result)),o()},h=()=>{i(r.error),o()};r.addEventListener("success",l),r.addEventListener("error",h)});return e.then(t=>{t instanceof IDBCursor&&e_.set(t,r)}).catch(()=>{}),Lf.set(e,r),e}function PI(r){if(tf.has(r))return;const e=new Promise((t,i)=>{const o=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",h),r.removeEventListener("abort",h)},l=()=>{t(),o()},h=()=>{i(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",l),r.addEventListener("error",h),r.addEventListener("abort",h)});tf.set(r,e)}let nf={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return tf.get(r);if(e==="objectStoreNames")return r.objectStoreNames||t_.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ai(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function AI(r){nf=r(nf)}function CI(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(Ud(this),e,...t);return t_.set(i,e.sort?e.sort():[e]),Ai(i)}:II().includes(r)?function(...e){return r.apply(Ud(this),e),Ai(e_.get(this))}:function(...e){return Ai(r.apply(Ud(this),e))}}function RI(r){return typeof r=="function"?CI(r):(r instanceof IDBTransaction&&PI(r),EI(r,TI())?new Proxy(r,nf):r)}function Ai(r){if(r instanceof IDBRequest)return SI(r);if(Fd.has(r))return Fd.get(r);const e=RI(r);return e!==r&&(Fd.set(r,e),Lf.set(e,r)),e}const Ud=r=>Lf.get(r);function kI(r,e,{blocked:t,upgrade:i,blocking:o,terminated:l}={}){const h=indexedDB.open(r,e),f=Ai(h);return i&&h.addEventListener("upgradeneeded",p=>{i(Ai(h.result),p.oldVersion,p.newVersion,Ai(h.transaction),p)}),t&&h.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),f.then(p=>{l&&p.addEventListener("close",()=>l()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),f}const NI=["get","getKey","getAll","getAllKeys","count"],xI=["put","add","delete","clear"],Bd=new Map;function ay(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Bd.get(e))return Bd.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=xI.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||NI.includes(t)))return;const l=async function(h,...f){const p=this.transaction(h,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(f.shift())),(await Promise.all([y[t](...f),o&&p.done]))[0]};return Bd.set(e,l),l}AI(r=>({...r,get:(e,t,i)=>ay(e,t)||r.get(e,t,i),has:(e,t)=>!!ay(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bI{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(DI(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function DI(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rf="@firebase/app",ly="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fr=new Of("@firebase/app"),VI="@firebase/app-compat",OI="@firebase/analytics-compat",LI="@firebase/analytics",MI="@firebase/app-check-compat",jI="@firebase/app-check",FI="@firebase/auth",UI="@firebase/auth-compat",BI="@firebase/database",zI="@firebase/data-connect",$I="@firebase/database-compat",WI="@firebase/functions",HI="@firebase/functions-compat",qI="@firebase/installations",GI="@firebase/installations-compat",KI="@firebase/messaging",QI="@firebase/messaging-compat",YI="@firebase/performance",XI="@firebase/performance-compat",JI="@firebase/remote-config",ZI="@firebase/remote-config-compat",eS="@firebase/storage",tS="@firebase/storage-compat",nS="@firebase/firestore",rS="@firebase/ai",iS="@firebase/firestore-compat",sS="firebase",oS="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sf="[DEFAULT]",aS={[rf]:"fire-core",[VI]:"fire-core-compat",[LI]:"fire-analytics",[OI]:"fire-analytics-compat",[jI]:"fire-app-check",[MI]:"fire-app-check-compat",[FI]:"fire-auth",[UI]:"fire-auth-compat",[BI]:"fire-rtdb",[zI]:"fire-data-connect",[$I]:"fire-rtdb-compat",[WI]:"fire-fn",[HI]:"fire-fn-compat",[qI]:"fire-iid",[GI]:"fire-iid-compat",[KI]:"fire-fcm",[QI]:"fire-fcm-compat",[YI]:"fire-perf",[XI]:"fire-perf-compat",[JI]:"fire-rc",[ZI]:"fire-rc-compat",[eS]:"fire-gcs",[tS]:"fire-gcs-compat",[nS]:"fire-fst",[iS]:"fire-fst-compat",[rS]:"fire-vertex","fire-js":"fire-js",[sS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc=new Map,lS=new Map,of=new Map;function uy(r,e){try{r.container.addComponent(e)}catch(t){Fr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Vo(r){const e=r.name;if(of.has(e))return Fr.debug(`There were multiple attempts to register component ${e}.`),!1;of.set(e,r);for(const t of fc.values())uy(t,r);for(const t of lS.values())uy(t,r);return!0}function Mf(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function Cn(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ci=new gl("app","Firebase",uS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cS{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ci.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=oS;function n_(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i=Object.assign({name:sf,automaticDataCollectionEnabled:!0},e),o=i.name;if(typeof o!="string"||!o)throw Ci.create("bad-app-name",{appName:String(o)});if(t||(t=Yv()),!t)throw Ci.create("no-options");const l=fc.get(o);if(l){if(Ts(t,l.options)&&Ts(i,l.config))return l;throw Ci.create("duplicate-app",{appName:o})}const h=new gI(o);for(const p of of.values())h.addComponent(p);const f=new cS(t,i,h);return fc.set(o,f),f}function r_(r=sf){const e=fc.get(r);if(!e&&r===sf&&Yv())return n_();if(!e)throw Ci.create("no-app",{appName:r});return e}function Ri(r,e,t){var i;let o=(i=aS[r])!==null&&i!==void 0?i:r;t&&(o+=`-${t}`);const l=o.match(/\s|\//),h=e.match(/\s|\//);if(l||h){const f=[`Unable to register library "${o}" with version "${e}":`];l&&f.push(`library name "${o}" contains illegal characters (whitespace or "/")`),l&&h&&f.push("and"),h&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fr.warn(f.join(" "));return}Vo(new Is(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hS="firebase-heartbeat-database",dS=1,ol="firebase-heartbeat-store";let zd=null;function i_(){return zd||(zd=kI(hS,dS,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ol)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ci.create("idb-open",{originalErrorMessage:r.message})})),zd}async function fS(r){try{const t=(await i_()).transaction(ol),i=await t.objectStore(ol).get(s_(r));return await t.done,i}catch(e){if(e instanceof Hr)Fr.warn(e.message);else{const t=Ci.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fr.warn(t.message)}}}async function cy(r,e){try{const i=(await i_()).transaction(ol,"readwrite");await i.objectStore(ol).put(e,s_(r)),await i.done}catch(t){if(t instanceof Hr)Fr.warn(t.message);else{const i=Ci.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Fr.warn(i.message)}}}function s_(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pS=1024,mS=30;class gS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=hy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(h=>h.date===l))return;if(this._heartbeatsCache.heartbeats.push({date:l,agent:o}),this._heartbeatsCache.heartbeats.length>mS){const h=_S(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(i){Fr.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hy(),{heartbeatsToSend:i,unsentEntries:o}=yS(this._heartbeatsCache.heartbeats),l=dc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Fr.warn(t),""}}}function hy(){return new Date().toISOString().substring(0,10)}function yS(r,e=pS){const t=[];let i=r.slice();for(const o of r){const l=t.find(h=>h.agent===o.agent);if(l){if(l.dates.push(o.date),dy(t)>e){l.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),dy(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class vS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iI()?sI().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await fS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return cy(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function dy(r){return dc(JSON.stringify({version:2,heartbeats:r})).length}function _S(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wS(r){Vo(new Is("platform-logger",e=>new bI(e),"PRIVATE")),Vo(new Is("heartbeat",e=>new gS(e),"PRIVATE")),Ri(rf,ly,r),Ri(rf,ly,"esm2017"),Ri("fire-js","")}wS("");function jf(r,e){var t={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&e.indexOf(i)<0&&(t[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(r);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(r,i[o])&&(t[i[o]]=r[i[o]]);return t}function o_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const ES=o_,a_=new gl("auth","Firebase",o_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Of("@firebase/auth");function TS(r,...e){pc.logLevel<=De.WARN&&pc.warn(`Auth (${qo}): ${r}`,...e)}function ec(r,...e){pc.logLevel<=De.ERROR&&pc.error(`Auth (${qo}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qn(r,...e){throw Ff(r,...e)}function lr(r,...e){return Ff(r,...e)}function l_(r,e,t){const i=Object.assign(Object.assign({},ES()),{[e]:t});return new gl("auth","Firebase",i).create(e,{appName:r.name})}function Lr(r){return l_(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ff(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return a_.create(r,...e)}function Te(r,e,...t){if(!r)throw Ff(e,...t)}function Vr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw ec(e),new Error(e)}function Ur(r,e){r||Vr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function IS(){return fy()==="http:"||fy()==="https:"}function fy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(IS()||eI()||"connection"in navigator)?navigator.onLine:!0}function PS(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ur(t>e,"Short delay should be less than long delay!"),this.isMobile=XT()||tI()}get(){return SS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uf(r,e){Ur(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CS=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],RS=new vl(3e4,6e4);function Fi(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function qr(r,e,t,i,o={}){return c_(r,o,async()=>{let l={},h={};i&&(e==="GET"?h=i:l={body:JSON.stringify(i)});const f=yl(Object.assign({key:r.config.apiKey},h)).slice(1),p=await r._getAdditionalHeaders();p["Content-Type"]="application/json",r.languageCode&&(p["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:p},l);return ZT()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&Ho(r.emulatorConfig.host)&&(y.credentials="include"),u_.fetch()(await h_(r,r.config.apiHost,t,f),y)})}async function c_(r,e,t){r._canInitEmulator=!1;const i=Object.assign(Object.assign({},AS),e);try{const o=new NS(r),l=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const h=await l.json();if("needConfirmation"in h)throw qu(r,"account-exists-with-different-credential",h);if(l.ok&&!("errorMessage"in h))return h;{const f=l.ok?h.errorMessage:h.error.message,[p,y]=f.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw qu(r,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw qu(r,"email-already-in-use",h);if(p==="USER_DISABLED")throw qu(r,"user-disabled",h);const w=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw l_(r,w,y);qn(r,w)}}catch(o){if(o instanceof Hr)throw o;qn(r,"network-request-failed",{message:String(o)})}}async function _l(r,e,t,i,o={}){const l=await qr(r,e,t,i,o);return"mfaPendingCredential"in l&&qn(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function h_(r,e,t,i){const o=`${e}${t}?${i}`,l=r,h=l.config.emulator?Uf(r.config,o):`${r.config.apiScheme}://${o}`;return CS.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(h).toString():h}function kS(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(lr(this.auth,"network-request-failed")),RS.get())})}}function qu(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=lr(r,e,i);return o.customData._tokenResponse=t,o}function py(r){return r!==void 0&&r.enterprise!==void 0}class xS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return kS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bS(r,e){return qr(r,"GET","/v2/recaptchaConfig",Fi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DS(r,e){return qr(r,"POST","/v1/accounts:delete",e)}async function mc(r,e){return qr(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Za(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function VS(r,e=!1){const t=ft(r),i=await t.getIdToken(e),o=Bf(i);Te(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const l=typeof o.firebase=="object"?o.firebase:void 0,h=l==null?void 0:l.sign_in_provider;return{claims:o,token:i,authTime:Za($d(o.auth_time)),issuedAtTime:Za($d(o.iat)),expirationTime:Za($d(o.exp)),signInProvider:h||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function $d(r){return Number(r)*1e3}function Bf(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return ec("JWT malformed, contained fewer than 3 sections"),null;try{const o=Kv(t);return o?JSON.parse(o):(ec("Failed to decode base64 JWT payload"),null)}catch(o){return ec("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function my(r){const e=Bf(r);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Oo(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Hr&&OS(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function OS({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Za(this.lastLoginAt),this.creationTime=Za(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gc(r){var e;const t=r.auth,i=await r.getIdToken(),o=await Oo(r,mc(t,{idToken:i}));Te(o==null?void 0:o.users.length,t,"internal-error");const l=o.users[0];r._notifyReloadListener(l);const h=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?d_(l.providerUserInfo):[],f=jS(r.providerData,h),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),w=p?y:!1,T={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new lf(l.createdAt,l.lastLoginAt),isAnonymous:w};Object.assign(r,T)}async function MS(r){const e=ft(r);await gc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function jS(r,e){return[...r.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function d_(r){return r.map(e=>{var{providerId:t}=e,i=jf(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(r,e){const t=await c_(r,{},async()=>{const i=yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:l}=r.config,h=await h_(r,o,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();f["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:f,body:i};return r.emulatorConfig&&Ho(r.emulatorConfig.host)&&(p.credentials="include"),u_.fetch()(h,p)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function US(r,e){return qr(r,"POST","/v2/accounts:revokeToken",Fi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):my(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const t=my(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:l}=await FS(e,t);this.updateTokensAndExpiration(i,o,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:l}=t,h=new No;return i&&(Te(typeof i=="string","internal-error",{appName:e}),h.refreshToken=i),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),l&&(Te(typeof l=="number","internal-error",{appName:e}),h.expirationTime=l),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new No,this.toJSON())}_performRefresh(){return Vr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(r,e){Te(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Hn{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,l=jf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new lf(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Oo(this,this.stsTokenManager.getToken(this.auth,e));return Te(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return VS(this,e)}reload(){return MS(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Hn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await gc(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Cn(this.auth.app))return Promise.reject(Lr(this.auth));const e=await this.getIdToken();return await Oo(this,DS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,l,h,f,p,y,w;const T=(i=t.displayName)!==null&&i!==void 0?i:void 0,S=(o=t.email)!==null&&o!==void 0?o:void 0,V=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,O=(h=t.photoURL)!==null&&h!==void 0?h:void 0,B=(f=t.tenantId)!==null&&f!==void 0?f:void 0,j=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,oe=(y=t.createdAt)!==null&&y!==void 0?y:void 0,H=(w=t.lastLoginAt)!==null&&w!==void 0?w:void 0,{uid:ne,emailVerified:le,isAnonymous:Se,providerData:re,stsTokenManager:k}=t;Te(ne&&k,e,"internal-error");const P=No.fromJSON(this.name,k);Te(typeof ne=="string",e,"internal-error"),yi(T,e.name),yi(S,e.name),Te(typeof le=="boolean",e,"internal-error"),Te(typeof Se=="boolean",e,"internal-error"),yi(V,e.name),yi(O,e.name),yi(B,e.name),yi(j,e.name),yi(oe,e.name),yi(H,e.name);const C=new Hn({uid:ne,auth:e,email:S,emailVerified:le,displayName:T,isAnonymous:Se,photoURL:O,phoneNumber:V,tenantId:B,stsTokenManager:P,createdAt:oe,lastLoginAt:H});return re&&Array.isArray(re)&&(C.providerData=re.map(b=>Object.assign({},b))),j&&(C._redirectEventId=j),C}static async _fromIdTokenResponse(e,t,i=!1){const o=new No;o.updateFromServerResponse(t);const l=new Hn({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await gc(l),l}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];Te(o.localId!==void 0,"internal-error");const l=o.providerUserInfo!==void 0?d_(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!(l!=null&&l.length),f=new No;f.updateFromIdToken(i);const p=new Hn({uid:o.localId,auth:e,stsTokenManager:f,isAnonymous:h}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:l,metadata:new lf(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(l!=null&&l.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gy=new Map;function Or(r){Ur(r instanceof Function,"Expected a class definition");let e=gy.get(r);return e?(Ur(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,gy.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}f_.type="NONE";const yy=f_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tc(r,e,t){return`firebase:${r}:${e}:${t}`}class xo{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:l}=this.auth;this.fullUserKey=tc(this.userKey,o.apiKey,l),this.fullPersistenceKey=tc("persistence",o.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await mc(this.auth,{idToken:e}).catch(()=>{});return t?Hn._fromGetAccountInfoResponse(this.auth,t,e):null}return Hn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new xo(Or(yy),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let l=o[0]||Or(yy);const h=tc(i,e.config.apiKey,e.name);let f=null;for(const y of t)try{const w=await y._get(h);if(w){let T;if(typeof w=="string"){const S=await mc(e,{idToken:w}).catch(()=>{});if(!S)break;T=await Hn._fromGetAccountInfoResponse(e,S,w)}else T=Hn._fromJSON(e,w);y!==l&&(f=T),l=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!l._shouldAllowMigration||!p.length?new xo(l,e,i):(l=p[0],f&&await l._set(h,f.toJSON()),await Promise.all(t.map(async y=>{if(y!==l)try{await y._remove(h)}catch{}})),new xo(l,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(__(e))return"Blackberry";if(w_(e))return"Webos";if(m_(e))return"Safari";if((e.includes("chrome/")||g_(e))&&!e.includes("edge/"))return"Chrome";if(v_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function p_(r=Wt()){return/firefox\//i.test(r)}function m_(r=Wt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function g_(r=Wt()){return/crios\//i.test(r)}function y_(r=Wt()){return/iemobile/i.test(r)}function v_(r=Wt()){return/android/i.test(r)}function __(r=Wt()){return/blackberry/i.test(r)}function w_(r=Wt()){return/webos/i.test(r)}function zf(r=Wt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function BS(r=Wt()){var e;return zf(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zS(){return nI()&&document.documentMode===10}function E_(r=Wt()){return zf(r)||v_(r)||w_(r)||__(r)||/windows phone/i.test(r)||y_(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T_(r,e=[]){let t;switch(r){case"Browser":t=vy(Wt());break;case"Worker":t=`${vy(Wt())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${qo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((h,f)=>{try{const p=e(l);h(p)}catch(p){f(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WS(r,e={}){return qr(r,"GET","/v2/passwordPolicy",Fi(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HS=6;class qS{constructor(e){var t,i,o,l;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=h.minPasswordLength)!==null&&t!==void 0?t:HS,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,l,h,f;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(l=p.containsUppercaseLetter)!==null&&l!==void 0?l:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(f=p.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GS{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _y(this),this.idTokenSubscription=new _y(this),this.beforeStateQueue=new $S(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=a_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Or(t)),this._initializationPromise=this.queue(async()=>{var i,o,l;if(!this._deleted&&(this.persistenceManager=await xo.create(this,e),(i=this._resolvePersistenceManagerAvailable)===null||i===void 0||i.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await mc(this,{idToken:e}),i=await Hn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Cn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(f,f))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===f)&&(p!=null&&p.user)&&(o=p.user,l=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await gc(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=PS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Cn(this.app))return Promise.reject(Lr(this));const t=e?ft(e):null;return t&&Te(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Cn(this.app)?Promise.reject(Lr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Cn(this.app)?Promise.reject(Lr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Or(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await WS(this),t=new qS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new gl("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await US(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Or(e)||this._popupRedirectResolver;Te(t,this,"argument-error"),this.redirectPersistenceManager=await xo.create(this,[Or(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let h=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(f,this,"internal-error"),f.then(()=>{h||l(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{h=!0,p()}}else{const p=e.addObserver(t);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=T_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;if(Cn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&TS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Rs(r){return ft(r)}class _y{constructor(e){this.auth=e,this.observer=null,this.addObserver=cI(t=>this.observer=t)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function KS(r){Mc=r}function I_(r){return Mc.loadJS(r)}function QS(){return Mc.recaptchaEnterpriseScript}function YS(){return Mc.gapiScript}function XS(r){return`__${r}${Math.floor(Math.random()*1e6)}`}class JS{constructor(){this.enterprise=new ZS}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class ZS{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const eP="recaptcha-enterprise",S_="NO_RECAPTCHA";class tP{constructor(e){this.type=eP,this.auth=Rs(e)}async verify(e="verify",t=!1){async function i(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(h,f)=>{bS(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const y=new xS(p);return l.tenantId==null?l._agentRecaptchaConfig=y:l._tenantRecaptchaConfigs[l.tenantId]=y,h(y.siteKey)}}).catch(p=>{f(p)})})}function o(l,h,f){const p=window.grecaptcha;py(p)?p.enterprise.ready(()=>{p.enterprise.execute(l,{action:e}).then(y=>{h(y)}).catch(()=>{h(S_)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new JS().execute("siteKey",{action:"verify"}):new Promise((l,h)=>{i(this.auth).then(f=>{if(!t&&py(window.grecaptcha))o(f,l,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=QS();p.length!==0&&(p+=f),I_(p).then(()=>{o(f,l,h)}).catch(y=>{h(y)})}}).catch(f=>{h(f)})})}}async function wy(r,e,t,i=!1,o=!1){const l=new tP(r);let h;if(o)h=S_;else try{h=await l.verify(t)}catch{h=await l.verify(t,!0)}const f=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in f){const p=f.phoneEnrollmentInfo.phoneNumber,y=f.phoneEnrollmentInfo.recaptchaToken;Object.assign(f,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:y,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in f){const p=f.phoneSignInInfo.recaptchaToken;Object.assign(f,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return f}return i?Object.assign(f,{captchaResp:h}):Object.assign(f,{captchaResponse:h}),Object.assign(f,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(f,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),f}async function uf(r,e,t,i,o){var l;if(!((l=r._getRecaptchaConfig())===null||l===void 0)&&l.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await wy(r,e,t,t==="getOobCode");return i(r,h)}else return i(r,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const f=await wy(r,e,t,t==="getOobCode");return i(r,f)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(r,e){const t=Mf(r,"auth");if(t.isInitialized()){const o=t.getImmediate(),l=t.getOptions();if(Ts(l,e??{}))return o;qn(o,"already-initialized")}return t.initialize({options:e})}function rP(r,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(Or);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function iP(r,e,t){const i=Rs(r);Te(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,l=P_(e),{host:h,port:f}=sP(e),p=f===null?"":`:${f}`,y={url:`${l}//${h}${p}/`},w=Object.freeze({host:h,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!i._canInitEmulator){Te(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Te(Ts(y,i.config.emulator)&&Ts(w,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=y,i.emulatorConfig=w,i.settings.appVerificationDisabledForTesting=!0,Ho(h)?(Jv(`${l}//${h}${p}`),Zv("Auth",!0)):oP()}function P_(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function sP(r){const e=P_(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const l=o[1];return{host:l,port:Ey(i.substr(l.length+1))}}else{const[l,h]=i.split(":");return{host:l,port:Ey(h)}}}function Ey(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function oP(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $f{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Vr("not implemented")}_getIdTokenResponse(e){return Vr("not implemented")}_linkToIdToken(e,t){return Vr("not implemented")}_getReauthenticationResolver(e){return Vr("not implemented")}}async function aP(r,e){return qr(r,"POST","/v1/accounts:update",e)}async function lP(r,e){return qr(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uP(r,e){return _l(r,"POST","/v1/accounts:signInWithPassword",Fi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(r,e){return _l(r,"POST","/v1/accounts:signInWithEmailLink",Fi(r,e))}async function hP(r,e){return _l(r,"POST","/v1/accounts:signInWithEmailLink",Fi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al extends $f{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new al(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new al(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uf(e,t,"signInWithPassword",uP);case"emailLink":return cP(e,{email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return uf(e,i,"signUpPassword",lP);case"emailLink":return hP(e,{idToken:t,email:this._email,oobCode:this._password});default:qn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bo(r,e){return _l(r,"POST","/v1/accounts:signInWithIdp",Fi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dP="http://localhost";class Ss extends $f{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ss(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):qn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,l=jf(t,["providerId","signInMethod"]);if(!i||!o)return null;const h=new Ss(i,o);return h.idToken=l.idToken||void 0,h.accessToken=l.accessToken||void 0,h.secret=l.secret,h.nonce=l.nonce,h.pendingToken=l.pendingToken||null,h}_getIdTokenResponse(e){const t=this.buildRequest();return bo(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,bo(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,bo(e,t)}buildRequest(){const e={requestUri:dP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yl(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fP(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function pP(r){const e=qa(Ga(r)).link,t=e?qa(Ga(e)).deep_link_id:null,i=qa(Ga(r)).deep_link_id;return(i?qa(Ga(i)).link:null)||i||t||e||r}class Wf{constructor(e){var t,i,o,l,h,f;const p=qa(Ga(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,w=(i=p.oobCode)!==null&&i!==void 0?i:null,T=fP((o=p.mode)!==null&&o!==void 0?o:null);Te(y&&w&&T,"argument-error"),this.apiKey=y,this.operation=T,this.code=w,this.continueUrl=(l=p.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(f=p.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=pP(e);try{return new Wf(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.providerId=ks.PROVIDER_ID}static credential(e,t){return al._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Wf.parseLink(t);return Te(i,"argument-error"),al._fromEmailAndCode(e,i.code,i.tenantId)}}ks.PROVIDER_ID="password";ks.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ks.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl extends A_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i extends wl{constructor(){super("facebook.com")}static credential(e){return Ss._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _i.credential(e.oauthAccessToken)}catch{return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com";_i.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends wl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ss._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return wi.credential(t,i)}catch{return null}}}wi.GOOGLE_SIGN_IN_METHOD="google.com";wi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei extends wl{constructor(){super("github.com")}static credential(e){return Ss._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ei.credential(e.oauthAccessToken)}catch{return null}}}Ei.GITHUB_SIGN_IN_METHOD="github.com";Ei.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ti extends wl{constructor(){super("twitter.com")}static credential(e,t){return Ss._fromParams({providerId:Ti.PROVIDER_ID,signInMethod:Ti.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ti.credentialFromTaggedObject(e)}static credentialFromError(e){return Ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Ti.credential(t,i)}catch{return null}}}Ti.TWITTER_SIGN_IN_METHOD="twitter.com";Ti.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mP(r,e){return _l(r,"POST","/v1/accounts:signUp",Fi(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const l=await Hn._fromIdTokenResponse(e,i,o),h=Ty(i);return new Ps({user:l,providerId:h,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Ty(i);return new Ps({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Ty(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends Hr{constructor(e,t,i,o){var l;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,yc.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new yc(e,t,i,o)}}function C_(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?yc._fromErrorAndOperation(r,l,e,i):l})}async function gP(r,e,t=!1){const i=await Oo(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return Ps._forOperation(r,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_(r,e,t=!1){const{auth:i}=r;if(Cn(i.app))return Promise.reject(Lr(i));const o="reauthenticate";try{const l=await Oo(r,C_(i,o,e,r),t);Te(l.idToken,i,"internal-error");const h=Bf(l.idToken);Te(h,i,"internal-error");const{sub:f}=h;return Te(r.uid===f,i,"user-mismatch"),Ps._forOperation(r,o,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&qn(i,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k_(r,e,t=!1){if(Cn(r.app))return Promise.reject(Lr(r));const i="signIn",o=await C_(r,i,e),l=await Ps._fromIdTokenResponse(r,i,o);return t||await r._updateCurrentUser(l.user),l}async function yP(r,e){return k_(Rs(r),e)}async function vP(r,e){return R_(ft(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function N_(r){const e=Rs(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function _P(r,e,t){if(Cn(r.app))return Promise.reject(Lr(r));const i=Rs(r),h=await uf(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mP).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&N_(r),p}),f=await Ps._fromIdTokenResponse(i,"signIn",h);return await i._updateCurrentUser(f.user),f}function wP(r,e,t){return Cn(r.app)?Promise.reject(Lr(r)):yP(ft(r),ks.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&N_(r),i})}function EP(r,e){return TP(ft(r),null,e)}async function TP(r,e,t){const{auth:i}=r,l={idToken:await r.getIdToken(),returnSecureToken:!0};t&&(l.password=t);const h=await Oo(r,aP(i,l));await r._updateTokensIfNecessary(h,!0)}function IP(r,e,t,i){return ft(r).onIdTokenChanged(e,t,i)}function SP(r,e,t){return ft(r).beforeAuthStateChanged(e,t)}function PP(r,e,t,i){return ft(r).onAuthStateChanged(e,t,i)}function AP(r){return ft(r).signOut()}const vc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(vc,"1"),this.storage.removeItem(vc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP=1e3,RP=10;class b_ extends x_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=E_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((h,f,p)=>{this.notifyListeners(h,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(i);!t&&this.localCache[i]===h||this.notifyListeners(i,h)},l=this.storage.getItem(i);zS()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,RP):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},CP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}b_.type="LOCAL";const kP=b_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends x_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}D_.type="SESSION";const V_=D_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new jc(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:l}=t.data,h=this.handlersMap[o];if(!(h!=null&&h.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const f=Array.from(h).map(async y=>y(t.origin,l)),p=await NP(f);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hf(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let l,h;return new Promise((f,p)=>{const y=Hf("",20);o.port1.start();const w=setTimeout(()=>{p(new Error("unsupported_event"))},i);h={messageChannel:o,onMessage(T){const S=T;if(S.data.eventId===y)switch(S.data.status){case"ack":clearTimeout(w),l=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(S.data.response);break;default:clearTimeout(w),clearTimeout(l),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ur(){return window}function bP(r){ur().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O_(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}async function DP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VP(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function OP(){return O_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L_="firebaseLocalStorageDb",LP=1,_c="firebaseLocalStorage",M_="fbase_key";class El{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fc(r,e){return r.transaction([_c],e?"readwrite":"readonly").objectStore(_c)}function MP(){const r=indexedDB.deleteDatabase(L_);return new El(r).toPromise()}function cf(){const r=indexedDB.open(L_,LP);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(_c,{keyPath:M_})}catch(o){t(o)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(_c)?e(i):(i.close(),await MP(),e(await cf()))})})}async function Iy(r,e,t){const i=Fc(r,!0).put({[M_]:e,value:t});return new El(i).toPromise()}async function jP(r,e){const t=Fc(r,!1).get(e),i=await new El(t).toPromise();return i===void 0?null:i.value}function Sy(r,e){const t=Fc(r,!0).delete(e);return new El(t).toPromise()}const FP=800,UP=3;class j_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await cf(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>UP)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return O_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jc._getInstance(OP()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await DP(),!this.activeServiceWorker)return;this.sender=new xP(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||VP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await cf();return await Iy(e,vc,"1"),await Sy(e,vc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Iy(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>jP(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Sy(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const l=Fc(o,!1).getAll();return new El(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:l}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(l)&&(this.notifyListeners(o,l),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}j_.type="LOCAL";const BP=j_;new vl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zP(r,e){return e?Or(e):(Te(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf extends $f{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return bo(e,this._buildIdpRequest())}_linkToIdToken(e,t){return bo(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return bo(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function $P(r){return k_(r.auth,new qf(r),r.bypassAuthState)}function WP(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),R_(t,new qf(r),r.bypassAuthState)}async function HP(r){const{auth:e,user:t}=r;return Te(t,e,"internal-error"),gP(t,new qf(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_{constructor(e,t,i,o,l=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:l,error:h,type:f}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $P;case"linkViaPopup":case"linkViaRedirect":return HP;case"reauthViaPopup":case"reauthViaRedirect":return WP;default:qn(this.auth,"internal-error")}}resolve(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qP=new vl(2e3,1e4);class ko extends F_{constructor(e,t,i,o,l){super(e,t,o,l),this.provider=i,this.authWindow=null,this.pollId=null,ko.currentPopupAction&&ko.currentPopupAction.cancel(),ko.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){Ur(this.filter.length===1,"Popup operations only handle one event");const e=Hf();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(lr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(lr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ko.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(lr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qP.get())};e()}}ko.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GP="pendingRedirect",nc=new Map;class KP extends F_{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=nc.get(this.auth._key());if(!e){try{const i=await QP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}nc.set(this.auth._key(),e)}return this.bypassAuthState||nc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function QP(r,e){const t=JP(e),i=XP(r);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function YP(r,e){nc.set(r._key(),e)}function XP(r){return Or(r._redirectPersistence)}function JP(r){return tc(GP,r.config.apiKey,r.name)}async function ZP(r,e,t=!1){if(Cn(r.app))return Promise.reject(Lr(r));const i=Rs(r),o=zP(i,e),h=await new KP(i,o,t).execute();return h&&!t&&(delete h.user._redirectEventId,await i._persistUserIfCurrent(h.user),await i._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=600*1e3;class t1{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!n1(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!U_(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(lr(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=e1&&this.cachedEventUids.clear(),this.cachedEventUids.has(Py(e))}saveEventToCache(e){this.cachedEventUids.add(Py(e)),this.lastProcessedEventTime=Date.now()}}function Py(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function U_({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function n1(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return U_(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r1(r,e={}){return qr(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i1=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,s1=/^https?/;async function o1(r){if(r.config.emulator)return;const{authorizedDomains:e}=await r1(r);for(const t of e)try{if(a1(t))return}catch{}qn(r,"unauthorized-domain")}function a1(r){const e=af(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const h=new URL(r);return h.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&h.hostname===i}if(!s1.test(t))return!1;if(i1.test(r))return i===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l1=new vl(3e4,6e4);function Ay(){const r=ur().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function u1(r){return new Promise((e,t)=>{var i,o,l;function h(){Ay(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Ay(),t(lr(r,"network-request-failed"))},timeout:l1.get()})}if(!((o=(i=ur().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((l=ur().gapi)===null||l===void 0)&&l.load)h();else{const f=XS("iframefcb");return ur()[f]=()=>{gapi.load?h():t(lr(r,"network-request-failed"))},I_(`${YS()}?onload=${f}`).catch(p=>t(p))}}).catch(e=>{throw rc=null,e})}let rc=null;function c1(r){return rc=rc||u1(r),rc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1=new vl(5e3,15e3),d1="__/auth/iframe",f1="emulator/auth/iframe",p1={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},m1=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function g1(r){const e=r.config;Te(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?Uf(e,f1):`https://${r.config.authDomain}/${d1}`,i={apiKey:e.apiKey,appName:r.name,v:qo},o=m1.get(r.config.apiHost);o&&(i.eid=o);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${yl(i).slice(1)}`}async function y1(r){const e=await c1(r),t=ur().gapi;return Te(t,r,"internal-error"),e.open({where:document.body,url:g1(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:p1,dontclear:!0},i=>new Promise(async(o,l)=>{await i.restyle({setHideOnLeave:!1});const h=lr(r,"network-request-failed"),f=ur().setTimeout(()=>{l(h)},h1.get());function p(){ur().clearTimeout(f),o(i)}i.ping(p).then(p,()=>{l(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_1=500,w1=600,E1="_blank",T1="http://localhost";class Cy{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function I1(r,e,t,i=_1,o=w1){const l=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-i)/2,0).toString();let f="";const p=Object.assign(Object.assign({},v1),{width:i.toString(),height:o.toString(),top:l,left:h}),y=Wt().toLowerCase();t&&(f=g_(y)?E1:t),p_(y)&&(e=e||T1,p.scrollbars="yes");const w=Object.entries(p).reduce((S,[V,O])=>`${S}${V}=${O},`,"");if(BS(y)&&f!=="_self")return S1(e||"",f),new Cy(null);const T=window.open(e||"",f,w);Te(T,r,"popup-blocked");try{T.focus()}catch{}return new Cy(T)}function S1(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="__/auth/handler",A1="emulator/auth/handler",C1=encodeURIComponent("fac");async function Ry(r,e,t,i,o,l){Te(r.config.authDomain,r,"auth-domain-config-required"),Te(r.config.apiKey,r,"invalid-api-key");const h={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:qo,eventId:o};if(e instanceof A_){e.setDefaultLanguage(r.languageCode),h.providerId=e.providerId||"",uI(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[w,T]of Object.entries({}))h[w]=T}if(e instanceof wl){const w=e.getScopes().filter(T=>T!=="");w.length>0&&(h.scopes=w.join(","))}r.tenantId&&(h.tid=r.tenantId);const f=h;for(const w of Object.keys(f))f[w]===void 0&&delete f[w];const p=await r._getAppCheckToken(),y=p?`#${C1}=${encodeURIComponent(p)}`:"";return`${R1(r)}?${yl(f).slice(1)}${y}`}function R1({config:r}){return r.emulator?Uf(r,A1):`https://${r.authDomain}/${P1}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wd="webStorageSupport";class k1{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=V_,this._completeRedirectFn=ZP,this._overrideRedirectResult=YP}async _openPopup(e,t,i,o){var l;Ur((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const h=await Ry(e,t,i,af(),o);return I1(e,h,Hf())}async _openRedirect(e,t,i,o){await this._originValidation(e);const l=await Ry(e,t,i,af(),o);return bP(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:l}=this.eventManagers[t];return o?Promise.resolve(o):(Ur(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await y1(e),i=new t1(e);return t.register("authEvent",o=>(Te(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wd,{type:Wd},o=>{var l;const h=(l=o==null?void 0:o[0])===null||l===void 0?void 0:l[Wd];h!==void 0&&t(!!h),qn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=o1(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return E_()||m_()||zf()}}const N1=k1;var ky="@firebase/auth",Ny="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b1(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function D1(r){Vo(new Is("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:h,authDomain:f}=i.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:h,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:T_(r)},y=new GS(i,o,l,p);return rP(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Vo(new Is("auth-internal",e=>{const t=Rs(e.getProvider("auth").getImmediate());return(i=>new x1(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ri(ky,Ny,b1(r)),Ri(ky,Ny,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V1=300,O1=Xv("authIdTokenMaxAge")||V1;let xy=null;const L1=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>O1)return;const o=t==null?void 0:t.token;xy!==o&&(xy=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function M1(r=r_()){const e=Mf(r,"auth");if(e.isInitialized())return e.getImmediate();const t=nP(r,{popupRedirectResolver:N1,persistence:[BP,kP,V_]}),i=Xv("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const h=L1(l.toString());SP(t,h,()=>h(t.currentUser)),IP(t,f=>h(f))}}const o=Qv("auth");return o&&iP(t,`http://${o}`),t}function j1(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}KS({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=o=>{const l=lr("internal-error");l.customData=o,t(l)},i.type="text/javascript",i.charset="UTF-8",j1().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});D1("Browser");var F1="firebase",U1="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ri(F1,U1,"app");var by=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ki,B_;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,P){function C(){}C.prototype=P.prototype,k.D=P.prototype,k.prototype=new C,k.prototype.constructor=k,k.C=function(b,N,L){for(var R=Array(arguments.length-2),We=2;We<arguments.length;We++)R[We-2]=arguments[We];return P.prototype[N].apply(b,R)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(k,P,C){C||(C=0);var b=Array(16);if(typeof P=="string")for(var N=0;16>N;++N)b[N]=P.charCodeAt(C++)|P.charCodeAt(C++)<<8|P.charCodeAt(C++)<<16|P.charCodeAt(C++)<<24;else for(N=0;16>N;++N)b[N]=P[C++]|P[C++]<<8|P[C++]<<16|P[C++]<<24;P=k.g[0],C=k.g[1],N=k.g[2];var L=k.g[3],R=P+(L^C&(N^L))+b[0]+3614090360&4294967295;P=C+(R<<7&4294967295|R>>>25),R=L+(N^P&(C^N))+b[1]+3905402710&4294967295,L=P+(R<<12&4294967295|R>>>20),R=N+(C^L&(P^C))+b[2]+606105819&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(P^N&(L^P))+b[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=P+(L^C&(N^L))+b[4]+4118548399&4294967295,P=C+(R<<7&4294967295|R>>>25),R=L+(N^P&(C^N))+b[5]+1200080426&4294967295,L=P+(R<<12&4294967295|R>>>20),R=N+(C^L&(P^C))+b[6]+2821735955&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(P^N&(L^P))+b[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=P+(L^C&(N^L))+b[8]+1770035416&4294967295,P=C+(R<<7&4294967295|R>>>25),R=L+(N^P&(C^N))+b[9]+2336552879&4294967295,L=P+(R<<12&4294967295|R>>>20),R=N+(C^L&(P^C))+b[10]+4294925233&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(P^N&(L^P))+b[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=P+(L^C&(N^L))+b[12]+1804603682&4294967295,P=C+(R<<7&4294967295|R>>>25),R=L+(N^P&(C^N))+b[13]+4254626195&4294967295,L=P+(R<<12&4294967295|R>>>20),R=N+(C^L&(P^C))+b[14]+2792965006&4294967295,N=L+(R<<17&4294967295|R>>>15),R=C+(P^N&(L^P))+b[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=P+(N^L&(C^N))+b[1]+4129170786&4294967295,P=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(P^C))+b[6]+3225465664&4294967295,L=P+(R<<9&4294967295|R>>>23),R=N+(P^C&(L^P))+b[11]+643717713&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^P&(N^L))+b[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=P+(N^L&(C^N))+b[5]+3593408605&4294967295,P=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(P^C))+b[10]+38016083&4294967295,L=P+(R<<9&4294967295|R>>>23),R=N+(P^C&(L^P))+b[15]+3634488961&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^P&(N^L))+b[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=P+(N^L&(C^N))+b[9]+568446438&4294967295,P=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(P^C))+b[14]+3275163606&4294967295,L=P+(R<<9&4294967295|R>>>23),R=N+(P^C&(L^P))+b[3]+4107603335&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^P&(N^L))+b[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=P+(N^L&(C^N))+b[13]+2850285829&4294967295,P=C+(R<<5&4294967295|R>>>27),R=L+(C^N&(P^C))+b[2]+4243563512&4294967295,L=P+(R<<9&4294967295|R>>>23),R=N+(P^C&(L^P))+b[7]+1735328473&4294967295,N=L+(R<<14&4294967295|R>>>18),R=C+(L^P&(N^L))+b[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=P+(C^N^L)+b[5]+4294588738&4294967295,P=C+(R<<4&4294967295|R>>>28),R=L+(P^C^N)+b[8]+2272392833&4294967295,L=P+(R<<11&4294967295|R>>>21),R=N+(L^P^C)+b[11]+1839030562&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^P)+b[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=P+(C^N^L)+b[1]+2763975236&4294967295,P=C+(R<<4&4294967295|R>>>28),R=L+(P^C^N)+b[4]+1272893353&4294967295,L=P+(R<<11&4294967295|R>>>21),R=N+(L^P^C)+b[7]+4139469664&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^P)+b[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=P+(C^N^L)+b[13]+681279174&4294967295,P=C+(R<<4&4294967295|R>>>28),R=L+(P^C^N)+b[0]+3936430074&4294967295,L=P+(R<<11&4294967295|R>>>21),R=N+(L^P^C)+b[3]+3572445317&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^P)+b[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=P+(C^N^L)+b[9]+3654602809&4294967295,P=C+(R<<4&4294967295|R>>>28),R=L+(P^C^N)+b[12]+3873151461&4294967295,L=P+(R<<11&4294967295|R>>>21),R=N+(L^P^C)+b[15]+530742520&4294967295,N=L+(R<<16&4294967295|R>>>16),R=C+(N^L^P)+b[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=P+(N^(C|~L))+b[0]+4096336452&4294967295,P=C+(R<<6&4294967295|R>>>26),R=L+(C^(P|~N))+b[7]+1126891415&4294967295,L=P+(R<<10&4294967295|R>>>22),R=N+(P^(L|~C))+b[14]+2878612391&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~P))+b[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=P+(N^(C|~L))+b[12]+1700485571&4294967295,P=C+(R<<6&4294967295|R>>>26),R=L+(C^(P|~N))+b[3]+2399980690&4294967295,L=P+(R<<10&4294967295|R>>>22),R=N+(P^(L|~C))+b[10]+4293915773&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~P))+b[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=P+(N^(C|~L))+b[8]+1873313359&4294967295,P=C+(R<<6&4294967295|R>>>26),R=L+(C^(P|~N))+b[15]+4264355552&4294967295,L=P+(R<<10&4294967295|R>>>22),R=N+(P^(L|~C))+b[6]+2734768916&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~P))+b[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=P+(N^(C|~L))+b[4]+4149444226&4294967295,P=C+(R<<6&4294967295|R>>>26),R=L+(C^(P|~N))+b[11]+3174756917&4294967295,L=P+(R<<10&4294967295|R>>>22),R=N+(P^(L|~C))+b[2]+718787259&4294967295,N=L+(R<<15&4294967295|R>>>17),R=C+(L^(N|~P))+b[9]+3951481745&4294967295,k.g[0]=k.g[0]+P&4294967295,k.g[1]=k.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+L&4294967295}i.prototype.u=function(k,P){P===void 0&&(P=k.length);for(var C=P-this.blockSize,b=this.B,N=this.h,L=0;L<P;){if(N==0)for(;L<=C;)o(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<P;)if(b[N++]=k.charCodeAt(L++),N==this.blockSize){o(this,b),N=0;break}}else for(;L<P;)if(b[N++]=k[L++],N==this.blockSize){o(this,b),N=0;break}}this.h=N,this.o+=P},i.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var P=1;P<k.length-8;++P)k[P]=0;var C=8*this.o;for(P=k.length-8;P<k.length;++P)k[P]=C&255,C/=256;for(this.u(k),k=Array(16),P=C=0;4>P;++P)for(var b=0;32>b;b+=8)k[C++]=this.g[P]>>>b&255;return k};function l(k,P){var C=f;return Object.prototype.hasOwnProperty.call(C,k)?C[k]:C[k]=P(k)}function h(k,P){this.h=P;for(var C=[],b=!0,N=k.length-1;0<=N;N--){var L=k[N]|0;b&&L==P||(C[N]=L,b=!1)}this.g=C}var f={};function p(k){return-128<=k&&128>k?l(k,function(P){return new h([P|0],0>P?-1:0)}):new h([k|0],0>k?-1:0)}function y(k){if(isNaN(k)||!isFinite(k))return T;if(0>k)return j(y(-k));for(var P=[],C=1,b=0;k>=C;b++)P[b]=k/C|0,C*=4294967296;return new h(P,0)}function w(k,P){if(k.length==0)throw Error("number format error: empty string");if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k.charAt(0)=="-")return j(w(k.substring(1),P));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=y(Math.pow(P,8)),b=T,N=0;N<k.length;N+=8){var L=Math.min(8,k.length-N),R=parseInt(k.substring(N,N+L),P);8>L?(L=y(Math.pow(P,L)),b=b.j(L).add(y(R))):(b=b.j(C),b=b.add(y(R)))}return b}var T=p(0),S=p(1),V=p(16777216);r=h.prototype,r.m=function(){if(B(this))return-j(this).m();for(var k=0,P=1,C=0;C<this.g.length;C++){var b=this.i(C);k+=(0<=b?b:4294967296+b)*P,P*=4294967296}return k},r.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(O(this))return"0";if(B(this))return"-"+j(this).toString(k);for(var P=y(Math.pow(k,6)),C=this,b="";;){var N=le(C,P).g;C=oe(C,N.j(P));var L=((0<C.g.length?C.g[0]:C.h)>>>0).toString(k);if(C=N,O(C))return L+b;for(;6>L.length;)L="0"+L;b=L+b}},r.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function O(k){if(k.h!=0)return!1;for(var P=0;P<k.g.length;P++)if(k.g[P]!=0)return!1;return!0}function B(k){return k.h==-1}r.l=function(k){return k=oe(this,k),B(k)?-1:O(k)?0:1};function j(k){for(var P=k.g.length,C=[],b=0;b<P;b++)C[b]=~k.g[b];return new h(C,~k.h).add(S)}r.abs=function(){return B(this)?j(this):this},r.add=function(k){for(var P=Math.max(this.g.length,k.g.length),C=[],b=0,N=0;N<=P;N++){var L=b+(this.i(N)&65535)+(k.i(N)&65535),R=(L>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);b=R>>>16,L&=65535,R&=65535,C[N]=R<<16|L}return new h(C,C[C.length-1]&-2147483648?-1:0)};function oe(k,P){return k.add(j(P))}r.j=function(k){if(O(this)||O(k))return T;if(B(this))return B(k)?j(this).j(j(k)):j(j(this).j(k));if(B(k))return j(this.j(j(k)));if(0>this.l(V)&&0>k.l(V))return y(this.m()*k.m());for(var P=this.g.length+k.g.length,C=[],b=0;b<2*P;b++)C[b]=0;for(b=0;b<this.g.length;b++)for(var N=0;N<k.g.length;N++){var L=this.i(b)>>>16,R=this.i(b)&65535,We=k.i(N)>>>16,Ze=k.i(N)&65535;C[2*b+2*N]+=R*Ze,H(C,2*b+2*N),C[2*b+2*N+1]+=L*Ze,H(C,2*b+2*N+1),C[2*b+2*N+1]+=R*We,H(C,2*b+2*N+1),C[2*b+2*N+2]+=L*We,H(C,2*b+2*N+2)}for(b=0;b<P;b++)C[b]=C[2*b+1]<<16|C[2*b];for(b=P;b<2*P;b++)C[b]=0;return new h(C,0)};function H(k,P){for(;(k[P]&65535)!=k[P];)k[P+1]+=k[P]>>>16,k[P]&=65535,P++}function ne(k,P){this.g=k,this.h=P}function le(k,P){if(O(P))throw Error("division by zero");if(O(k))return new ne(T,T);if(B(k))return P=le(j(k),P),new ne(j(P.g),j(P.h));if(B(P))return P=le(k,j(P)),new ne(j(P.g),P.h);if(30<k.g.length){if(B(k)||B(P))throw Error("slowDivide_ only works with positive integers.");for(var C=S,b=P;0>=b.l(k);)C=Se(C),b=Se(b);var N=re(C,1),L=re(b,1);for(b=re(b,2),C=re(C,2);!O(b);){var R=L.add(b);0>=R.l(k)&&(N=N.add(C),L=R),b=re(b,1),C=re(C,1)}return P=oe(k,N.j(P)),new ne(N,P)}for(N=T;0<=k.l(P);){for(C=Math.max(1,Math.floor(k.m()/P.m())),b=Math.ceil(Math.log(C)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),L=y(C),R=L.j(P);B(R)||0<R.l(k);)C-=b,L=y(C),R=L.j(P);O(L)&&(L=S),N=N.add(L),k=oe(k,R)}return new ne(N,k)}r.A=function(k){return le(this,k).h},r.and=function(k){for(var P=Math.max(this.g.length,k.g.length),C=[],b=0;b<P;b++)C[b]=this.i(b)&k.i(b);return new h(C,this.h&k.h)},r.or=function(k){for(var P=Math.max(this.g.length,k.g.length),C=[],b=0;b<P;b++)C[b]=this.i(b)|k.i(b);return new h(C,this.h|k.h)},r.xor=function(k){for(var P=Math.max(this.g.length,k.g.length),C=[],b=0;b<P;b++)C[b]=this.i(b)^k.i(b);return new h(C,this.h^k.h)};function Se(k){for(var P=k.g.length+1,C=[],b=0;b<P;b++)C[b]=k.i(b)<<1|k.i(b-1)>>>31;return new h(C,k.h)}function re(k,P){var C=P>>5;P%=32;for(var b=k.g.length-C,N=[],L=0;L<b;L++)N[L]=0<P?k.i(L+C)>>>P|k.i(L+C+1)<<32-P:k.i(L+C);return new h(N,k.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,B_=i,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=y,h.fromString=w,ki=h}).apply(typeof by<"u"?by:typeof self<"u"?self:typeof window<"u"?window:{});var Gu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var z_,Ka,$_,ic,hf,W_,H_,q_;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,v){return u==Array.prototype||u==Object.prototype||(u[m]=v.value),u};function t(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Gu=="object"&&Gu];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function o(u,m){if(m)e:{var v=i;u=u.split(".");for(var I=0;I<u.length-1;I++){var F=u[I];if(!(F in v))break e;v=v[F]}u=u[u.length-1],I=v[u],m=m(I),m!=I&&m!=null&&e(v,u,{configurable:!0,writable:!0,value:m})}}function l(u,m){u instanceof String&&(u+="");var v=0,I=!1,F={next:function(){if(!I&&v<u.length){var W=v++;return{value:m(W,u[W]),done:!1}}return I=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(u){return u||function(){return l(this,function(m,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},f=this||self;function p(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function y(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function w(u,m,v){return u.call.apply(u.bind,arguments)}function T(u,m,v){if(!u)throw Error();if(2<arguments.length){var I=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,I),u.apply(m,F)}}return function(){return u.apply(m,arguments)}}function S(u,m,v){return S=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:T,S.apply(null,arguments)}function V(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var I=v.slice();return I.push.apply(I,arguments),u.apply(this,I)}}function O(u,m){function v(){}v.prototype=m.prototype,u.aa=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Qb=function(I,F,W){for(var ie=Array(arguments.length-2),$e=2;$e<arguments.length;$e++)ie[$e-2]=arguments[$e];return m.prototype[F].apply(I,ie)}}function B(u){const m=u.length;if(0<m){const v=Array(m);for(let I=0;I<m;I++)v[I]=u[I];return v}return[]}function j(u,m){for(let v=1;v<arguments.length;v++){const I=arguments[v];if(p(I)){const F=u.length||0,W=I.length||0;u.length=F+W;for(let ie=0;ie<W;ie++)u[F+ie]=I[ie]}else u.push(I)}}class oe{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function H(u){return/^[\s\xa0]*$/.test(u)}function ne(){var u=f.navigator;return u&&(u=u.userAgent)?u:""}function le(u){return le[" "](u),u}le[" "]=function(){};var Se=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function re(u,m,v){for(const I in u)m.call(v,u[I],I,u)}function k(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function P(u){const m={};for(const v in u)m[v]=u[v];return m}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(u,m){let v,I;for(let F=1;F<arguments.length;F++){I=arguments[F];for(v in I)u[v]=I[v];for(let W=0;W<C.length;W++)v=C[W],Object.prototype.hasOwnProperty.call(I,v)&&(u[v]=I[v])}}function N(u){var m=1;u=u.split(":");const v=[];for(;0<m&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function L(u){f.setTimeout(()=>{throw u},0)}function R(){var u=ve;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class We{constructor(){this.h=this.g=null}add(m,v){const I=Ze.get();I.set(m,v),this.h?this.h.next=I:this.g=I,this.h=I}}var Ze=new oe(()=>new at,u=>u.reset());class at{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Be,se=!1,ve=new We,ue=()=>{const u=f.Promise.resolve(void 0);Be=()=>{u.then(M)}};var M=()=>{for(var u;u=R();){try{u.h.call(u.g)}catch(v){L(v)}var m=Ze;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}se=!1};function q(){this.s=this.s,this.C=this.C}q.prototype.s=!1,q.prototype.ma=function(){this.s||(this.s=!0,this.N())},q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var ke=(function(){if(!f.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};f.addEventListener("test",v,m),f.removeEventListener("test",v,m)}catch{}return u})();function K(u,m){if(ge.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var v=this.type=u.type,I=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(Se){e:{try{le(m.nodeName);var F=!0;break e}catch{}F=!1}F||(m=null)}}else v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement);this.relatedTarget=m,I?(this.clientX=I.clientX!==void 0?I.clientX:I.pageX,this.clientY=I.clientY!==void 0?I.clientY:I.pageY,this.screenX=I.screenX||0,this.screenY=I.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:ee[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&K.aa.h.call(this)}}O(K,ge);var ee={2:"touch",3:"pen",4:"mouse"};K.prototype.h=function(){K.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var ce="closure_listenable_"+(1e6*Math.random()|0),Re=0;function be(u,m,v,I,F){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!I,this.ha=F,this.key=++Re,this.da=this.fa=!1}function He(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qt(u){this.src=u,this.g={},this.h=0}Qt.prototype.add=function(u,m,v,I,F){var W=u.toString();u=this.g[W],u||(u=this.g[W]=[],this.h++);var ie=Kn(u,m,I,F);return-1<ie?(m=u[ie],v||(m.fa=!1)):(m=new be(m,this.src,W,!!I,F),m.fa=v,u.push(m)),m};function mr(u,m){var v=m.type;if(v in u.g){var I=u.g[v],F=Array.prototype.indexOf.call(I,m,void 0),W;(W=0<=F)&&Array.prototype.splice.call(I,F,1),W&&(He(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Kn(u,m,v,I){for(var F=0;F<u.length;++F){var W=u[F];if(!W.da&&W.listener==m&&W.capture==!!v&&W.ha==I)return F}return-1}var $i="closure_lm_"+(1e6*Math.random()|0),Ds={};function Xo(u,m,v,I,F){if(Array.isArray(m)){for(var W=0;W<m.length;W++)Xo(u,m[W],v,I,F);return null}return v=ea(v),u&&u[ce]?u.K(m,v,y(I)?!!I.capture:!1,F):Jo(u,m,v,!1,I,F)}function Jo(u,m,v,I,F,W){if(!m)throw Error("Invalid event type");var ie=y(F)?!!F.capture:!!F,$e=Os(u);if($e||(u[$i]=$e=new Qt(u)),v=$e.add(m,v,I,ie,W),v.proxy)return v;if(I=Nl(),v.proxy=I,I.src=u,I.listener=v,u.addEventListener)ke||(F=ie),F===void 0&&(F=!1),u.addEventListener(m.toString(),I,F);else if(u.attachEvent)u.attachEvent(yr(m.toString()),I);else if(u.addListener&&u.removeListener)u.addListener(I);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Nl(){function u(v){return m.call(u.src,u.listener,v)}const m=Zo;return u}function Vs(u,m,v,I,F){if(Array.isArray(m))for(var W=0;W<m.length;W++)Vs(u,m[W],v,I,F);else I=y(I)?!!I.capture:!!I,v=ea(v),u&&u[ce]?(u=u.i,m=String(m).toString(),m in u.g&&(W=u.g[m],v=Kn(W,v,I,F),-1<v&&(He(W[v]),Array.prototype.splice.call(W,v,1),W.length==0&&(delete u.g[m],u.h--)))):u&&(u=Os(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Kn(m,v,I,F)),(v=-1<u?m[u]:null)&&gr(v))}function gr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[ce])mr(m.i,u);else{var v=u.type,I=u.proxy;m.removeEventListener?m.removeEventListener(v,I,u.capture):m.detachEvent?m.detachEvent(yr(v),I):m.addListener&&m.removeListener&&m.removeListener(I),(v=Os(m))?(mr(v,u),v.h==0&&(v.src=null,m[$i]=null)):He(u)}}}function yr(u){return u in Ds?Ds[u]:Ds[u]="on"+u}function Zo(u,m){if(u.da)u=!0;else{m=new K(m,this);var v=u.listener,I=u.ha||u.src;u.fa&&gr(u),u=v.call(I,m)}return u}function Os(u){return u=u[$i],u instanceof Qt?u:null}var Ls="__closure_events_fn_"+(1e9*Math.random()>>>0);function ea(u){return typeof u=="function"?u:(u[Ls]||(u[Ls]=function(m){return u.handleEvent(m)}),u[Ls])}function _t(){q.call(this),this.i=new Qt(this),this.M=this,this.F=null}O(_t,q),_t.prototype[ce]=!0,_t.prototype.removeEventListener=function(u,m,v,I){Vs(this,u,m,v,I)};function wt(u,m){var v,I=u.F;if(I)for(v=[];I;I=I.F)v.push(I);if(u=u.M,I=m.type||m,typeof m=="string")m=new ge(m,u);else if(m instanceof ge)m.target=m.target||u;else{var F=m;m=new ge(I,u),b(m,F)}if(F=!0,v)for(var W=v.length-1;0<=W;W--){var ie=m.g=v[W];F=vr(ie,I,!0,m)&&F}if(ie=m.g=u,F=vr(ie,I,!0,m)&&F,F=vr(ie,I,!1,m)&&F,v)for(W=0;W<v.length;W++)ie=m.g=v[W],F=vr(ie,I,!1,m)&&F}_t.prototype.N=function(){if(_t.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var v=u.g[m],I=0;I<v.length;I++)He(v[I]);delete u.g[m],u.h--}}this.F=null},_t.prototype.K=function(u,m,v,I){return this.i.add(String(u),m,!1,v,I)},_t.prototype.L=function(u,m,v,I){return this.i.add(String(u),m,!0,v,I)};function vr(u,m,v,I){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var F=!0,W=0;W<m.length;++W){var ie=m[W];if(ie&&!ie.da&&ie.capture==v){var $e=ie.listener,Et=ie.ha||ie.src;ie.fa&&mr(u.i,ie),F=$e.call(Et,I)!==!1&&F}}return F&&!I.defaultPrevented}function ta(u,m,v){if(typeof u=="function")v&&(u=S(u,v));else if(u&&typeof u.handleEvent=="function")u=S(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:f.setTimeout(u,m||0)}function Gr(u){u.g=ta(()=>{u.g=null,u.i&&(u.i=!1,Gr(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Wi extends q{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Gr(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hi(u){q.call(this),this.h=u,this.g={}}O(Hi,q);var na=[];function ra(u){re(u.g,function(m,v){this.g.hasOwnProperty(v)&&gr(m)},u),u.g={}}Hi.prototype.N=function(){Hi.aa.N.call(this),ra(this)},Hi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ia=f.JSON.stringify,sa=f.JSON.parse,oa=class{stringify(u){return f.JSON.stringify(u,void 0)}parse(u){return f.JSON.parse(u,void 0)}};function qi(){}qi.prototype.h=null;function Ms(u){return u.h||(u.h=u.i())}function js(){}var yn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qn(){ge.call(this,"d")}O(Qn,ge);function Fs(){ge.call(this,"c")}O(Fs,ge);var Yn={},aa=null;function Gi(){return aa=aa||new _t}Yn.La="serverreachability";function la(u){ge.call(this,Yn.La,u)}O(la,ge);function _r(u){const m=Gi();wt(m,new la(m))}Yn.STAT_EVENT="statevent";function ua(u,m){ge.call(this,Yn.STAT_EVENT,u),this.stat=m}O(ua,ge);function lt(u){const m=Gi();wt(m,new ua(m,u))}Yn.Ma="timingevent";function Us(u,m){ge.call(this,Yn.Ma,u),this.size=m}O(Us,ge);function Nn(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){u()},m)}function Ki(){this.g=!0}Ki.prototype.xa=function(){this.g=!1};function Qi(u,m,v,I,F,W){u.info(function(){if(u.g)if(W)for(var ie="",$e=W.split("&"),Et=0;Et<$e.length;Et++){var Le=$e[Et].split("=");if(1<Le.length){var Pt=Le[0];Le=Le[1];var pt=Pt.split("_");ie=2<=pt.length&&pt[1]=="type"?ie+(Pt+"="+Le+"&"):ie+(Pt+"=redacted&")}}else ie=null;else ie=W;return"XMLHTTP REQ ("+I+") [attempt "+F+"]: "+m+`
`+v+`
`+ie})}function Bs(u,m,v,I,F,W,ie){u.info(function(){return"XMLHTTP RESP ("+I+") [ attempt "+F+"]: "+m+`
`+v+`
`+W+" "+ie})}function xn(u,m,v,I){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+oh(u,v)+(I?" "+I:"")})}function ca(u,m){u.info(function(){return"TIMEOUT: "+m})}Ki.prototype.info=function(){};function oh(u,m){if(!u.g)return m;if(!m)return null;try{var v=JSON.parse(m);if(v){for(u=0;u<v.length;u++)if(Array.isArray(v[u])){var I=v[u];if(!(2>I.length)){var F=I[1];if(Array.isArray(F)&&!(1>F.length)){var W=F[0];if(W!="noop"&&W!="stop"&&W!="close")for(var ie=1;ie<F.length;ie++)F[ie]=""}}}}return ia(v)}catch{return m}}var zs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},bn;function Yi(){}O(Yi,qi),Yi.prototype.g=function(){return new XMLHttpRequest},Yi.prototype.i=function(){return{}},bn=new Yi;function Dn(u,m,v,I){this.j=u,this.i=m,this.l=v,this.R=I||1,this.U=new Hi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new bl}function bl(){this.i=null,this.g="",this.h=!1}var ha={},$s={};function Ws(u,m,v){u.L=1,u.v=Jr(un(m)),u.m=v,u.P=!0,da(u,null)}function da(u,m){u.F=Date.now(),Ke(u),u.A=un(u.v);var v=u.A,I=u.R;Array.isArray(I)||(I=[String(I)]),ei(v.i,"t",I),u.C=0,v=u.j.J,u.h=new bl,u.g=Yl(u.j,v?m:null,!u.m),0<u.O&&(u.M=new Wi(S(u.Y,u,u.g),u.O)),m=u.U,v=u.g,I=u.ca;var F="readystatechange";Array.isArray(F)||(F&&(na[0]=F.toString()),F=na);for(var W=0;W<F.length;W++){var ie=Xo(v,F[W],I||m.handleEvent,!1,m.h||m);if(!ie)break;m.g[ie.key]=ie}m=u.H?P(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),_r(),Qi(u.i,u.u,u.A,u.l,u.R,u.m)}Dn.prototype.ca=function(u){u=u.target;const m=this.M;m&&Xt(u)==3?m.j():this.Y(u)},Dn.prototype.Y=function(u){try{if(u==this.g)e:{const pt=Xt(this.g);var m=this.g.Ba();const wn=this.g.Z();if(!(3>pt)&&(pt!=3||this.g&&(this.h.h||this.g.oa()||va(this.g)))){this.J||pt!=4||m==7||(m==8||0>=wn?_r(3):_r(2)),Xi(this);var v=this.g.Z();this.X=v;t:if(Dl(this)){var I=va(this.g);u="";var F=I.length,W=Xt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){vn(this),Kr(this);var ie="";break t}this.h.i=new f.TextDecoder}for(m=0;m<F;m++)this.h.h=!0,u+=this.h.i.decode(I[m],{stream:!(W&&m==F-1)});I.length=0,this.h.g+=u,this.C=0,ie=this.h.g}else ie=this.g.oa();if(this.o=v==200,Bs(this.i,this.u,this.A,this.l,this.R,pt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var $e,Et=this.g;if(($e=Et.g?Et.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!H($e)){var Le=$e;break t}}Le=null}if(v=Le)xn(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fa(this,v);else{this.o=!1,this.s=3,lt(12),vn(this),Kr(this);break e}}if(this.P){v=!0;let hn;for(;!this.J&&this.C<ie.length;)if(hn=ah(this,ie),hn==$s){pt==4&&(this.s=4,lt(14),v=!1),xn(this.i,this.l,null,"[Incomplete Response]");break}else if(hn==ha){this.s=4,lt(15),xn(this.i,this.l,ie,"[Invalid Chunk]"),v=!1;break}else xn(this.i,this.l,hn,null),fa(this,hn);if(Dl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),pt!=4||ie.length!=0||this.h.h||(this.s=1,lt(16),v=!1),this.o=this.o&&v,!v)xn(this.i,this.l,ie,"[Invalid Chunked Response]"),vn(this),Kr(this);else if(0<ie.length&&!this.W){this.W=!0;var Pt=this.j;Pt.g==this&&Pt.ba&&!Pt.M&&(Pt.j.info("Great, no buffering proxy detected. Bytes received: "+ie.length),wa(Pt),Pt.M=!0,lt(11))}}else xn(this.i,this.l,ie,null),fa(this,ie);pt==4&&vn(this),this.o&&!this.J&&(pt==4?to(this.j,this):(this.o=!1,Ke(this)))}else Ys(this.g),v==400&&0<ie.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),vn(this),Kr(this)}}}catch{}finally{}};function Dl(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function ah(u,m){var v=u.C,I=m.indexOf(`
`,v);return I==-1?$s:(v=Number(m.substring(v,I)),isNaN(v)?ha:(I+=1,I+v>m.length?$s:(m=m.slice(I,I+v),u.C=I+v,m)))}Dn.prototype.cancel=function(){this.J=!0,vn(this)};function Ke(u){u.S=Date.now()+u.I,Vl(u,u.I)}function Vl(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Nn(S(u.ba,u),m)}function Xi(u){u.B&&(f.clearTimeout(u.B),u.B=null)}Dn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ca(this.i,this.A),this.L!=2&&(_r(),lt(17)),vn(this),this.s=2,Kr(this)):Vl(this,this.S-u)};function Kr(u){u.j.G==0||u.J||to(u.j,u)}function vn(u){Xi(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ra(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function fa(u,m){try{var v=u.j;if(v.G!=0&&(v.g==u||Ht(v.h,u))){if(!u.K&&Ht(v.h,u)&&v.G==3){try{var I=v.Da.g.parse(m)}catch{I=null}if(Array.isArray(I)&&I.length==3){var F=I;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<u.F)eo(v),jn(v);else break e;Zs(v),lt(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=Nn(S(v.Za,v),6e3));if(1>=Ll(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Sr(v,11)}else if((u.K||v.g==u)&&eo(v),!H(m))for(F=v.Da.g.parse(m),m=0;m<F.length;m++){let Le=F[m];if(v.T=Le[0],Le=Le[1],v.G==2)if(Le[0]=="c"){v.K=Le[1],v.ia=Le[2];const Pt=Le[3];Pt!=null&&(v.la=Pt,v.j.info("VER="+v.la));const pt=Le[4];pt!=null&&(v.Aa=pt,v.j.info("SVER="+v.Aa));const wn=Le[5];wn!=null&&typeof wn=="number"&&0<wn&&(I=1.5*wn,v.L=I,v.j.info("backChannelRequestTimeoutMs_="+I)),I=v;const hn=u.g;if(hn){const is=hn.g?hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(is){var W=I.h;W.g||is.indexOf("spdy")==-1&&is.indexOf("quic")==-1&&is.indexOf("h2")==-1||(W.j=W.l,W.g=new Set,W.h&&(pa(W,W.h),W.h=null))}if(I.D){const ro=hn.g?hn.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(I.ya=ro,qe(I.I,I.D,ro))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-u.F,v.j.info("Handshake RTT: "+v.R+"ms")),I=v;var ie=u;if(I.qa=Ql(I,I.J?I.ia:null,I.W),ie.K){Ml(I.h,ie);var $e=ie,Et=I.L;Et&&($e.I=Et),$e.B&&(Xi($e),Ke($e)),I.g=ie}else rs(I);0<v.i.length&&er(v)}else Le[0]!="stop"&&Le[0]!="close"||Sr(v,7);else v.G==3&&(Le[0]=="stop"||Le[0]=="close"?Le[0]=="stop"?Sr(v,7):xt(v):Le[0]!="noop"&&v.l&&v.l.ta(Le),v.v=0)}}_r(4)}catch{}}var Ol=class{constructor(u,m){this.g=u,this.map=m}};function Ji(u){this.l=u||10,f.PerformanceNavigationTiming?(u=f.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ln(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ll(u){return u.h?1:u.g?u.g.size:0}function Ht(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function pa(u,m){u.g?u.g.add(m):u.h=m}function Ml(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ji.prototype.cancel=function(){if(this.i=jl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function jl(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.D);return m}return B(u.i)}function Hs(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(p(u)){for(var m=[],v=u.length,I=0;I<v;I++)m.push(u[I]);return m}m=[],v=0;for(I in u)m[v++]=u[I];return m}function qs(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(p(u)||typeof u=="string"){var m=[];u=u.length;for(var v=0;v<u;v++)m.push(v);return m}m=[],v=0;for(const I in u)m[v++]=I;return m}}}function Qr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(p(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var v=qs(u),I=Hs(u),F=I.length,W=0;W<F;W++)m.call(void 0,I[W],v&&v[W],u)}var Zi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lh(u,m){if(u){u=u.split("&");for(var v=0;v<u.length;v++){var I=u[v].indexOf("="),F=null;if(0<=I){var W=u[v].substring(0,I);F=u[v].substring(I+1)}else W=u[v];m(W,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function wr(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof wr){this.h=u.h,es(this,u.j),this.o=u.o,this.g=u.g,Yr(this,u.s),this.l=u.l;var m=u.i,v=new Xn;v.i=m.i,m.g&&(v.g=new Map(m.g),v.h=m.h),Xr(this,v),this.m=u.m}else u&&(m=String(u).match(Zi))?(this.h=!1,es(this,m[1]||"",!0),this.o=Oe(m[2]||""),this.g=Oe(m[3]||"",!0),Yr(this,m[4]),this.l=Oe(m[5]||"",!0),Xr(this,m[6]||"",!0),this.m=Oe(m[7]||"")):(this.h=!1,this.i=new Xn(null,this.h))}wr.prototype.toString=function(){var u=[],m=this.j;m&&u.push(Zr(m,Gs,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Zr(m,Gs,!0),"@"),u.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&u.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Zr(v,v.charAt(0)=="/"?Bl:Ul,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Zr(v,ma)),u.join("")};function un(u){return new wr(u)}function es(u,m,v){u.j=v?Oe(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Yr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function Xr(u,m,v){m instanceof Xn?(u.i=m,Jn(u.i,u.h)):(v||(m=Zr(m,zl)),u.i=new Xn(m,u.h))}function qe(u,m,v){u.i.set(m,v)}function Jr(u){return qe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Oe(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Zr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,Fl),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Fl(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Gs=/[#\/\?@]/g,Ul=/[#\?:]/g,Bl=/[#\?]/g,zl=/[#\?@]/g,ma=/#/g;function Xn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function Nt(u){u.g||(u.g=new Map,u.h=0,u.i&&lh(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Xn.prototype,r.add=function(u,m){Nt(this),this.i=null,u=_n(this,u);var v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function Vn(u,m){Nt(u),m=_n(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function On(u,m){return Nt(u),m=_n(u,m),u.g.has(m)}r.forEach=function(u,m){Nt(this),this.g.forEach(function(v,I){v.forEach(function(F){u.call(m,F,I,this)},this)},this)},r.na=function(){Nt(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),v=[];for(let I=0;I<m.length;I++){const F=u[I];for(let W=0;W<F.length;W++)v.push(m[I])}return v},r.V=function(u){Nt(this);let m=[];if(typeof u=="string")On(this,u)&&(m=m.concat(this.g.get(_n(this,u))));else{u=Array.from(this.g.values());for(let v=0;v<u.length;v++)m=m.concat(u[v])}return m},r.set=function(u,m){return Nt(this),this.i=null,u=_n(this,u),On(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function ei(u,m,v){Vn(u,m),0<v.length&&(u.i=null,u.g.set(_n(u,m),B(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var v=0;v<m.length;v++){var I=m[v];const W=encodeURIComponent(String(I)),ie=this.V(I);for(I=0;I<ie.length;I++){var F=W;ie[I]!==""&&(F+="="+encodeURIComponent(String(ie[I]))),u.push(F)}}return this.i=u.join("&")};function _n(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Jn(u,m){m&&!u.j&&(Nt(u),u.i=null,u.g.forEach(function(v,I){var F=I.toLowerCase();I!=F&&(Vn(this,I),ei(this,F,v))},u)),u.j=m}function uh(u,m){const v=new Ki;if(f.Image){const I=new Image;I.onload=V(Yt,v,"TestLoadImage: loaded",!0,m,I),I.onerror=V(Yt,v,"TestLoadImage: error",!1,m,I),I.onabort=V(Yt,v,"TestLoadImage: abort",!1,m,I),I.ontimeout=V(Yt,v,"TestLoadImage: timeout",!1,m,I),f.setTimeout(function(){I.ontimeout&&I.ontimeout()},1e4),I.src=u}else m(!1)}function $l(u,m){const v=new Ki,I=new AbortController,F=setTimeout(()=>{I.abort(),Yt(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:I.signal}).then(W=>{clearTimeout(F),W.ok?Yt(v,"TestPingServer: ok",!0,m):Yt(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(F),Yt(v,"TestPingServer: error",!1,m)})}function Yt(u,m,v,I,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),I(v)}catch{}}function ch(){this.g=new oa}function Wl(u,m,v){const I=v||"";try{Qr(u,function(F,W){let ie=F;y(F)&&(ie=ia(F)),m.push(I+W+"="+encodeURIComponent(ie))})}catch(F){throw m.push(I+"type="+encodeURIComponent("_badmap")),F}}function Er(u){this.l=u.Ub||null,this.j=u.eb||!1}O(Er,qi),Er.prototype.g=function(){return new ts(this.l,this.j)},Er.prototype.i=(function(u){return function(){return u}})({});function ts(u,m){_t.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}O(ts,_t),r=ts.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Mn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||f).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ln(this)),this.readyState=0},r.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Mn(this)),this.g&&(this.readyState=3,Mn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Hl(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function Hl(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}r.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ln(this):Mn(this),this.readyState==3&&Hl(this)}},r.Ra=function(u){this.g&&(this.response=this.responseText=u,Ln(this))},r.Qa=function(u){this.g&&(this.response=u,Ln(this))},r.ga=function(){this.g&&Ln(this)};function Ln(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Mn(u)}r.setRequestHeader=function(u,m){this.u.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Mn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(ts.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Tr(u){let m="";return re(u,function(v,I){m+=I,m+=":",m+=v,m+=`\r
`}),m}function ti(u,m,v){e:{for(I in v){var I=!1;break e}I=!0}I||(v=Tr(v),typeof u=="string"?v!=null&&encodeURIComponent(String(v)):qe(u,m,v))}function et(u){_t.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}O(et,_t);var hh=/^https?$/i,ga=["POST","PUT"];r=et.prototype,r.Ha=function(u){this.J=u},r.ea=function(u,m,v,I){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():bn.g(),this.v=this.o?Ms(this.o):Ms(bn),this.g.onreadystatechange=S(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(W){ns(this,W);return}if(u=v||"",v=new Map(this.headers),I)if(Object.getPrototypeOf(I)===Object.prototype)for(var F in I)v.set(F,I[F]);else if(typeof I.keys=="function"&&typeof I.get=="function")for(const W of I.keys())v.set(W,I.get(W));else throw Error("Unknown input type for opt_headers: "+String(I));I=Array.from(v.keys()).find(W=>W.toLowerCase()=="content-type"),F=f.FormData&&u instanceof f.FormData,!(0<=Array.prototype.indexOf.call(ga,m,void 0))||I||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[W,ie]of v)this.g.setRequestHeader(W,ie);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Qs(this),this.u=!0,this.g.send(u),this.u=!1}catch(W){ns(this,W)}};function ns(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,Ks(u),cn(u)}function Ks(u){u.A||(u.A=!0,wt(u,"complete"),wt(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,wt(this,"complete"),wt(this,"abort"),cn(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),cn(this,!0)),et.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?ya(this):this.bb())},r.bb=function(){ya(this)};function ya(u){if(u.h&&typeof h<"u"&&(!u.v[1]||Xt(u)!=4||u.Z()!=2)){if(u.u&&Xt(u)==4)ta(u.Ea,0,u);else if(wt(u,"readystatechange"),Xt(u)==4){u.h=!1;try{const ie=u.Z();e:switch(ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var v;if(!(v=m)){var I;if(I=ie===0){var F=String(u.D).match(Zi)[1]||null;!F&&f.self&&f.self.location&&(F=f.self.location.protocol.slice(0,-1)),I=!hh.test(F?F.toLowerCase():"")}v=I}if(v)wt(u,"complete"),wt(u,"success");else{u.m=6;try{var W=2<Xt(u)?u.g.statusText:""}catch{W=""}u.l=W+" ["+u.Z()+"]",Ks(u)}}finally{cn(u)}}}}function cn(u,m){if(u.g){Qs(u);const v=u.g,I=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||wt(u,"ready");try{v.onreadystatechange=I}catch{}}}function Qs(u){u.I&&(f.clearTimeout(u.I),u.I=null)}r.isActive=function(){return!!this.g};function Xt(u){return u.g?u.g.readyState:0}r.Z=function(){try{return 2<Xt(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),sa(m)}};function va(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ys(u){const m={};u=(u.g&&2<=Xt(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let I=0;I<u.length;I++){if(H(u[I]))continue;var v=N(u[I]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const W=m[F]||[];m[F]=W,W.push(v)}k(m,function(I){return I.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Zn(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function _a(u){this.Aa=0,this.i=[],this.j=new Ki,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Zn("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Zn("baseRetryDelayMs",5e3,u),this.cb=Zn("retryDelaySeedMs",1e4,u),this.Wa=Zn("forwardChannelMaxRetries",2,u),this.wa=Zn("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new Ji(u&&u.concurrentRequestLimit),this.Da=new ch,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=_a.prototype,r.la=8,r.G=1,r.connect=function(u,m,v,I){lt(0),this.W=u,this.H=m||{},v&&I!==void 0&&(this.H.OSID=v,this.H.OAID=I),this.F=this.X,this.I=Ql(this,null,this.W),er(this)};function xt(u){if(Xs(u),u.G==3){var m=u.U++,v=un(u.I);if(qe(v,"SID",u.K),qe(v,"RID",m),qe(v,"TYPE","terminate"),Ir(u,v),m=new Dn(u,u.j,m),m.L=2,m.v=Jr(un(v)),v=!1,f.navigator&&f.navigator.sendBeacon)try{v=f.navigator.sendBeacon(m.v.toString(),"")}catch{}!v&&f.Image&&(new Image().src=m.v,v=!0),v||(m.g=Yl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ke(m)}Kl(u)}function jn(u){u.g&&(wa(u),u.g.cancel(),u.g=null)}function Xs(u){jn(u),u.u&&(f.clearTimeout(u.u),u.u=null),eo(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&f.clearTimeout(u.s),u.s=null)}function er(u){if(!ln(u.h)&&!u.s){u.s=!0;var m=u.Ga;Be||ue(),se||(Be(),se=!0),ve.add(m,u),u.B=0}}function dh(u,m){return Ll(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Nn(S(u.Ga,u,m),Gl(u,u.B)),u.B++,!0)}r.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const F=new Dn(this,this.j,u);let W=this.o;if(this.S&&(W?(W=P(W),b(W,this.S)):W=this.S),this.m!==null||this.O||(F.H=W,W=null),this.P)e:{for(var m=0,v=0;v<this.i.length;v++){t:{var I=this.i[v];if("__data__"in I.map&&(I=I.map.__data__,typeof I=="string")){I=I.length;break t}I=void 0}if(I===void 0)break;if(m+=I,4096<m){m=v;break e}if(m===4096||v===this.i.length-1){m=v+1;break e}}m=1e3}else m=1e3;m=ni(this,F,m),v=un(this.I),qe(v,"RID",u),qe(v,"CVER",22),this.D&&qe(v,"X-HTTP-Session-Id",this.D),Ir(this,v),W&&(this.O?m="headers="+encodeURIComponent(String(Tr(W)))+"&"+m:this.m&&ti(v,this.m,W)),pa(this.h,F),this.Ua&&qe(v,"TYPE","init"),this.P?(qe(v,"$req",m),qe(v,"SID","null"),F.T=!0,Ws(F,v,null)):Ws(F,v,m),this.G=2}}else this.G==3&&(u?Js(this,u):this.i.length==0||ln(this.h)||Js(this))};function Js(u,m){var v;m?v=m.l:v=u.U++;const I=un(u.I);qe(I,"SID",u.K),qe(I,"RID",v),qe(I,"AID",u.T),Ir(u,I),u.m&&u.o&&ti(I,u.m,u.o),v=new Dn(u,u.j,v,u.B+1),u.m===null&&(v.H=u.o),m&&(u.i=m.D.concat(u.i)),m=ni(u,v,1e3),v.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),pa(u.h,v),Ws(v,I,m)}function Ir(u,m){u.H&&re(u.H,function(v,I){qe(m,I,v)}),u.l&&Qr({},function(v,I){qe(m,I,v)})}function ni(u,m,v){v=Math.min(u.i.length,v);var I=u.l?S(u.l.Na,u.l,u):null;e:{var F=u.i;let W=-1;for(;;){const ie=["count="+v];W==-1?0<v?(W=F[0].g,ie.push("ofs="+W)):W=0:ie.push("ofs="+W);let $e=!0;for(let Et=0;Et<v;Et++){let Le=F[Et].g;const Pt=F[Et].map;if(Le-=W,0>Le)W=Math.max(0,F[Et].g-100),$e=!1;else try{Wl(Pt,ie,"req"+Le+"_")}catch{I&&I(Pt)}}if($e){I=ie.join("&");break e}}}return u=u.i.splice(0,v),m.D=u,I}function rs(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;Be||ue(),se||(Be(),se=!0),ve.add(m,u),u.v=0}}function Zs(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Nn(S(u.Fa,u),Gl(u,u.v)),u.v++,!0)}r.Fa=function(){if(this.u=null,ql(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Nn(S(this.ab,this),u)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),jn(this),ql(this))};function wa(u){u.A!=null&&(f.clearTimeout(u.A),u.A=null)}function ql(u){u.g=new Dn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=un(u.qa);qe(m,"RID","rpc"),qe(m,"SID",u.K),qe(m,"AID",u.T),qe(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&qe(m,"TO",u.ja),qe(m,"TYPE","xmlhttp"),Ir(u,m),u.m&&u.o&&ti(m,u.m,u.o),u.L&&(u.g.I=u.L);var v=u.g;u=u.ia,v.L=1,v.v=Jr(un(m)),v.m=null,v.P=!0,da(v,u)}r.Za=function(){this.C!=null&&(this.C=null,jn(this),Zs(this),lt(19))};function eo(u){u.C!=null&&(f.clearTimeout(u.C),u.C=null)}function to(u,m){var v=null;if(u.g==m){eo(u),wa(u),u.g=null;var I=2}else if(Ht(u.h,m))v=m.D,Ml(u.h,m),I=1;else return;if(u.G!=0){if(m.o)if(I==1){v=m.m?m.m.length:0,m=Date.now()-m.F;var F=u.B;I=Gi(),wt(I,new Us(I,v)),er(u)}else rs(u);else if(F=m.s,F==3||F==0&&0<m.X||!(I==1&&dh(u,m)||I==2&&Zs(u)))switch(v&&0<v.length&&(m=u.h,m.i=m.i.concat(v)),F){case 1:Sr(u,5);break;case 4:Sr(u,10);break;case 3:Sr(u,6);break;default:Sr(u,2)}}}function Gl(u,m){let v=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(v*=2),v*m}function Sr(u,m){if(u.j.info("Error code "+m),m==2){var v=S(u.fb,u),I=u.Xa;const F=!I;I=new wr(I||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||es(I,"https"),Jr(I),F?uh(I.toString(),v):$l(I.toString(),v)}else lt(2);u.G=0,u.l&&u.l.sa(m),Kl(u),Xs(u)}r.fb=function(u){u?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function Kl(u){if(u.G=0,u.ka=[],u.l){const m=jl(u.h);(m.length!=0||u.i.length!=0)&&(j(u.ka,m),j(u.ka,u.i),u.h.i.length=0,B(u.i),u.i.length=0),u.l.ra()}}function Ql(u,m,v){var I=v instanceof wr?un(v):new wr(v);if(I.g!="")m&&(I.g=m+"."+I.g),Yr(I,I.s);else{var F=f.location;I=F.protocol,m=m?m+"."+F.hostname:F.hostname,F=+F.port;var W=new wr(null);I&&es(W,I),m&&(W.g=m),F&&Yr(W,F),v&&(W.l=v),I=W}return v=u.D,m=u.ya,v&&m&&qe(I,v,m),qe(I,"VER",u.la),Ir(u,I),I}function Yl(u,m,v){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new et(new Er({eb:v})):new et(u.pa),m.Ha(u.J),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ea(){}r=Ea.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function no(){}no.prototype.g=function(u,m){return new qt(u,m)};function qt(u,m){_t.call(this),this.g=new _a(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!H(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!H(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new tr(this)}O(qt,_t),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){xt(this.g)},qt.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.u&&(v={},v.__data__=ia(u),u=v);m.i.push(new Ol(m.Ya++,u)),m.G==3&&er(m)},qt.prototype.N=function(){this.g.l=null,delete this.j,xt(this.g),delete this.g,qt.aa.N.call(this)};function Xl(u){Qn.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){e:{for(const v in m){u=v;break e}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}O(Xl,Qn);function Jl(){Fs.call(this),this.status=1}O(Jl,Fs);function tr(u){this.g=u}O(tr,Ea),tr.prototype.ua=function(){wt(this.g,"a")},tr.prototype.ta=function(u){wt(this.g,new Xl(u))},tr.prototype.sa=function(u){wt(this.g,new Jl)},tr.prototype.ra=function(){wt(this.g,"b")},no.prototype.createWebChannel=no.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,q_=function(){return new no},H_=function(){return Gi()},W_=Yn,hf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zs.NO_ERROR=0,zs.TIMEOUT=8,zs.HTTP_ERROR=6,ic=zs,xl.COMPLETE="complete",$_=xl,js.EventType=yn,yn.OPEN="a",yn.CLOSE="b",yn.ERROR="c",yn.MESSAGE="d",_t.prototype.listen=_t.prototype.K,Ka=js,et.prototype.listenOnce=et.prototype.L,et.prototype.getLastError=et.prototype.Ka,et.prototype.getLastErrorCode=et.prototype.Ba,et.prototype.getStatus=et.prototype.Z,et.prototype.getResponseJson=et.prototype.Oa,et.prototype.getResponseText=et.prototype.oa,et.prototype.send=et.prototype.ea,et.prototype.setWithCredentials=et.prototype.Ha,z_=et}).apply(typeof Gu<"u"?Gu:typeof self<"u"?self:typeof window<"u"?window:{});const Dy="@firebase/firestore",Vy="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}zt.UNAUTHENTICATED=new zt(null),zt.GOOGLE_CREDENTIALS=new zt("google-credentials-uid"),zt.FIRST_PARTY=new zt("first-party-uid"),zt.MOCK_USER=new zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Go="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As=new Of("@firebase/firestore");function Po(){return As.logLevel}function de(r,...e){if(As.logLevel<=De.DEBUG){const t=e.map(Gf);As.debug(`Firestore (${Go}): ${r}`,...t)}}function Br(r,...e){if(As.logLevel<=De.ERROR){const t=e.map(Gf);As.error(`Firestore (${Go}): ${r}`,...t)}}function xi(r,...e){if(As.logLevel<=De.WARN){const t=e.map(Gf);As.warn(`Firestore (${Go}): ${r}`,...t)}}function Gf(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ie(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,G_(r,i,t)}function G_(r,e,t){let i=`FIRESTORE (${Go}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw Br(i),new Error(i)}function ze(r,e,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,r||G_(e,o,i)}function Ce(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ae extends Hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K_{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class B1{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(zt.UNAUTHENTICATED)))}shutdown(){}}class z1{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class $1{constructor(e){this.t=e,this.currentUser=zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let l=new Mr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Mr,e.enqueueRetryable((()=>o(this.currentUser)))};const h=()=>{const p=l;e.enqueueRetryable((async()=>{await p.promise,await o(this.currentUser)}))},f=p=>{de("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit((p=>f(p))),setTimeout((()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?f(p):(de("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Mr)}}),0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(de("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string",31837,{l:i}),new K_(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new zt(e)}}class W1{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class H1{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new W1(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(zt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Oy{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class q1{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Cn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const i=l=>{l.error!=null&&de("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const h=l.token!==this.m;return this.m=l.token,de("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const o=l=>{de("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>o(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?o(l):de("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Oy(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Oy(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G1(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const o=G1(40);for(let l=0;l<o.length;++l)i.length<20&&o[l]<t&&(i+=e.charAt(o[l]%62))}return i}}function Ne(r,e){return r<e?-1:r>e?1:0}function df(r,e){let t=0;for(;t<r.length&&t<e.length;){const i=r.codePointAt(t),o=e.codePointAt(t);if(i!==o){if(i<128&&o<128)return Ne(i,o);{const l=Q_(),h=K1(l.encode(Ly(r,t)),l.encode(Ly(e,t)));return h!==0?h:Ne(i,o)}}t+=i>65535?2:1}return Ne(r.length,e.length)}function Ly(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function K1(r,e){for(let t=0;t<r.length&&t<e.length;++t)if(r[t]!==e[t])return Ne(r[t],e[t]);return Ne(r.length,e.length)}function Lo(r,e,t){return r.length===e.length&&r.every(((i,o)=>t(i,e[o])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const My="__name__";class or{constructor(e,t,i){t===void 0?t=0:t>e.length&&Ie(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&Ie(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return or.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof or?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const l=or.compareSegments(e.get(o),t.get(o));if(l!==0)return l}return Ne(e.length,t.length)}static compareSegments(e,t){const i=or.isNumericId(e),o=or.isNumericId(t);return i&&!o?-1:!i&&o?1:i&&o?or.extractNumericId(e).compare(or.extractNumericId(t)):df(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ki.fromString(e.substring(4,e.length-2))}}class Ye extends or{construct(e,t,i){return new Ye(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new ae(Q.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((o=>o.length>0)))}return new Ye(t)}static emptyPath(){return new Ye([])}}const Q1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends or{construct(e,t,i){return new Ot(e,t,i)}static isValidIdentifier(e){return Q1.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===My}static keyField(){return new Ot([My])}static fromServerFormat(e){const t=[];let i="",o=0;const l=()=>{if(i.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let h=!1;for(;o<e.length;){const f=e[o];if(f==="\\"){if(o+1===e.length)throw new ae(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new ae(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else f==="`"?(h=!h,o++):f!=="."||h?(i+=f,o++):(l(),o++)}if(l(),h)throw new ae(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(Ye.fromString(e))}static fromName(e){return new _e(Ye.fromString(e).popFirst(5))}static empty(){return new _e(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new Ye(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(r,e,t){if(!t)throw new ae(Q.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function Y1(r,e,t,i){if(e===!0&&i===!0)throw new ae(Q.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function jy(r){if(!_e.isDocumentKey(r))throw new ae(Q.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Fy(r){if(_e.isDocumentKey(r))throw new ae(Q.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function X_(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Uc(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ie(12329,{type:typeof r})}function an(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new ae(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Uc(r);throw new ae(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Tl(r,e){if(!X_(r))throw new ae(Q.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const o=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const h=r[i];if(o&&typeof h!==o){t=`JSON field '${i}' must be a ${o}.`;break}if(l!==void 0&&h!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new ae(Q.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uy=-62135596800,By=1e6;class Ge{static now(){return Ge.fromMillis(Date.now())}static fromDate(e){return Ge.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*By);return new Ge(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ae(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<Uy)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ae(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/By}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ge._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Tl(e,Ge._jsonSchema))return new Ge(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Uy;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ge._jsonSchemaVersion="firestore/timestamp/1.0",Ge._jsonSchema={type:vt("string",Ge._jsonSchemaVersion),seconds:vt("number"),nanoseconds:vt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{static fromTimestamp(e){return new Ae(e)}static min(){return new Ae(new Ge(0,0))}static max(){return new Ae(new Ge(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ll=-1;function X1(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,o=Ae.fromTimestamp(i===1e9?new Ge(t+1,0):new Ge(t,i));return new bi(o,_e.empty(),e)}function J1(r){return new bi(r.readTime,r.key,ll)}class bi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new bi(Ae.min(),_e.empty(),ll)}static max(){return new bi(Ae.max(),_e.empty(),ll)}}function Z1(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=_e.comparator(r.documentKey,e.documentKey),t!==0?t:Ne(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ko(r){if(r.code!==Q.FAILED_PRECONDITION||r.message!==eA)throw r;de("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Y(((i,o)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,o)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,o)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Y?t:Y.resolve(t)}catch(t){return Y.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Y.reject(t)}static resolve(e){return new Y(((t,i)=>{t(e)}))}static reject(e){return new Y(((t,i)=>{i(e)}))}static waitFor(e){return new Y(((t,i)=>{let o=0,l=0,h=!1;e.forEach((f=>{++o,f.next((()=>{++l,h&&l===o&&t()}),(p=>i(p)))})),h=!0,l===o&&t()}))}static or(e){let t=Y.resolve(!1);for(const i of e)t=t.next((o=>o?Y.resolve(o):i()));return t}static forEach(e,t){const i=[];return e.forEach(((o,l)=>{i.push(t.call(this,o,l))})),this.waitFor(i)}static mapArray(e,t){return new Y(((i,o)=>{const l=e.length,h=new Array(l);let f=0;for(let p=0;p<l;p++){const y=p;t(e[y]).next((w=>{h[y]=w,++f,f===l&&i(h)}),(w=>o(w)))}}))}static doWhile(e,t){return new Y(((i,o)=>{const l=()=>{e()===!0?t().next((()=>{l()}),o):i()};l()}))}}function nA(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Qo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bc{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this._e(i),this.ae=i=>t.writeSequenceNumber(i))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}Bc.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qf=-1;function zc(r){return r==null}function wc(r){return r===0&&1/r==-1/0}function rA(r){return typeof r=="number"&&Number.isInteger(r)&&!wc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_="";function iA(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=zy(e)),e=sA(r.get(t),e);return zy(e)}function sA(r,e){let t=e;const i=r.length;for(let o=0;o<i;o++){const l=r.charAt(o);switch(l){case"\0":t+="";break;case J_:t+="";break;default:t+=l}}return t}function zy(r){return r+J_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Ui(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Z_(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class it{constructor(e,t){this.comparator=e,this.root=t||Vt.EMPTY}insert(e,t){return new it(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Vt.BLACK,null,null))}remove(e){return new it(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ku(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ku(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ku(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ku(this.root,e,this.comparator,!0)}}class Ku{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&o&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vt{constructor(e,t,i,o,l){this.key=e,this.value=t,this.color=i??Vt.RED,this.left=o??Vt.EMPTY,this.right=l??Vt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,l){return new Vt(e??this.key,t??this.value,i??this.color,o??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const l=i(e,o.key);return o=l<0?o.copy(null,null,null,o.left.insert(e,t,i),null):l===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Vt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return Vt.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ie(27949);return e+(this.isRed()?0:1)}}Vt.EMPTY=null,Vt.RED=!0,Vt.BLACK=!1;Vt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ie(57766)}get value(){throw Ie(16141)}get color(){throw Ie(16727)}get left(){throw Ie(29726)}get right(){throw Ie(36894)}copy(e,t,i,o,l){return this}insert(e,t,i){return new Vt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new it(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Wy(this.data.getIterator())}getIteratorFrom(e){return new Wy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(this.comparator(o,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new St(this.comparator);return t.data=e,t}}class Wy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new gn([])}unionWith(e){let t=new St(Ot.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new gn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lo(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(o){try{return atob(o)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new ew("Invalid base64 string: "+l):l}})(e);return new Lt(t)}static fromUint8Array(e){const t=(function(o){let l="";for(let h=0;h<o.length;++h)l+=String.fromCharCode(o[h]);return l})(e);return new Lt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Lt.EMPTY_BYTE_STRING=new Lt("");const oA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Di(r){if(ze(!!r,39018),typeof r=="string"){let e=0;const t=oA.exec(r);if(ze(!!t,46558,{timestamp:r}),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:ct(r.seconds),nanos:ct(r.nanos)}}function ct(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Vi(r){return typeof r=="string"?Lt.fromBase64String(r):Lt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw="server_timestamp",nw="__type__",rw="__previous_value__",iw="__local_write_time__";function Yf(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[nw])===null||t===void 0?void 0:t.stringValue)===tw}function $c(r){const e=r.mapValue.fields[rw];return Yf(e)?$c(e):e}function ul(r){const e=Di(r.mapValue.fields[iw].timestampValue);return new Ge(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aA{constructor(e,t,i,o,l,h,f,p,y,w){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=l,this.forceLongPolling=h,this.autoDetectLongPolling=f,this.longPollingOptions=p,this.useFetchStreams=y,this.isUsingEmulator=w}}const Ec="(default)";class cl{constructor(e,t){this.projectId=e,this.database=t||Ec}static empty(){return new cl("","")}get isDefaultDatabase(){return this.database===Ec}isEqual(e){return e instanceof cl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sw="__type__",lA="__max__",Qu={mapValue:{}},ow="__vector__",Tc="value";function Oi(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Yf(r)?4:cA(r)?9007199254740991:uA(r)?10:11:Ie(28295,{value:r})}function pr(r,e){if(r===e)return!0;const t=Oi(r);if(t!==Oi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return ul(r).isEqual(ul(e));case 3:return(function(o,l){if(typeof o.timestampValue=="string"&&typeof l.timestampValue=="string"&&o.timestampValue.length===l.timestampValue.length)return o.timestampValue===l.timestampValue;const h=Di(o.timestampValue),f=Di(l.timestampValue);return h.seconds===f.seconds&&h.nanos===f.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(o,l){return Vi(o.bytesValue).isEqual(Vi(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(o,l){return ct(o.geoPointValue.latitude)===ct(l.geoPointValue.latitude)&&ct(o.geoPointValue.longitude)===ct(l.geoPointValue.longitude)})(r,e);case 2:return(function(o,l){if("integerValue"in o&&"integerValue"in l)return ct(o.integerValue)===ct(l.integerValue);if("doubleValue"in o&&"doubleValue"in l){const h=ct(o.doubleValue),f=ct(l.doubleValue);return h===f?wc(h)===wc(f):isNaN(h)&&isNaN(f)}return!1})(r,e);case 9:return Lo(r.arrayValue.values||[],e.arrayValue.values||[],pr);case 10:case 11:return(function(o,l){const h=o.mapValue.fields||{},f=l.mapValue.fields||{};if($y(h)!==$y(f))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(f[p]===void 0||!pr(h[p],f[p])))return!1;return!0})(r,e);default:return Ie(52216,{left:r})}}function hl(r,e){return(r.values||[]).find((t=>pr(t,e)))!==void 0}function Mo(r,e){if(r===e)return 0;const t=Oi(r),i=Oi(e);if(t!==i)return Ne(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return(function(l,h){const f=ct(l.integerValue||l.doubleValue),p=ct(h.integerValue||h.doubleValue);return f<p?-1:f>p?1:f===p?0:isNaN(f)?isNaN(p)?0:-1:1})(r,e);case 3:return Hy(r.timestampValue,e.timestampValue);case 4:return Hy(ul(r),ul(e));case 5:return df(r.stringValue,e.stringValue);case 6:return(function(l,h){const f=Vi(l),p=Vi(h);return f.compareTo(p)})(r.bytesValue,e.bytesValue);case 7:return(function(l,h){const f=l.split("/"),p=h.split("/");for(let y=0;y<f.length&&y<p.length;y++){const w=Ne(f[y],p[y]);if(w!==0)return w}return Ne(f.length,p.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,h){const f=Ne(ct(l.latitude),ct(h.latitude));return f!==0?f:Ne(ct(l.longitude),ct(h.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return qy(r.arrayValue,e.arrayValue);case 10:return(function(l,h){var f,p,y,w;const T=l.fields||{},S=h.fields||{},V=(f=T[Tc])===null||f===void 0?void 0:f.arrayValue,O=(p=S[Tc])===null||p===void 0?void 0:p.arrayValue,B=Ne(((y=V==null?void 0:V.values)===null||y===void 0?void 0:y.length)||0,((w=O==null?void 0:O.values)===null||w===void 0?void 0:w.length)||0);return B!==0?B:qy(V,O)})(r.mapValue,e.mapValue);case 11:return(function(l,h){if(l===Qu.mapValue&&h===Qu.mapValue)return 0;if(l===Qu.mapValue)return 1;if(h===Qu.mapValue)return-1;const f=l.fields||{},p=Object.keys(f),y=h.fields||{},w=Object.keys(y);p.sort(),w.sort();for(let T=0;T<p.length&&T<w.length;++T){const S=df(p[T],w[T]);if(S!==0)return S;const V=Mo(f[p[T]],y[w[T]]);if(V!==0)return V}return Ne(p.length,w.length)})(r.mapValue,e.mapValue);default:throw Ie(23264,{le:t})}}function Hy(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const t=Di(r),i=Di(e),o=Ne(t.seconds,i.seconds);return o!==0?o:Ne(t.nanos,i.nanos)}function qy(r,e){const t=r.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const l=Mo(t[o],i[o]);if(l)return l}return Ne(t.length,i.length)}function jo(r){return ff(r)}function ff(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Di(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Vi(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return _e.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",o=!0;for(const l of t.values||[])o?o=!1:i+=",",i+=ff(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let o="{",l=!0;for(const h of i)l?l=!1:o+=",",o+=`${h}:${ff(t.fields[h])}`;return o+"}"})(r.mapValue):Ie(61005,{value:r})}function sc(r){switch(Oi(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=$c(r);return e?16+sc(e):16;case 5:return 2*r.stringValue.length;case 6:return Vi(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((o,l)=>o+sc(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let o=0;return Ui(i.fields,((l,h)=>{o+=l.length+sc(h)})),o})(r.mapValue);default:throw Ie(13486,{value:r})}}function Gy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function pf(r){return!!r&&"integerValue"in r}function Xf(r){return!!r&&"arrayValue"in r}function Ky(r){return!!r&&"nullValue"in r}function Qy(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function oc(r){return!!r&&"mapValue"in r}function uA(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[sw])===null||t===void 0?void 0:t.stringValue)===ow}function el(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Ui(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=el(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=el(r.arrayValue.values[t]);return e}return Object.assign({},r)}function cA(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lA}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e){this.value=e}static empty(){return new on({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!oc(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=el(t)}setAll(e){let t=Ot.emptyPath(),i={},o=[];e.forEach(((h,f)=>{if(!t.isImmediateParentOf(f)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=f.popLast()}h?i[f.lastSegment()]=el(h):o.push(f.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,o)}delete(e){const t=this.field(e.popLast());oc(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return pr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];oc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){Ui(t,((o,l)=>e[o]=l));for(const o of i)delete e[o]}clone(){return new on(el(this.value))}}function aw(r){const e=[];return Ui(r.fields,((t,i)=>{const o=new Ot([t]);if(oc(i)){const l=aw(i.mapValue).fields;if(l.length===0)e.push(o);else for(const h of l)e.push(o.child(h))}else e.push(o)})),new gn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,t,i,o,l,h,f){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=l,this.data=h,this.documentState=f}static newInvalidDocument(e){return new $t(e,0,Ae.min(),Ae.min(),Ae.min(),on.empty(),0)}static newFoundDocument(e,t,i,o){return new $t(e,1,t,Ae.min(),i,o,0)}static newNoDocument(e,t){return new $t(e,2,t,Ae.min(),Ae.min(),on.empty(),0)}static newUnknownDocument(e,t){return new $t(e,3,t,Ae.min(),Ae.min(),on.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=on.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=on.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof $t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new $t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e,t){this.position=e,this.inclusive=t}}function Yy(r,e,t){let i=0;for(let o=0;o<r.position.length;o++){const l=e[o],h=r.position[o];if(l.field.isKeyField()?i=_e.comparator(_e.fromName(h.referenceValue),t.key):i=Mo(h,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function Xy(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!pr(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sc{constructor(e,t="asc"){this.field=e,this.dir=t}}function hA(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{}class yt extends lw{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new fA(e,t,i):t==="array-contains"?new gA(e,i):t==="in"?new yA(e,i):t==="not-in"?new vA(e,i):t==="array-contains-any"?new _A(e,i):new yt(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new pA(e,i):new mA(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Mo(t,this.value)):t!==null&&Oi(this.value)===Oi(t)&&this.matchesComparison(Mo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gn extends lw{constructor(e,t){super(),this.filters=e,this.op=t,this.he=null}static create(e,t){return new Gn(e,t)}matches(e){return uw(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function uw(r){return r.op==="and"}function cw(r){return dA(r)&&uw(r)}function dA(r){for(const e of r.filters)if(e instanceof Gn)return!1;return!0}function mf(r){if(r instanceof yt)return r.field.canonicalString()+r.op.toString()+jo(r.value);if(cw(r))return r.filters.map((e=>mf(e))).join(",");{const e=r.filters.map((t=>mf(t))).join(",");return`${r.op}(${e})`}}function hw(r,e){return r instanceof yt?(function(i,o){return o instanceof yt&&i.op===o.op&&i.field.isEqual(o.field)&&pr(i.value,o.value)})(r,e):r instanceof Gn?(function(i,o){return o instanceof Gn&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce(((l,h,f)=>l&&hw(h,o.filters[f])),!0):!1})(r,e):void Ie(19439)}function dw(r){return r instanceof yt?(function(t){return`${t.field.canonicalString()} ${t.op} ${jo(t.value)}`})(r):r instanceof Gn?(function(t){return t.op.toString()+" {"+t.getFilters().map(dw).join(" ,")+"}"})(r):"Filter"}class fA extends yt{constructor(e,t,i){super(e,t,i),this.key=_e.fromName(i.referenceValue)}matches(e){const t=_e.comparator(e.key,this.key);return this.matchesComparison(t)}}class pA extends yt{constructor(e,t){super(e,"in",t),this.keys=fw("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class mA extends yt{constructor(e,t){super(e,"not-in",t),this.keys=fw("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function fw(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map((i=>_e.fromName(i.referenceValue)))}class gA extends yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xf(t)&&hl(t.arrayValue,this.value)}}class yA extends yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&hl(this.value.arrayValue,t)}}class vA extends yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!hl(this.value.arrayValue,t)}}class _A extends yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xf(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>hl(this.value.arrayValue,i)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,t=null,i=[],o=[],l=null,h=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=l,this.startAt=h,this.endAt=f,this.Pe=null}}function Jy(r,e=null,t=[],i=[],o=null,l=null,h=null){return new wA(r,e,t,i,o,l,h)}function Jf(r){const e=Ce(r);if(e.Pe===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>mf(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),zc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>jo(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>jo(i))).join(",")),e.Pe=t}return e.Pe}function Zf(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!hA(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!hw(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!Xy(r.startAt,e.startAt)&&Xy(r.endAt,e.endAt)}function gf(r){return _e.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(e,t=null,i=[],o=[],l=null,h="F",f=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=l,this.limitType=h,this.startAt=f,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function EA(r,e,t,i,o,l,h,f){return new Il(r,e,t,i,o,l,h,f)}function Wc(r){return new Il(r)}function Zy(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pw(r){return r.collectionGroup!==null}function tl(r){const e=Ce(r);if(e.Te===null){e.Te=[];const t=new Set;for(const l of e.explicitOrderBy)e.Te.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let f=new St(Ot.comparator);return h.filters.forEach((p=>{p.getFlattenedFilters().forEach((y=>{y.isInequality()&&(f=f.add(y.field))}))})),f})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Te.push(new Sc(l,i))})),t.has(Ot.keyField().canonicalString())||e.Te.push(new Sc(Ot.keyField(),i))}return e.Te}function cr(r){const e=Ce(r);return e.Ie||(e.Ie=TA(e,tl(r))),e.Ie}function TA(r,e){if(r.limitType==="F")return Jy(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((o=>{const l=o.dir==="desc"?"asc":"desc";return new Sc(o.field,l)}));const t=r.endAt?new Ic(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new Ic(r.startAt.position,r.startAt.inclusive):null;return Jy(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function yf(r,e){const t=r.filters.concat([e]);return new Il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function vf(r,e,t){return new Il(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Hc(r,e){return Zf(cr(r),cr(e))&&r.limitType===e.limitType}function mw(r){return`${Jf(cr(r))}|lt:${r.limitType}`}function Ao(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((o=>dw(o))).join(", ")}]`),zc(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((o=>(function(h){return`${h.field.canonicalString()} (${h.dir})`})(o))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>jo(o))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>jo(o))).join(",")),`Target(${i})`})(cr(r))}; limitType=${r.limitType})`}function qc(r,e){return e.isFoundDocument()&&(function(i,o){const l=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):_e.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,o){for(const l of tl(i))if(!l.field.isKeyField()&&o.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,o){for(const l of i.filters)if(!l.matches(o))return!1;return!0})(r,e)&&(function(i,o){return!(i.startAt&&!(function(h,f,p){const y=Yy(h,f,p);return h.inclusive?y<=0:y<0})(i.startAt,tl(i),o)||i.endAt&&!(function(h,f,p){const y=Yy(h,f,p);return h.inclusive?y>=0:y>0})(i.endAt,tl(i),o))})(r,e)}function IA(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function gw(r){return(e,t)=>{let i=!1;for(const o of tl(r)){const l=SA(o,e,t);if(l!==0)return l;i=i||o.field.isKeyField()}return 0}}function SA(r,e,t){const i=r.field.isKeyField()?_e.comparator(e.key,t.key):(function(l,h,f){const p=h.data.field(l),y=f.data.field(l);return p!==null&&y!==null?Mo(p,y):Ie(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return Ie(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,l]of i)if(this.equalsFn(o,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<o.length;l++)if(this.equalsFn(o[l][0],e))return void(o[l]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ui(this.inner,((t,i)=>{for(const[o,l]of i)e(o,l)}))}isEmpty(){return Z_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PA=new it(_e.comparator);function zr(){return PA}const yw=new it(_e.comparator);function Qa(...r){let e=yw;for(const t of r)e=e.insert(t.key,t);return e}function vw(r){let e=yw;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function _s(){return nl()}function _w(){return nl()}function nl(){return new Ns((r=>r.toString()),((r,e)=>r.isEqual(e)))}const AA=new it(_e.comparator),CA=new St(_e.comparator);function Ve(...r){let e=CA;for(const t of r)e=e.add(t);return e}const RA=new St(Ne);function kA(){return RA}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ep(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:wc(e)?"-0":e}}function ww(r){return{integerValue:""+r}}function NA(r,e){return rA(e)?ww(e):ep(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{constructor(){this._=void 0}}function xA(r,e,t){return r instanceof Pc?(function(o,l){const h={fields:{[nw]:{stringValue:tw},[iw]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return l&&Yf(l)&&(l=$c(l)),l&&(h.fields[rw]=l),{mapValue:h}})(t,e):r instanceof dl?Tw(r,e):r instanceof fl?Iw(r,e):(function(o,l){const h=Ew(o,l),f=ev(h)+ev(o.Ee);return pf(h)&&pf(o.Ee)?ww(f):ep(o.serializer,f)})(r,e)}function bA(r,e,t){return r instanceof dl?Tw(r,e):r instanceof fl?Iw(r,e):t}function Ew(r,e){return r instanceof Ac?(function(i){return pf(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Pc extends Gc{}class dl extends Gc{constructor(e){super(),this.elements=e}}function Tw(r,e){const t=Sw(e);for(const i of r.elements)t.some((o=>pr(o,i)))||t.push(i);return{arrayValue:{values:t}}}class fl extends Gc{constructor(e){super(),this.elements=e}}function Iw(r,e){let t=Sw(e);for(const i of r.elements)t=t.filter((o=>!pr(o,i)));return{arrayValue:{values:t}}}class Ac extends Gc{constructor(e,t){super(),this.serializer=e,this.Ee=t}}function ev(r){return ct(r.integerValue||r.doubleValue)}function Sw(r){return Xf(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function DA(r,e){return r.field.isEqual(e.field)&&(function(i,o){return i instanceof dl&&o instanceof dl||i instanceof fl&&o instanceof fl?Lo(i.elements,o.elements,pr):i instanceof Ac&&o instanceof Ac?pr(i.Ee,o.Ee):i instanceof Pc&&o instanceof Pc})(r.transform,e.transform)}class VA{constructor(e,t){this.version=e,this.transformResults=t}}class kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ac(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Kc{}function Pw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new tp(r.key,kn.none()):new Sl(r.key,r.data,kn.none());{const t=r.data,i=on.empty();let o=new St(Ot.comparator);for(let l of e.fields)if(!o.has(l)){let h=t.field(l);h===null&&l.length>1&&(l=l.popLast(),h=t.field(l)),h===null?i.delete(l):i.set(l,h),o=o.add(l)}return new Bi(r.key,i,new gn(o.toArray()),kn.none())}}function OA(r,e,t){r instanceof Sl?(function(o,l,h){const f=o.value.clone(),p=nv(o.fieldTransforms,l,h.transformResults);f.setAll(p),l.convertToFoundDocument(h.version,f).setHasCommittedMutations()})(r,e,t):r instanceof Bi?(function(o,l,h){if(!ac(o.precondition,l))return void l.convertToUnknownDocument(h.version);const f=nv(o.fieldTransforms,l,h.transformResults),p=l.data;p.setAll(Aw(o)),p.setAll(f),l.convertToFoundDocument(h.version,p).setHasCommittedMutations()})(r,e,t):(function(o,l,h){l.convertToNoDocument(h.version).setHasCommittedMutations()})(0,e,t)}function rl(r,e,t,i){return r instanceof Sl?(function(l,h,f,p){if(!ac(l.precondition,h))return f;const y=l.value.clone(),w=rv(l.fieldTransforms,p,h);return y.setAll(w),h.convertToFoundDocument(h.version,y).setHasLocalMutations(),null})(r,e,t,i):r instanceof Bi?(function(l,h,f,p){if(!ac(l.precondition,h))return f;const y=rv(l.fieldTransforms,p,h),w=h.data;return w.setAll(Aw(l)),w.setAll(y),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,i):(function(l,h,f){return ac(l.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):f})(r,e,t)}function LA(r,e){let t=null;for(const i of r.fieldTransforms){const o=e.data.field(i.field),l=Ew(i.transform,o||null);l!=null&&(t===null&&(t=on.empty()),t.set(i.field,l))}return t||null}function tv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&Lo(i,o,((l,h)=>DA(l,h)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Sl extends Kc{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Bi extends Kc{constructor(e,t,i,o,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function Aw(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function nv(r,e,t){const i=new Map;ze(r.length===t.length,32656,{Ae:t.length,Re:r.length});for(let o=0;o<t.length;o++){const l=r[o],h=l.transform,f=e.data.field(l.field);i.set(l.field,bA(h,f,t[o]))}return i}function rv(r,e,t){const i=new Map;for(const o of r){const l=o.transform,h=t.data.field(o.field);i.set(o.field,xA(l,h,e))}return i}class tp extends Kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class MA extends Kc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const l=this.mutations[o];l.key.isEqual(e.key)&&OA(l,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=rl(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=rl(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=_w();return this.mutations.forEach((o=>{const l=e.get(o.key),h=l.overlayedDocument;let f=this.applyToLocalView(h,l.mutatedFields);f=t.has(o.key)?null:f;const p=Pw(h,f);p!==null&&i.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(Ae.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Ve())}isEqual(e){return this.batchId===e.batchId&&Lo(this.mutations,e.mutations,((t,i)=>tv(t,i)))&&Lo(this.baseMutations,e.baseMutations,((t,i)=>tv(t,i)))}}class np{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){ze(e.mutations.length===i.length,58842,{Ve:e.mutations.length,me:i.length});let o=(function(){return AA})();const l=e.mutations;for(let h=0;h<l.length;h++)o=o.insert(l[h].key,i[h].version);return new np(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Me;function BA(r){switch(r){case Q.OK:return Ie(64938);case Q.CANCELLED:case Q.UNKNOWN:case Q.DEADLINE_EXCEEDED:case Q.RESOURCE_EXHAUSTED:case Q.INTERNAL:case Q.UNAVAILABLE:case Q.UNAUTHENTICATED:return!1;case Q.INVALID_ARGUMENT:case Q.NOT_FOUND:case Q.ALREADY_EXISTS:case Q.PERMISSION_DENIED:case Q.FAILED_PRECONDITION:case Q.ABORTED:case Q.OUT_OF_RANGE:case Q.UNIMPLEMENTED:case Q.DATA_LOSS:return!0;default:return Ie(15467,{code:r})}}function Cw(r){if(r===void 0)return Br("GRPC error has no .code"),Q.UNKNOWN;switch(r){case gt.OK:return Q.OK;case gt.CANCELLED:return Q.CANCELLED;case gt.UNKNOWN:return Q.UNKNOWN;case gt.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case gt.INTERNAL:return Q.INTERNAL;case gt.UNAVAILABLE:return Q.UNAVAILABLE;case gt.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case gt.NOT_FOUND:return Q.NOT_FOUND;case gt.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case gt.ABORTED:return Q.ABORTED;case gt.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case gt.DATA_LOSS:return Q.DATA_LOSS;default:return Ie(39323,{code:r})}}(Me=gt||(gt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA=new ki([4294967295,4294967295],0);function iv(r){const e=Q_().encode(r),t=new B_;return t.update(e),new Uint8Array(t.digest())}function sv(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new ki([t,i],0),new ki([o,l],0)]}class rp{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ya(`Invalid padding: ${t}`);if(i<0)throw new Ya(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ya(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ya(`Invalid padding when bitmap length is 0: ${t}`);this.fe=8*e.length-t,this.ge=ki.fromNumber(this.fe)}pe(e,t,i){let o=e.add(t.multiply(ki.fromNumber(i)));return o.compare(zA)===1&&(o=new ki([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const t=iv(e),[i,o]=sv(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(i,o,l);if(!this.ye(h))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),h=new rp(l,o,t);return i.forEach((f=>h.insert(f))),h}insert(e){if(this.fe===0)return;const t=iv(e),[i,o]=sv(t);for(let l=0;l<this.hashCount;l++){const h=this.pe(i,o,l);this.we(h)}}we(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ya extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qc{constructor(e,t,i,o,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,Pl.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Qc(Ae.min(),o,new it(Ne),zr(),Ve())}}class Pl{constructor(e,t,i,o,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new Pl(i,t,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,t,i,o){this.Se=e,this.removedTargetIds=t,this.key=i,this.be=o}}class Rw{constructor(e,t){this.targetId=e,this.De=t}}class kw{constructor(e,t,i=Lt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class ov{constructor(){this.ve=0,this.Ce=av(),this.Fe=Lt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=Ve(),t=Ve(),i=Ve();return this.Ce.forEach(((o,l)=>{switch(l){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:Ie(38017,{changeType:l})}})),new Pl(this.Fe,this.Me,e,t,i)}ke(){this.xe=!1,this.Ce=av()}qe(e,t){this.xe=!0,this.Ce=this.Ce.insert(e,t)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class $A{constructor(e){this.We=e,this.Ge=new Map,this.ze=zr(),this.je=Yu(),this.Je=Yu(),this.He=new it(Ne)}Ye(e){for(const t of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(t,e.be):this.Xe(t,e.key,e.be);for(const t of e.removedTargetIds)this.Xe(t,e.key,e.be)}et(e){this.forEachTarget(e,(t=>{const i=this.tt(t);switch(e.state){case 0:this.nt(t)&&i.Be(e.resumeToken);break;case 1:i.Ue(),i.Oe||i.ke(),i.Be(e.resumeToken);break;case 2:i.Ue(),i.Oe||this.removeTarget(t);break;case 3:this.nt(t)&&(i.Ke(),i.Be(e.resumeToken));break;case 4:this.nt(t)&&(this.rt(t),i.Be(e.resumeToken));break;default:Ie(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ge.forEach(((i,o)=>{this.nt(o)&&t(o)}))}it(e){const t=e.targetId,i=e.De.count,o=this.st(t);if(o){const l=o.target;if(gf(l))if(i===0){const h=new _e(l.path);this.Xe(t,h,$t.newNoDocument(h,Ae.min()))}else ze(i===1,20013,{expectedCount:i});else{const h=this.ot(t);if(h!==i){const f=this._t(e),p=f?this.ut(f,e,h):1;if(p!==0){this.rt(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(t,y)}}}}}_t(e){const t=e.De.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:l=0}=t;let h,f;try{h=Vi(i).toUint8Array()}catch(p){if(p instanceof ew)return xi("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{f=new rp(h,o,l)}catch(p){return xi(p instanceof Ya?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return f.fe===0?null:f}ut(e,t,i){return t.De.count===i-this.ht(e,t.targetId)?0:2}ht(e,t){const i=this.We.getRemoteKeysForTarget(t);let o=0;return i.forEach((l=>{const h=this.We.lt(),f=`projects/${h.projectId}/databases/${h.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Xe(t,l,null),o++)})),o}Pt(e){const t=new Map;this.Ge.forEach(((l,h)=>{const f=this.st(h);if(f){if(l.current&&gf(f.target)){const p=new _e(f.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,$t.newNoDocument(p,e))}l.Ne&&(t.set(h,l.Le()),l.ke())}}));let i=Ve();this.Je.forEach(((l,h)=>{let f=!0;h.forEachWhile((p=>{const y=this.st(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)})),f&&(i=i.add(l))})),this.ze.forEach(((l,h)=>h.setReadTime(e)));const o=new Qc(e,t,this.He,this.ze,i);return this.ze=zr(),this.je=Yu(),this.Je=Yu(),this.He=new it(Ne),o}Ze(e,t){if(!this.nt(e))return;const i=this.It(e,t.key)?2:0;this.tt(e).qe(t.key,i),this.ze=this.ze.insert(t.key,t),this.je=this.je.insert(t.key,this.Tt(t.key).add(e)),this.Je=this.Je.insert(t.key,this.dt(t.key).add(e))}Xe(e,t,i){if(!this.nt(e))return;const o=this.tt(e);this.It(e,t)?o.qe(t,1):o.Qe(t),this.Je=this.Je.insert(t,this.dt(t).delete(e)),this.Je=this.Je.insert(t,this.dt(t).add(e)),i&&(this.ze=this.ze.insert(t,i))}removeTarget(e){this.Ge.delete(e)}ot(e){const t=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let t=this.Ge.get(e);return t||(t=new ov,this.Ge.set(e,t)),t}dt(e){let t=this.Je.get(e);return t||(t=new St(Ne),this.Je=this.Je.insert(e,t)),t}Tt(e){let t=this.je.get(e);return t||(t=new St(Ne),this.je=this.je.insert(e,t)),t}nt(e){const t=this.st(e)!==null;return t||de("WatchChangeAggregator","Detected inactive target",e),t}st(e){const t=this.Ge.get(e);return t&&t.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new ov),this.We.getRemoteKeysForTarget(e).forEach((t=>{this.Xe(e,t,null)}))}It(e,t){return this.We.getRemoteKeysForTarget(e).has(t)}}function Yu(){return new it(_e.comparator)}function av(){return new it(_e.comparator)}const WA={asc:"ASCENDING",desc:"DESCENDING"},HA={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},qA={and:"AND",or:"OR"};class GA{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function _f(r,e){return r.useProto3Json||zc(e)?e:{value:e}}function Cc(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function KA(r,e){return Cc(r,e.toTimestamp())}function hr(r){return ze(!!r,49232),Ae.fromTimestamp((function(t){const i=Di(t);return new Ge(i.seconds,i.nanos)})(r))}function ip(r,e){return wf(r,e).canonicalString()}function wf(r,e){const t=(function(o){return new Ye(["projects",o.projectId,"databases",o.database])})(r).child("documents");return e===void 0?t:t.child(e)}function xw(r){const e=Ye.fromString(r);return ze(Lw(e),10190,{key:e.toString()}),e}function Ef(r,e){return ip(r.databaseId,e.path)}function Hd(r,e){const t=xw(e);if(t.get(1)!==r.databaseId.projectId)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new ae(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new _e(Dw(t))}function bw(r,e){return ip(r.databaseId,e)}function QA(r){const e=xw(r);return e.length===4?Ye.emptyPath():Dw(e)}function Tf(r){return new Ye(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function Dw(r){return ze(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function lv(r,e,t){return{name:Ef(r,e),fields:t.value.mapValue.fields}}function YA(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Ie(39313,{state:y})})(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],l=(function(y,w){return y.useProto3Json?(ze(w===void 0||typeof w=="string",58123),Lt.fromBase64String(w||"")):(ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Lt.fromUint8Array(w||new Uint8Array))})(r,e.targetChange.resumeToken),h=e.targetChange.cause,f=h&&(function(y){const w=y.code===void 0?Q.UNKNOWN:Cw(y.code);return new ae(w,y.message||"")})(h);t=new kw(i,o,l,f||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Hd(r,i.document.name),l=hr(i.document.updateTime),h=i.document.createTime?hr(i.document.createTime):Ae.min(),f=new on({mapValue:{fields:i.document.fields}}),p=$t.newFoundDocument(o,l,h,f),y=i.targetIds||[],w=i.removedTargetIds||[];t=new lc(y,w,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Hd(r,i.document),l=i.readTime?hr(i.readTime):Ae.min(),h=$t.newNoDocument(o,l),f=i.removedTargetIds||[];t=new lc([],f,h.key,h)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Hd(r,i.document),l=i.removedTargetIds||[];t=new lc([],l,o,null)}else{if(!("filter"in e))return Ie(11601,{At:e});{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:l}=i,h=new UA(o,l),f=i.targetId;t=new Rw(f,h)}}return t}function XA(r,e){let t;if(e instanceof Sl)t={update:lv(r,e.key,e.value)};else if(e instanceof tp)t={delete:Ef(r,e.key)};else if(e instanceof Bi)t={update:lv(r,e.key,e.data),updateMask:oC(e.fieldMask)};else{if(!(e instanceof MA))return Ie(16599,{Rt:e.type});t={verify:Ef(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,h){const f=h.transform;if(f instanceof Pc)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof dl)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof fl)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof Ac)return{fieldPath:h.field.canonicalString(),increment:f.Ee};throw Ie(20930,{transform:h.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(o,l){return l.updateTime!==void 0?{updateTime:KA(o,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ie(27497)})(r,e.precondition)),t}function JA(r,e){return r&&r.length>0?(ze(e!==void 0,14353),r.map((t=>(function(o,l){let h=o.updateTime?hr(o.updateTime):hr(l);return h.isEqual(Ae.min())&&(h=hr(l)),new VA(h,o.transformResults||[])})(t,e)))):[]}function ZA(r,e){return{documents:[bw(r,e.path)]}}function eC(r,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=bw(r,o);const l=(function(y){if(y.length!==0)return Ow(Gn.create(y,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const h=(function(y){if(y.length!==0)return y.map((w=>(function(S){return{field:Co(S.field),direction:rC(S.dir)}})(w)))})(e.orderBy);h&&(t.structuredQuery.orderBy=h);const f=_f(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(e.endAt)),{Vt:t,parent:o}}function tC(r){let e=QA(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){ze(i===1,65062);const w=t.from[0];w.allDescendants?o=w.collectionId:e=e.child(w.collectionId)}let l=[];t.where&&(l=(function(T){const S=Vw(T);return S instanceof Gn&&cw(S)?S.getFilters():[S]})(t.where));let h=[];t.orderBy&&(h=(function(T){return T.map((S=>(function(O){return new Sc(Ro(O.field),(function(j){switch(j){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(O.direction))})(S)))})(t.orderBy));let f=null;t.limit&&(f=(function(T){let S;return S=typeof T=="object"?T.value:T,zc(S)?null:S})(t.limit));let p=null;t.startAt&&(p=(function(T){const S=!!T.before,V=T.values||[];return new Ic(V,S)})(t.startAt));let y=null;return t.endAt&&(y=(function(T){const S=!T.before,V=T.values||[];return new Ic(V,S)})(t.endAt)),EA(e,o,h,l,f,"F",p,y)}function nC(r,e){const t=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ie(28987,{purpose:o})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Vw(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Ro(t.unaryFilter.field);return yt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Ro(t.unaryFilter.field);return yt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Ro(t.unaryFilter.field);return yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=Ro(t.unaryFilter.field);return yt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ie(61313);default:return Ie(60726)}})(r):r.fieldFilter!==void 0?(function(t){return yt.create(Ro(t.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ie(58110);default:return Ie(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return Gn.create(t.compositeFilter.filters.map((i=>Vw(i))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Ie(1026)}})(t.compositeFilter.op))})(r):Ie(30097,{filter:r})}function rC(r){return WA[r]}function iC(r){return HA[r]}function sC(r){return qA[r]}function Co(r){return{fieldPath:r.canonicalString()}}function Ro(r){return Ot.fromServerFormat(r.fieldPath)}function Ow(r){return r instanceof yt?(function(t){if(t.op==="=="){if(Qy(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NAN"}};if(Ky(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Qy(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NOT_NAN"}};if(Ky(t.value))return{unaryFilter:{field:Co(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Co(t.field),op:iC(t.op),value:t.value}}})(r):r instanceof Gn?(function(t){const i=t.getFilters().map((o=>Ow(o)));return i.length===1?i[0]:{compositeFilter:{op:sC(t.op),filters:i}}})(r):Ie(54877,{filter:r})}function oC(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Lw(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,t,i,o,l=Ae.min(),h=Ae.min(),f=Lt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=f,this.expectedCount=p}withSequenceNumber(e){return new Si(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Si(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(e){this.gt=e}}function lC(r){const e=tC({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?vf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(){this.Dn=new cC}addToCollectionParentIndex(e,t){return this.Dn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Dn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(bi.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(bi.min())}updateCollectionGroup(e,t,i){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}}class cC{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new St(Ye.comparator),l=!o.has(i);return this.index[t]=o.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new St(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Mw=41943040;class sn{static withCacheSize(e){return new sn(e,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn.DEFAULT_COLLECTION_PERCENTILE=10,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,sn.DEFAULT=new sn(Mw,sn.DEFAULT_COLLECTION_PERCENTILE,sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),sn.DISABLED=new sn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Fo(0)}static ur(){return new Fo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cv="LruGarbageCollector",hC=1048576;function hv([r,e],[t,i]){const o=Ne(r,t);return o===0?Ne(e,i):o}class dC{constructor(e){this.Tr=e,this.buffer=new St(hv),this.Ir=0}dr(){return++this.Ir}Er(e){const t=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();hv(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class fC{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){de(cv,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Qo(t)?de(cv,"Ignoring IndexedDB error during garbage collection: ",t):await Ko(t)}await this.Rr(3e5)}))}}class pC{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.mr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Bc.ue);const i=new dC(t);return this.Vr.forEachTarget(e,(o=>i.Er(o.sequenceNumber))).next((()=>this.Vr.gr(e,(o=>i.Er(o))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(de("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(uv)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(de("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),uv):this.pr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,t){let i,o,l,h,f,p,y;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(de("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),o=this.params.maximumSequenceNumbersToCollect):o=T,h=Date.now(),this.nthSequenceNumber(e,o)))).next((T=>(i=T,f=Date.now(),this.removeTargets(e,i,t)))).next((T=>(l=T,p=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(y=Date.now(),Po()<=De.DEBUG&&de("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${o} in `+(f-h)+`ms
	Removed ${l} targets in `+(p-f)+`ms
	Removed ${T} documents in `+(y-p)+`ms
Total Duration: ${y-w}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:l,documentsRemoved:T}))))}}function mC(r,e){return new pC(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gC{constructor(){this.changes=new Ns((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,$t.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?Y.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((o=>(i=o,this.remoteDocumentCache.getEntry(e,t)))).next((o=>(i!==null&&rl(i.mutation,o,gn.empty(),Ge.now()),o)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,Ve()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=Ve()){const o=_s();return this.populateOverlays(e,o,t).next((()=>this.computeViews(e,t,o,i).next((l=>{let h=Qa();return l.forEach(((f,p)=>{h=h.insert(f,p.overlayedDocument)})),h}))))}getOverlayedDocuments(e,t){const i=_s();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,Ve())))}populateOverlays(e,t,i){const o=[];return i.forEach((l=>{t.has(l)||o.push(l)})),this.documentOverlayCache.getOverlays(e,o).next((l=>{l.forEach(((h,f)=>{t.set(h,f)}))}))}computeViews(e,t,i,o){let l=zr();const h=nl(),f=(function(){return nl()})();return t.forEach(((p,y)=>{const w=i.get(y.key);o.has(y.key)&&(w===void 0||w.mutation instanceof Bi)?l=l.insert(y.key,y):w!==void 0?(h.set(y.key,w.mutation.getFieldMask()),rl(w.mutation,y,w.mutation.getFieldMask(),Ge.now())):h.set(y.key,gn.empty())})),this.recalculateAndSaveOverlays(e,l).next((p=>(p.forEach(((y,w)=>h.set(y,w))),t.forEach(((y,w)=>{var T;return f.set(y,new yC(w,(T=h.get(y))!==null&&T!==void 0?T:null))})),f)))}recalculateAndSaveOverlays(e,t){const i=nl();let o=new it(((h,f)=>h-f)),l=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((h=>{for(const f of h)f.keys().forEach((p=>{const y=t.get(p);if(y===null)return;let w=i.get(p)||gn.empty();w=f.applyToLocalView(y,w),i.set(p,w);const T=(o.get(f.batchId)||Ve()).add(p);o=o.insert(f.batchId,T)}))})).next((()=>{const h=[],f=o.getReverseIterator();for(;f.hasNext();){const p=f.getNext(),y=p.key,w=p.value,T=_w();w.forEach((S=>{if(!l.has(S)){const V=Pw(t.get(S),i.get(S));V!==null&&T.set(S,V),l=l.add(S)}})),h.push(this.documentOverlayCache.saveOverlays(e,y,T))}return Y.waitFor(h)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,o){return(function(h){return _e.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next((l=>{const h=o-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-l.size):Y.resolve(_s());let f=ll,p=l;return h.next((y=>Y.forEach(y,((w,T)=>(f<T.largestBatchId&&(f=T.largestBatchId),l.get(w)?Y.resolve():this.remoteDocumentCache.getEntry(e,w).next((S=>{p=p.insert(w,S)}))))).next((()=>this.populateOverlays(e,y,l))).next((()=>this.computeViews(e,p,y,Ve()))).next((w=>({batchId:f,changes:vw(w)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new _e(t)).next((i=>{let o=Qa();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const l=t.collectionGroup;let h=Qa();return this.indexManager.getCollectionParents(e,l).next((f=>Y.forEach(f,(p=>{const y=(function(T,S){return new Il(S,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,p.child(l));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next((w=>{w.forEach(((T,S)=>{h=h.insert(T,S)}))}))})).next((()=>h))))}getDocumentsMatchingCollectionQuery(e,t,i,o){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((h=>(l=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,o)))).next((h=>{l.forEach(((p,y)=>{const w=y.getKey();h.get(w)===null&&(h=h.insert(w,$t.newInvalidDocument(w)))}));let f=Qa();return h.forEach(((p,y)=>{const w=l.get(p);w!==void 0&&rl(w.mutation,y,gn.empty(),Ge.now()),qc(t,y)&&(f=f.insert(p,y))})),f}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Br.get(t))}saveBundleMetadata(e,t){return this.Br.set(t.id,(function(o){return{id:o.id,version:o.version,createTime:hr(o.createTime)}})(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.Lr.get(t))}saveNamedQuery(e,t){return this.Lr.set(t.name,(function(o){return{name:o.name,query:lC(o.bundledQuery),readTime:hr(o.readTime)}})(t)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(){this.overlays=new it(_e.comparator),this.kr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){const i=_s();return Y.forEach(t,(o=>this.getOverlay(e,o).next((l=>{l!==null&&i.set(o,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((o,l)=>{this.wt(e,t,l)})),Y.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.kr.get(i);return o!==void 0&&(o.forEach((l=>this.overlays=this.overlays.remove(l))),this.kr.delete(i)),Y.resolve()}getOverlaysForCollection(e,t,i){const o=_s(),l=t.length+1,h=new _e(t.child("")),f=this.overlays.getIteratorFrom(h);for(;f.hasNext();){const p=f.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===l&&p.largestBatchId>i&&o.set(p.getKey(),p)}return Y.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let l=new it(((y,w)=>y-w));const h=this.overlays.getIterator();for(;h.hasNext();){const y=h.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let w=l.get(y.largestBatchId);w===null&&(w=_s(),l=l.insert(y.largestBatchId,w)),w.set(y.getKey(),y)}}const f=_s(),p=l.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach(((y,w)=>f.set(y,w))),!(f.size()>=o)););return Y.resolve(f)}wt(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(i.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(i.key,new FA(t,i));let l=this.kr.get(t);l===void 0&&(l=Ve(),this.kr.set(t,l)),this.kr.set(t,l.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this.qr=new St(kt.Qr),this.$r=new St(kt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,t){const i=new kt(e,t);this.qr=this.qr.add(i),this.$r=this.$r.add(i)}Kr(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new kt(e,t))}Gr(e,t){e.forEach((i=>this.removeReference(i,t)))}zr(e){const t=new _e(new Ye([])),i=new kt(t,e),o=new kt(t,e+1),l=[];return this.$r.forEachInRange([i,o],(h=>{this.Wr(h),l.push(h.key)})),l}jr(){this.qr.forEach((e=>this.Wr(e)))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const t=new _e(new Ye([])),i=new kt(t,e),o=new kt(t,e+1);let l=Ve();return this.$r.forEachInRange([i,o],(h=>{l=l.add(h.key)})),l}containsKey(e){const t=new kt(e,0),i=this.qr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class kt{constructor(e,t){this.key=e,this.Hr=t}static Qr(e,t){return _e.comparator(e.key,t.key)||Ne(e.Hr,t.Hr)}static Ur(e,t){return Ne(e.Hr,t.Hr)||_e.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TC{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.er=1,this.Yr=new St(kt.Qr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const l=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new jA(l,t,i,o);this.mutationQueue.push(h);for(const f of o)this.Yr=this.Yr.add(new kt(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return Y.resolve(h)}lookupMutationBatch(e,t){return Y.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.Xr(i),l=o<0?0:o;return Y.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Qf:this.er-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new kt(t,0),o=new kt(t,Number.POSITIVE_INFINITY),l=[];return this.Yr.forEachInRange([i,o],(h=>{const f=this.Zr(h.Hr);l.push(f)})),Y.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new St(Ne);return t.forEach((o=>{const l=new kt(o,0),h=new kt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([l,h],(f=>{i=i.add(f.Hr)}))})),Y.resolve(this.ei(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let l=i;_e.isDocumentKey(l)||(l=l.child(""));const h=new kt(new _e(l),0);let f=new St(Ne);return this.Yr.forEachWhile((p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(f=f.add(p.Hr)),!0)}),h),Y.resolve(this.ei(f))}ei(e){const t=[];return e.forEach((i=>{const o=this.Zr(i);o!==null&&t.push(o)})),t}removeMutationBatch(e,t){ze(this.ti(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Yr;return Y.forEach(t.mutations,(o=>{const l=new kt(o.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)})).next((()=>{this.Yr=i}))}rr(e){}containsKey(e,t){const i=new kt(t,0),o=this.Yr.firstAfterOrEqual(i);return Y.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ti(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IC{constructor(e){this.ni=e,this.docs=(function(){return new it(_e.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),l=o?o.size:0,h=this.ni(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:h}),this.size+=h-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return Y.resolve(i?i.document.mutableCopy():$t.newInvalidDocument(t))}getEntries(e,t){let i=zr();return t.forEach((o=>{const l=this.docs.get(o);i=i.insert(o,l?l.document.mutableCopy():$t.newInvalidDocument(o))})),Y.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let l=zr();const h=t.path,f=new _e(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(f);for(;p.hasNext();){const{key:y,value:{document:w}}=p.getNext();if(!h.isPrefixOf(y.path))break;y.path.length>h.length+1||Z1(J1(w),i)<=0||(o.has(w.key)||qc(t,w))&&(l=l.insert(w.key,w.mutableCopy()))}return Y.resolve(l)}getAllFromCollectionGroup(e,t,i,o){Ie(9500)}ri(e,t){return Y.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new SC(this)}getSize(e){return Y.resolve(this.size)}}class SC extends gC{constructor(e){super(),this.Or=e}applyChanges(e){const t=[];return this.changes.forEach(((i,o)=>{o.isValidDocument()?t.push(this.Or.addEntry(e,o)):this.Or.removeEntry(i)})),Y.waitFor(t)}getFromCache(e,t){return this.Or.getEntry(e,t)}getAllFromCache(e,t){return this.Or.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PC{constructor(e){this.persistence=e,this.ii=new Ns((t=>Jf(t)),Zf),this.lastRemoteSnapshotVersion=Ae.min(),this.highestTargetId=0,this.si=0,this.oi=new sp,this.targetCount=0,this._i=Fo.ar()}forEachTarget(e,t){return this.ii.forEach(((i,o)=>t(o))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.si&&(this.si=t),Y.resolve()}hr(e){this.ii.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this._i=new Fo(t),this.highestTargetId=t),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,t){return this.hr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.hr(t),Y.resolve()}removeTargetData(e,t){return this.ii.delete(t.target),this.oi.zr(t.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,t,i){let o=0;const l=[];return this.ii.forEach(((h,f)=>{f.sequenceNumber<=t&&i.get(f.targetId)===null&&(this.ii.delete(h),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),o++)})),Y.waitFor(l).next((()=>o))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){const i=this.ii.get(t)||null;return Y.resolve(i)}addMatchingKeys(e,t,i){return this.oi.Kr(t,i),Y.resolve()}removeMatchingKeys(e,t,i){this.oi.Gr(t,i);const o=this.persistence.referenceDelegate,l=[];return o&&t.forEach((h=>{l.push(o.markPotentiallyOrphaned(e,h))})),Y.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.oi.zr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){const i=this.oi.Jr(t);return Y.resolve(i)}containsKey(e,t){return Y.resolve(this.oi.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(e,t){this.ai={},this.overlays={},this.ui=new Bc(0),this.ci=!1,this.ci=!0,this.li=new EC,this.referenceDelegate=e(this),this.hi=new PC(this),this.indexManager=new uC,this.remoteDocumentCache=(function(o){return new IC(o)})((i=>this.referenceDelegate.Pi(i))),this.serializer=new aC(t),this.Ti=new _C(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new wC,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.ai[e.toKey()];return i||(i=new TC(t,this.referenceDelegate),this.ai[e.toKey()]=i),i}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,t,i){de("MemoryPersistence","Starting transaction:",e);const o=new AC(this.ui.next());return this.referenceDelegate.Ii(),i(o).next((l=>this.referenceDelegate.di(o).next((()=>l)))).toPromise().then((l=>(o.raiseOnCommittedEvent(),l)))}Ei(e,t){return Y.or(Object.values(this.ai).map((i=>()=>i.containsKey(e,t))))}}class AC extends tA{constructor(e){super(),this.currentSequenceNumber=e}}class op{constructor(e){this.persistence=e,this.Ai=new sp,this.Ri=null}static Vi(e){return new op(e)}get mi(){if(this.Ri)return this.Ri;throw Ie(60996)}addReference(e,t,i){return this.Ai.addReference(i,t),this.mi.delete(i.toString()),Y.resolve()}removeReference(e,t,i){return this.Ai.removeReference(i,t),this.mi.add(i.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.mi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ai.zr(t.targetId).forEach((o=>this.mi.add(o.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((o=>{o.forEach((l=>this.mi.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ii(){this.Ri=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.mi,(i=>{const o=_e.fromPath(i);return this.fi(e,o).next((l=>{l||t.removeEntry(o,Ae.min())}))})).next((()=>(this.Ri=null,t.apply(e))))}updateLimboDocument(e,t){return this.fi(e,t).next((i=>{i?this.mi.delete(t.toString()):this.mi.add(t.toString())}))}Pi(e){return 0}fi(e,t){return Y.or([()=>Y.resolve(this.Ai.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class Rc{constructor(e,t){this.persistence=e,this.gi=new Ns((i=>iA(i.path)),((i,o)=>i.isEqual(o))),this.garbageCollector=mC(this,t)}static Vi(e,t){return new Rc(e,t)}Ii(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}mr(e){const t=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((o=>i+o))))}yr(e){let t=0;return this.gr(e,(i=>{t++})).next((()=>t))}gr(e,t){return Y.forEach(this.gi,((i,o)=>this.Sr(e,i,o).next((l=>l?Y.resolve():t(o)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const o=this.persistence.getRemoteDocumentCache(),l=o.newChangeBuffer();return o.ri(e,(h=>this.Sr(e,h,t).next((f=>{f||(i++,l.removeEntry(h,Ae.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.gi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,i){return this.gi.set(i,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.gi.set(t,e.currentSequenceNumber),Y.resolve()}Pi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sc(e.data.value)),t}Sr(e,t,i){return Y.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const o=this.gi.get(t);return Y.resolve(o!==void 0&&o>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ap{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.Is=i,this.ds=o}static Es(e,t){let i=Ve(),o=Ve();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:o=o.add(l.doc.key)}return new ap(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=(function(){return rI()?8:nA(Wt())>0?6:4})()}initialize(e,t){this.gs=e,this.indexManager=t,this.As=!0}getDocumentsMatchingQuery(e,t,i,o){const l={result:null};return this.ps(e,t).next((h=>{l.result=h})).next((()=>{if(!l.result)return this.ys(e,t,o,i).next((h=>{l.result=h}))})).next((()=>{if(l.result)return;const h=new CC;return this.ws(e,t,h).next((f=>{if(l.result=f,this.Rs)return this.Ss(e,t,h,f.size)}))})).next((()=>l.result))}Ss(e,t,i,o){return i.documentReadCount<this.Vs?(Po()<=De.DEBUG&&de("QueryEngine","SDK will not create cache indexes for query:",Ao(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),Y.resolve()):(Po()<=De.DEBUG&&de("QueryEngine","Query:",Ao(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.fs*o?(Po()<=De.DEBUG&&de("QueryEngine","The SDK decides to create cache indexes for query:",Ao(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,cr(t))):Y.resolve())}ps(e,t){if(Zy(t))return Y.resolve(null);let i=cr(t);return this.indexManager.getIndexType(e,i).next((o=>o===0?null:(t.limit!==null&&o===1&&(t=vf(t,null,"F"),i=cr(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const h=Ve(...l);return this.gs.getDocuments(e,h).next((f=>this.indexManager.getMinOffset(e,i).next((p=>{const y=this.bs(t,f);return this.Ds(t,y,h,p.readTime)?this.ps(e,vf(t,null,"F")):this.vs(e,y,t,p)}))))})))))}ys(e,t,i,o){return Zy(t)||o.isEqual(Ae.min())?Y.resolve(null):this.gs.getDocuments(e,i).next((l=>{const h=this.bs(t,l);return this.Ds(t,h,i,o)?Y.resolve(null):(Po()<=De.DEBUG&&de("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ao(t)),this.vs(e,h,t,X1(o,ll)).next((f=>f)))}))}bs(e,t){let i=new St(gw(e));return t.forEach(((o,l)=>{qc(e,l)&&(i=i.add(l))})),i}Ds(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(o)>0)}ws(e,t,i){return Po()<=De.DEBUG&&de("QueryEngine","Using full collection scan to execute query:",Ao(t)),this.gs.getDocumentsMatchingQuery(e,t,bi.min(),i)}vs(e,t,i,o){return this.gs.getDocumentsMatchingQuery(e,i,o).next((l=>(t.forEach((h=>{l=l.insert(h.key,h)})),l)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lp="LocalStore",kC=3e8;class NC{constructor(e,t,i,o){this.persistence=e,this.Cs=t,this.serializer=o,this.Fs=new it(Ne),this.Ms=new Ns((l=>Jf(l)),Zf),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(i)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new vC(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Fs)))}}function xC(r,e,t,i){return new NC(r,e,t,i)}async function Fw(r,e){const t=Ce(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next((l=>(o=l,t.Ns(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const h=[],f=[];let p=Ve();for(const y of o){h.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}for(const y of l){f.push(y.batchId);for(const w of y.mutations)p=p.add(w.key)}return t.localDocuments.getDocuments(i,p).next((y=>({Bs:y,removedBatchIds:h,addedBatchIds:f})))}))}))}function bC(r,e){const t=Ce(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const o=e.batch.keys(),l=t.Os.newChangeBuffer({trackRemovals:!0});return(function(f,p,y,w){const T=y.batch,S=T.keys();let V=Y.resolve();return S.forEach((O=>{V=V.next((()=>w.getEntry(p,O))).next((B=>{const j=y.docVersions.get(O);ze(j!==null,48541),B.version.compareTo(j)<0&&(T.applyToRemoteDocument(B,y),B.isValidDocument()&&(B.setReadTime(y.commitVersion),w.addEntry(B)))}))})),V.next((()=>f.mutationQueue.removeMutationBatch(p,T)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(f){let p=Ve();for(let y=0;y<f.mutationResults.length;++y)f.mutationResults[y].transformResults.length>0&&(p=p.add(f.batch.mutations[y].key));return p})(e)))).next((()=>t.localDocuments.getDocuments(i,o)))}))}function Uw(r){const e=Ce(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.hi.getLastRemoteSnapshotVersion(t)))}function DC(r,e){const t=Ce(r),i=e.snapshotVersion;let o=t.Fs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const h=t.Os.newChangeBuffer({trackRemovals:!0});o=t.Fs;const f=[];e.targetChanges.forEach(((w,T)=>{const S=o.get(T);if(!S)return;f.push(t.hi.removeMatchingKeys(l,w.removedDocuments,T).next((()=>t.hi.addMatchingKeys(l,w.addedDocuments,T))));let V=S.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?V=V.withResumeToken(Lt.EMPTY_BYTE_STRING,Ae.min()).withLastLimboFreeSnapshotVersion(Ae.min()):w.resumeToken.approximateByteSize()>0&&(V=V.withResumeToken(w.resumeToken,i)),o=o.insert(T,V),(function(B,j,oe){return B.resumeToken.approximateByteSize()===0||j.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=kC?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0})(S,V,w)&&f.push(t.hi.updateTargetData(l,V))}));let p=zr(),y=Ve();if(e.documentUpdates.forEach((w=>{e.resolvedLimboDocuments.has(w)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,w))})),f.push(VC(l,h,e.documentUpdates).next((w=>{p=w.Ls,y=w.ks}))),!i.isEqual(Ae.min())){const w=t.hi.getLastRemoteSnapshotVersion(l).next((T=>t.hi.setTargetsMetadata(l,l.currentSequenceNumber,i)));f.push(w)}return Y.waitFor(f).next((()=>h.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,p,y))).next((()=>p))})).then((l=>(t.Fs=o,l)))}function VC(r,e,t){let i=Ve(),o=Ve();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let h=zr();return t.forEach(((f,p)=>{const y=l.get(f);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(f)),p.isNoDocument()&&p.version.isEqual(Ae.min())?(e.removeEntry(f,p.readTime),h=h.insert(f,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),h=h.insert(f,p)):de(lp,"Ignoring outdated watch update for ",f,". Current version:",y.version," Watch version:",p.version)})),{Ls:h,ks:o}}))}function OC(r,e){const t=Ce(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Qf),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function LC(r,e){const t=Ce(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let o;return t.hi.getTargetData(i,e).next((l=>l?(o=l,Y.resolve(o)):t.hi.allocateTargetId(i).next((h=>(o=new Si(e,h,"TargetPurposeListen",i.currentSequenceNumber),t.hi.addTargetData(i,o).next((()=>o)))))))})).then((i=>{const o=t.Fs.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.Fs=t.Fs.insert(i.targetId,i),t.Ms.set(e,i.targetId)),i}))}async function If(r,e,t){const i=Ce(r),o=i.Fs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(h=>i.persistence.referenceDelegate.removeTarget(h,o)))}catch(h){if(!Qo(h))throw h;de(lp,`Failed to update sequence numbers for target ${e}: ${h}`)}i.Fs=i.Fs.remove(e),i.Ms.delete(o.target)}function dv(r,e,t){const i=Ce(r);let o=Ae.min(),l=Ve();return i.persistence.runTransaction("Execute query","readwrite",(h=>(function(p,y,w){const T=Ce(p),S=T.Ms.get(w);return S!==void 0?Y.resolve(T.Fs.get(S)):T.hi.getTargetData(y,w)})(i,h,cr(e)).next((f=>{if(f)return o=f.lastLimboFreeSnapshotVersion,i.hi.getMatchingKeysForTargetId(h,f.targetId).next((p=>{l=p}))})).next((()=>i.Cs.getDocumentsMatchingQuery(h,e,t?o:Ae.min(),t?l:Ve()))).next((f=>(MC(i,IA(e),f),{documents:f,qs:l})))))}function MC(r,e,t){let i=r.xs.get(e)||Ae.min();t.forEach(((o,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.xs.set(e,i)}class fv{constructor(){this.activeTargetIds=kA()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class jC{constructor(){this.Fo=new fv,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,t,i){this.Mo[e]=t}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new fv,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FC{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pv="ConnectivityMonitor";class mv{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){de(pv,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){de(pv,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function Sf(){return Xu===null?Xu=(function(){return 268435456+Math.round(2147483648*Math.random())})():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd="RestConnection",UC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class BC{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=t+"://"+e.host,this.Uo=`projects/${i}/databases/${o}`,this.Ko=this.databaseId.database===Ec?`project_id=${i}`:`project_id=${i}&database_id=${o}`}Wo(e,t,i,o,l){const h=Sf(),f=this.Go(e,t.toUriEncodedString());de(qd,`Sending RPC '${e}' ${h}:`,f,i);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,l);const{host:y}=new URL(f),w=Ho(y);return this.jo(e,f,p,i,w).then((T=>(de(qd,`Received RPC '${e}' ${h}: `,T),T)),(T=>{throw xi(qd,`RPC '${e}' ${h} failed with error: `,T,"url: ",f,"request:",i),T}))}Jo(e,t,i,o,l,h){return this.Wo(e,t,i,o,l)}zo(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Go})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((o,l)=>e[l]=o)),i&&i.headers.forEach(((o,l)=>e[l]=o))}Go(e,t){const i=UC[e];return`${this.$o}/v1/${t}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class $C extends BC{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,t,i,o,l){const h=Sf();return new Promise(((f,p)=>{const y=new z_;y.setWithCredentials(!0),y.listenOnce($_.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case ic.NO_ERROR:const T=y.getResponseJson();de(Bt,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(T)),f(T);break;case ic.TIMEOUT:de(Bt,`RPC '${e}' ${h} timed out`),p(new ae(Q.DEADLINE_EXCEEDED,"Request time out"));break;case ic.HTTP_ERROR:const S=y.getStatus();if(de(Bt,`RPC '${e}' ${h} failed with status:`,S,"response text:",y.getResponseText()),S>0){let V=y.getResponseJson();Array.isArray(V)&&(V=V[0]);const O=V==null?void 0:V.error;if(O&&O.status&&O.message){const B=(function(oe){const H=oe.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(H)>=0?H:Q.UNKNOWN})(O.status);p(new ae(B,O.message))}else p(new ae(Q.UNKNOWN,"Server responded with status "+y.getStatus()))}else p(new ae(Q.UNAVAILABLE,"Connection failed."));break;default:Ie(9055,{c_:e,streamId:h,l_:y.getLastErrorCode(),h_:y.getLastError()})}}finally{de(Bt,`RPC '${e}' ${h} completed.`)}}));const w=JSON.stringify(o);de(Bt,`RPC '${e}' ${h} sending request:`,o),y.send(t,"POST",w,i,15)}))}P_(e,t,i){const o=Sf(),l=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=q_(),f=H_(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const w=l.join("");de(Bt,`Creating RPC '${e}' stream ${o}: ${w}`,p);const T=h.createWebChannel(w,p);this.T_(T);let S=!1,V=!1;const O=new zC({Ho:j=>{V?de(Bt,`Not sending because RPC '${e}' stream ${o} is closed:`,j):(S||(de(Bt,`Opening RPC '${e}' stream ${o} transport.`),T.open(),S=!0),de(Bt,`RPC '${e}' stream ${o} sending:`,j),T.send(j))},Yo:()=>T.close()}),B=(j,oe,H)=>{j.listen(oe,(ne=>{try{H(ne)}catch(le){setTimeout((()=>{throw le}),0)}}))};return B(T,Ka.EventType.OPEN,(()=>{V||(de(Bt,`RPC '${e}' stream ${o} transport opened.`),O.s_())})),B(T,Ka.EventType.CLOSE,(()=>{V||(V=!0,de(Bt,`RPC '${e}' stream ${o} transport closed`),O.__(),this.I_(T))})),B(T,Ka.EventType.ERROR,(j=>{V||(V=!0,xi(Bt,`RPC '${e}' stream ${o} transport errored. Name:`,j.name,"Message:",j.message),O.__(new ae(Q.UNAVAILABLE,"The operation could not be completed")))})),B(T,Ka.EventType.MESSAGE,(j=>{var oe;if(!V){const H=j.data[0];ze(!!H,16349);const ne=H,le=(ne==null?void 0:ne.error)||((oe=ne[0])===null||oe===void 0?void 0:oe.error);if(le){de(Bt,`RPC '${e}' stream ${o} received error:`,le);const Se=le.status;let re=(function(C){const b=gt[C];if(b!==void 0)return Cw(b)})(Se),k=le.message;re===void 0&&(re=Q.INTERNAL,k="Unknown error status: "+Se+" with message "+le.message),V=!0,O.__(new ae(re,k)),T.close()}else de(Bt,`RPC '${e}' stream ${o} received:`,H),O.a_(H)}})),B(f,W_.STAT_EVENT,(j=>{j.stat===hf.PROXY?de(Bt,`RPC '${e}' stream ${o} detected buffering proxy`):j.stat===hf.NOPROXY&&de(Bt,`RPC '${e}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{O.o_()}),0),O}terminate(){this.u_.forEach((e=>e.close())),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter((t=>t===e))}}function Gd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(r){return new GA(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bw{constructor(e,t,i=1e3,o=1.5,l=6e4){this.Fi=e,this.timerId=t,this.d_=i,this.E_=o,this.A_=l,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const t=Math.floor(this.R_+this.p_()),i=Math.max(0,Date.now()-this.m_),o=Math.max(0,t-i);o>0&&de("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,(()=>(this.m_=Date.now(),e()))),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gv="PersistentStream";class zw{constructor(e,t,i,o,l,h,f,p){this.Fi=e,this.w_=i,this.S_=o,this.connection=l,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=f,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new Bw(e,t)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,(()=>this.L_())))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Br(t.toString()),Br("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):t&&t.code===Q.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(t)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),t=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,o])=>{this.b_===t&&this.W_(i,o)}),(i=>{e((()=>{const o=new ae(Q.UNKNOWN,"Fetching auth token failed: "+i.message);return this.G_(o)}))}))}W_(e,t){const i=this.K_(this.b_);this.stream=this.z_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.e_((()=>{i((()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,(()=>(this.x_()&&(this.state=3),Promise.resolve()))),this.listener.e_())))})),this.stream.n_((o=>{i((()=>this.G_(o)))})),this.stream.onMessage((o=>{i((()=>++this.C_==1?this.j_(o):this.onNext(o)))}))}O_(){this.state=5,this.F_.g_((async()=>{this.state=0,this.start()}))}G_(e){return de(gv,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return t=>{this.Fi.enqueueAndForget((()=>this.b_===e?t():(de(gv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class WC extends zw{constructor(e,t,i,o,l,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}z_(e,t){return this.connection.P_("Listen",e,t)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const t=YA(this.serializer,e),i=(function(l){if(!("targetChange"in l))return Ae.min();const h=l.targetChange;return h.targetIds&&h.targetIds.length?Ae.min():h.readTime?hr(h.readTime):Ae.min()})(e);return this.listener.J_(t,i)}H_(e){const t={};t.database=Tf(this.serializer),t.addTarget=(function(l,h){let f;const p=h.target;if(f=gf(p)?{documents:ZA(l,p)}:{query:eC(l,p).Vt},f.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){f.resumeToken=Nw(l,h.resumeToken);const y=_f(l,h.expectedCount);y!==null&&(f.expectedCount=y)}else if(h.snapshotVersion.compareTo(Ae.min())>0){f.readTime=Cc(l,h.snapshotVersion.toTimestamp());const y=_f(l,h.expectedCount);y!==null&&(f.expectedCount=y)}return f})(this.serializer,e);const i=nC(this.serializer,e);i&&(t.labels=i),this.k_(t)}Y_(e){const t={};t.database=Tf(this.serializer),t.removeTarget=e,this.k_(t)}}class HC extends zw{constructor(e,t,i,o,l,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,h),this.serializer=l}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,t){return this.connection.P_("Write",e,t)}j_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const t=JA(e.writeResults,e.commitTime),i=hr(e.commitTime);return this.listener.ta(i,t)}na(){const e={};e.database=Tf(this.serializer),this.k_(e)}X_(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>XA(this.serializer,i)))};this.k_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{}class GC extends qC{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,h])=>this.connection.Wo(e,wf(t,i),o,l,h))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ae(Q.UNKNOWN,l.toString())}))}Jo(e,t,i,o,l){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,f])=>this.connection.Jo(e,wf(t,i),o,h,f,l))).catch((h=>{throw h.name==="FirebaseError"?(h.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ae(Q.UNKNOWN,h.toString())}))}terminate(){this.ra=!0,this.connection.terminate()}}class KC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve()))))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(Br(t),this._a=!1):de("OnlineStateTracker",t)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="RemoteStore";class QC{constructor(e,t,i,o,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=l,this.Ea.xo((h=>{i.enqueueAndForget((async()=>{xs(this)&&(de(Cs,"Restarting streams for network reachability change."),await(async function(p){const y=Ce(p);y.Ia.add(4),await Al(y),y.Aa.set("Unknown"),y.Ia.delete(4),await Xc(y)})(this))}))})),this.Aa=new KC(i,o)}}async function Xc(r){if(xs(r))for(const e of r.da)await e(!0)}async function Al(r){for(const e of r.da)await e(!1)}function $w(r,e){const t=Ce(r);t.Ta.has(e.targetId)||(t.Ta.set(e.targetId,e),dp(t)?hp(t):Yo(t).x_()&&cp(t,e))}function up(r,e){const t=Ce(r),i=Yo(t);t.Ta.delete(e),i.x_()&&Ww(t,e),t.Ta.size===0&&(i.x_()?i.B_():xs(t)&&t.Aa.set("Unknown"))}function cp(r,e){if(r.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ae.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Yo(r).H_(e)}function Ww(r,e){r.Ra.$e(e),Yo(r).Y_(e)}function hp(r){r.Ra=new $A({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>r.Ta.get(e)||null,lt:()=>r.datastore.serializer.databaseId}),Yo(r).start(),r.Aa.aa()}function dp(r){return xs(r)&&!Yo(r).M_()&&r.Ta.size>0}function xs(r){return Ce(r).Ia.size===0}function Hw(r){r.Ra=void 0}async function YC(r){r.Aa.set("Online")}async function XC(r){r.Ta.forEach(((e,t)=>{cp(r,e)}))}async function JC(r,e){Hw(r),dp(r)?(r.Aa.la(e),hp(r)):r.Aa.set("Unknown")}async function ZC(r,e,t){if(r.Aa.set("Online"),e instanceof kw&&e.state===2&&e.cause)try{await(async function(o,l){const h=l.cause;for(const f of l.targetIds)o.Ta.has(f)&&(await o.remoteSyncer.rejectListen(f,h),o.Ta.delete(f),o.Ra.removeTarget(f))})(r,e)}catch(i){de(Cs,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await kc(r,i)}else if(e instanceof lc?r.Ra.Ye(e):e instanceof Rw?r.Ra.it(e):r.Ra.et(e),!t.isEqual(Ae.min()))try{const i=await Uw(r.localStore);t.compareTo(i)>=0&&await(function(l,h){const f=l.Ra.Pt(h);return f.targetChanges.forEach(((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const w=l.Ta.get(y);w&&l.Ta.set(y,w.withResumeToken(p.resumeToken,h))}})),f.targetMismatches.forEach(((p,y)=>{const w=l.Ta.get(p);if(!w)return;l.Ta.set(p,w.withResumeToken(Lt.EMPTY_BYTE_STRING,w.snapshotVersion)),Ww(l,p);const T=new Si(w.target,p,y,w.sequenceNumber);cp(l,T)})),l.remoteSyncer.applyRemoteEvent(f)})(r,t)}catch(i){de(Cs,"Failed to raise snapshot:",i),await kc(r,i)}}async function kc(r,e,t){if(!Qo(e))throw e;r.Ia.add(1),await Al(r),r.Aa.set("Offline"),t||(t=()=>Uw(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{de(Cs,"Retrying IndexedDB access"),await t(),r.Ia.delete(1),await Xc(r)}))}function qw(r,e){return e().catch((t=>kc(r,t,e)))}async function Jc(r){const e=Ce(r),t=Li(e);let i=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Qf;for(;eR(e);)try{const o=await OC(e.localStore,i);if(o===null){e.Pa.length===0&&t.B_();break}i=o.batchId,tR(e,o)}catch(o){await kc(e,o)}Gw(e)&&Kw(e)}function eR(r){return xs(r)&&r.Pa.length<10}function tR(r,e){r.Pa.push(e);const t=Li(r);t.x_()&&t.Z_&&t.X_(e.mutations)}function Gw(r){return xs(r)&&!Li(r).M_()&&r.Pa.length>0}function Kw(r){Li(r).start()}async function nR(r){Li(r).na()}async function rR(r){const e=Li(r);for(const t of r.Pa)e.X_(t.mutations)}async function iR(r,e,t){const i=r.Pa.shift(),o=np.from(i,e,t);await qw(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Jc(r)}async function sR(r,e){e&&Li(r).Z_&&await(async function(i,o){if((function(h){return BA(h)&&h!==Q.ABORTED})(o.code)){const l=i.Pa.shift();Li(i).N_(),await qw(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,o))),await Jc(i)}})(r,e),Gw(r)&&Kw(r)}async function yv(r,e){const t=Ce(r);t.asyncQueue.verifyOperationInProgress(),de(Cs,"RemoteStore received new credentials");const i=xs(t);t.Ia.add(3),await Al(t),i&&t.Aa.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ia.delete(3),await Xc(t)}async function oR(r,e){const t=Ce(r);e?(t.Ia.delete(2),await Xc(t)):e||(t.Ia.add(2),await Al(t),t.Aa.set("Unknown"))}function Yo(r){return r.Va||(r.Va=(function(t,i,o){const l=Ce(t);return l.ia(),new WC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Zo:YC.bind(null,r),e_:XC.bind(null,r),n_:JC.bind(null,r),J_:ZC.bind(null,r)}),r.da.push((async e=>{e?(r.Va.N_(),dp(r)?hp(r):r.Aa.set("Unknown")):(await r.Va.stop(),Hw(r))}))),r.Va}function Li(r){return r.ma||(r.ma=(function(t,i,o){const l=Ce(t);return l.ia(),new HC(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,o)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),e_:nR.bind(null,r),n_:sR.bind(null,r),ea:rR.bind(null,r),ta:iR.bind(null,r)}),r.da.push((async e=>{e?(r.ma.N_(),await Jc(r)):(await r.ma.stop(),r.Pa.length>0&&(de(Cs,`Stopping write stream with ${r.Pa.length} pending writes`),r.Pa=[]))}))),r.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fp{constructor(e,t,i,o,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=l,this.deferred=new Mr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((h=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,l){const h=Date.now()+i,f=new fp(e,t,h,o,l);return f.start(i),f}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ae(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pp(r,e){if(Br("AsyncQueue",`${e}: ${r}`),Qo(r))return new ae(Q.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{static emptySet(e){return new Do(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||_e.comparator(t.key,i.key):(t,i)=>_e.comparator(t.key,i.key),this.keyedMap=Qa(),this.sortedSet=new it(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Do)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,l=i.getNext().key;if(!o.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new Do;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(){this.fa=new it(_e.comparator)}track(e){const t=e.doc.key,i=this.fa.get(t);i?e.type!==0&&i.type===3?this.fa=this.fa.insert(t,e):e.type===3&&i.type!==1?this.fa=this.fa.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.fa=this.fa.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.fa=this.fa.remove(t):e.type===1&&i.type===2?this.fa=this.fa.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.fa=this.fa.insert(t,{type:2,doc:e.doc}):Ie(63341,{At:e,ga:i}):this.fa=this.fa.insert(t,e)}pa(){const e=[];return this.fa.inorderTraversal(((t,i)=>{e.push(i)})),e}}class Uo{constructor(e,t,i,o,l,h,f,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=l,this.fromCache=h,this.syncStateChanged=f,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,l){const h=[];return t.forEach((f=>{h.push({type:0,doc:f})})),new Uo(e,t,Do.emptySet(t),h,i,o,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some((e=>e.ba()))}}class lR{constructor(){this.queries=_v(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(t,i){const o=Ce(t),l=o.queries;o.queries=_v(),l.forEach(((h,f)=>{for(const p of f.wa)p.onError(i)}))})(this,new ae(Q.ABORTED,"Firestore shutting down"))}}function _v(){return new Ns((r=>mw(r)),Hc)}async function mp(r,e){const t=Ce(r);let i=3;const o=e.query;let l=t.queries.get(o);l?!l.Sa()&&e.ba()&&(i=2):(l=new aR,i=e.ba()?0:1);try{switch(i){case 0:l.ya=await t.onListen(o,!0);break;case 1:l.ya=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(h){const f=pp(h,`Initialization of query '${Ao(e.query)}' failed`);return void e.onError(f)}t.queries.set(o,l),l.wa.push(e),e.va(t.onlineState),l.ya&&e.Ca(l.ya)&&yp(t)}async function gp(r,e){const t=Ce(r),i=e.query;let o=3;const l=t.queries.get(i);if(l){const h=l.wa.indexOf(e);h>=0&&(l.wa.splice(h,1),l.wa.length===0?o=e.ba()?0:1:!l.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function uR(r,e){const t=Ce(r);let i=!1;for(const o of e){const l=o.query,h=t.queries.get(l);if(h){for(const f of h.wa)f.Ca(o)&&(i=!0);h.ya=o}}i&&yp(t)}function cR(r,e,t){const i=Ce(r),o=i.queries.get(e);if(o)for(const l of o.wa)l.onError(t);i.queries.delete(e)}function yp(r){r.Da.forEach((e=>{e.next()}))}var Pf,wv;(wv=Pf||(Pf={})).Fa="default",wv.Cache="cache";class vp{constructor(e,t,i){this.query=e,this.Ma=t,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=i||{}}Ca(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new Uo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),t=!0):this.Ba(e,this.onlineState)&&(this.La(e),t=!0),this.Oa=e,t}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let t=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),t=!0),t}Ba(e,t){if(!e.fromCache||!this.ba())return!0;const i=t!=="Offline";return(!this.options.ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const t=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}La(e){e=Uo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Pf.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e){this.key=e}}class Yw{constructor(e){this.key=e}}class hR{constructor(e,t){this.query=e,this.Ha=t,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=Ve(),this.mutatedKeys=Ve(),this.Xa=gw(e),this.eu=new Do(this.Xa)}get tu(){return this.Ha}nu(e,t){const i=t?t.ru:new vv,o=t?t.eu:this.eu;let l=t?t.mutatedKeys:this.mutatedKeys,h=o,f=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal(((w,T)=>{const S=o.get(w),V=qc(this.query,T)?T:null,O=!!S&&this.mutatedKeys.has(S.key),B=!!V&&(V.hasLocalMutations||this.mutatedKeys.has(V.key)&&V.hasCommittedMutations);let j=!1;S&&V?S.data.isEqual(V.data)?O!==B&&(i.track({type:3,doc:V}),j=!0):this.iu(S,V)||(i.track({type:2,doc:V}),j=!0,(p&&this.Xa(V,p)>0||y&&this.Xa(V,y)<0)&&(f=!0)):!S&&V?(i.track({type:0,doc:V}),j=!0):S&&!V&&(i.track({type:1,doc:S}),j=!0,(p||y)&&(f=!0)),j&&(V?(h=h.add(V),l=B?l.add(w):l.delete(w)):(h=h.delete(w),l=l.delete(w)))})),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),l=l.delete(w.key),i.track({type:1,doc:w})}return{eu:h,ru:i,Ds:f,mutatedKeys:l}}iu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const l=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort(((w,T)=>(function(V,O){const B=j=>{switch(j){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ie(20277,{At:j})}};return B(V)-B(O)})(w.type,T.type)||this.Xa(w.doc,T.doc))),this.su(i),o=o!=null&&o;const f=t&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,y=p!==this.Ya;return this.Ya=p,h.length!==0||y?{snapshot:new Uo(this.query,e.eu,l,h,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),_u:f}:{_u:f}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new vv,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach((t=>this.Ha=this.Ha.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ha=this.Ha.delete(t))),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=Ve(),this.eu.forEach((i=>{this.au(i.key)&&(this.Za=this.Za.add(i.key))}));const t=[];return e.forEach((i=>{this.Za.has(i)||t.push(new Yw(i))})),this.Za.forEach((i=>{e.has(i)||t.push(new Qw(i))})),t}uu(e){this.Ha=e.qs,this.Za=Ve();const t=this.nu(e.documents);return this.applyChanges(t,!0)}cu(){return Uo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const _p="SyncEngine";class dR{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class fR{constructor(e){this.key=e,this.lu=!1}}class pR{constructor(e,t,i,o,l,h){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=l,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new Ns((f=>mw(f)),Hc),this.Tu=new Map,this.Iu=new Set,this.du=new it(_e.comparator),this.Eu=new Map,this.Au=new sp,this.Ru={},this.Vu=new Map,this.mu=Fo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function mR(r,e,t=!0){const i=nE(r);let o;const l=i.Pu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),o=l.view.cu()):o=await Xw(i,e,t,!0),o}async function gR(r,e){const t=nE(r);await Xw(t,e,!0,!1)}async function Xw(r,e,t,i){const o=await LC(r.localStore,cr(e)),l=o.targetId,h=r.sharedClientState.addLocalQueryTarget(l,t);let f;return i&&(f=await yR(r,e,l,h==="current",o.resumeToken)),r.isPrimaryClient&&t&&$w(r.remoteStore,o),f}async function yR(r,e,t,i,o){r.gu=(T,S,V)=>(async function(B,j,oe,H){let ne=j.view.nu(oe);ne.Ds&&(ne=await dv(B.localStore,j.query,!1).then((({documents:k})=>j.view.nu(k,ne))));const le=H&&H.targetChanges.get(j.targetId),Se=H&&H.targetMismatches.get(j.targetId)!=null,re=j.view.applyChanges(ne,B.isPrimaryClient,le,Se);return Tv(B,j.targetId,re._u),re.snapshot})(r,T,S,V);const l=await dv(r.localStore,e,!0),h=new hR(e,l.qs),f=h.nu(l.documents),p=Pl.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",o),y=h.applyChanges(f,r.isPrimaryClient,p);Tv(r,t,y._u);const w=new dR(e,t,h);return r.Pu.set(e,w),r.Tu.has(t)?r.Tu.get(t).push(e):r.Tu.set(t,[e]),y.snapshot}async function vR(r,e,t){const i=Ce(r),o=i.Pu.get(e),l=i.Tu.get(o.targetId);if(l.length>1)return i.Tu.set(o.targetId,l.filter((h=>!Hc(h,e)))),void i.Pu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await If(i.localStore,o.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(o.targetId),t&&up(i.remoteStore,o.targetId),Af(i,o.targetId)})).catch(Ko)):(Af(i,o.targetId),await If(i.localStore,o.targetId,!0))}async function _R(r,e){const t=Ce(r),i=t.Pu.get(e),o=t.Tu.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),up(t.remoteStore,i.targetId))}async function wR(r,e,t){const i=CR(r);try{const o=await(function(h,f){const p=Ce(h),y=Ge.now(),w=f.reduce(((V,O)=>V.add(O.key)),Ve());let T,S;return p.persistence.runTransaction("Locally write mutations","readwrite",(V=>{let O=zr(),B=Ve();return p.Os.getEntries(V,w).next((j=>{O=j,O.forEach(((oe,H)=>{H.isValidDocument()||(B=B.add(oe))}))})).next((()=>p.localDocuments.getOverlayedDocuments(V,O))).next((j=>{T=j;const oe=[];for(const H of f){const ne=LA(H,T.get(H.key).overlayedDocument);ne!=null&&oe.push(new Bi(H.key,ne,aw(ne.value.mapValue),kn.exists(!0)))}return p.mutationQueue.addMutationBatch(V,y,oe,f)})).next((j=>{S=j;const oe=j.applyToLocalDocumentSet(T,B);return p.documentOverlayCache.saveOverlays(V,j.batchId,oe)}))})).then((()=>({batchId:S.batchId,changes:vw(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),(function(h,f,p){let y=h.Ru[h.currentUser.toKey()];y||(y=new it(Ne)),y=y.insert(f,p),h.Ru[h.currentUser.toKey()]=y})(i,o.batchId,t),await Cl(i,o.changes),await Jc(i.remoteStore)}catch(o){const l=pp(o,"Failed to persist write");t.reject(l)}}async function Jw(r,e){const t=Ce(r);try{const i=await DC(t.localStore,e);e.targetChanges.forEach(((o,l)=>{const h=t.Eu.get(l);h&&(ze(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?ze(h.lu,14607):o.removedDocuments.size>0&&(ze(h.lu,42227),h.lu=!1))})),await Cl(t,i,e)}catch(i){await Ko(i)}}function Ev(r,e,t){const i=Ce(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Pu.forEach(((l,h)=>{const f=h.view.va(e);f.snapshot&&o.push(f.snapshot)})),(function(h,f){const p=Ce(h);p.onlineState=f;let y=!1;p.queries.forEach(((w,T)=>{for(const S of T.wa)S.va(f)&&(y=!0)})),y&&yp(p)})(i.eventManager,e),o.length&&i.hu.J_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function ER(r,e,t){const i=Ce(r);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Eu.get(e),l=o&&o.key;if(l){let h=new it(_e.comparator);h=h.insert(l,$t.newNoDocument(l,Ae.min()));const f=Ve().add(l),p=new Qc(Ae.min(),new Map,new it(Ne),h,f);await Jw(i,p),i.du=i.du.remove(l),i.Eu.delete(e),wp(i)}else await If(i.localStore,e,!1).then((()=>Af(i,e,t))).catch(Ko)}async function TR(r,e){const t=Ce(r),i=e.batch.batchId;try{const o=await bC(t.localStore,e);eE(t,i,null),Zw(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await Cl(t,o)}catch(o){await Ko(o)}}async function IR(r,e,t){const i=Ce(r);try{const o=await(function(h,f){const p=Ce(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let w;return p.mutationQueue.lookupMutationBatch(y,f).next((T=>(ze(T!==null,37113),w=T.keys(),p.mutationQueue.removeMutationBatch(y,T)))).next((()=>p.mutationQueue.performConsistencyCheck(y))).next((()=>p.documentOverlayCache.removeOverlaysForBatchId(y,w,f))).next((()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,w))).next((()=>p.localDocuments.getDocuments(y,w)))}))})(i.localStore,e);eE(i,e,t),Zw(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await Cl(i,o)}catch(o){await Ko(o)}}function Zw(r,e){(r.Vu.get(e)||[]).forEach((t=>{t.resolve()})),r.Vu.delete(e)}function eE(r,e,t){const i=Ce(r);let o=i.Ru[i.currentUser.toKey()];if(o){const l=o.get(e);l&&(t?l.reject(t):l.resolve(),o=o.remove(e)),i.Ru[i.currentUser.toKey()]=o}}function Af(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Tu.get(e))r.Pu.delete(i),t&&r.hu.pu(i,t);r.Tu.delete(e),r.isPrimaryClient&&r.Au.zr(e).forEach((i=>{r.Au.containsKey(i)||tE(r,i)}))}function tE(r,e){r.Iu.delete(e.path.canonicalString());const t=r.du.get(e);t!==null&&(up(r.remoteStore,t),r.du=r.du.remove(e),r.Eu.delete(t),wp(r))}function Tv(r,e,t){for(const i of t)i instanceof Qw?(r.Au.addReference(i.key,e),SR(r,i)):i instanceof Yw?(de(_p,"Document no longer in limbo: "+i.key),r.Au.removeReference(i.key,e),r.Au.containsKey(i.key)||tE(r,i.key)):Ie(19791,{yu:i})}function SR(r,e){const t=e.key,i=t.path.canonicalString();r.du.get(t)||r.Iu.has(i)||(de(_p,"New document in limbo: "+t),r.Iu.add(i),wp(r))}function wp(r){for(;r.Iu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const e=r.Iu.values().next().value;r.Iu.delete(e);const t=new _e(Ye.fromString(e)),i=r.mu.next();r.Eu.set(i,new fR(t)),r.du=r.du.insert(t,i),$w(r.remoteStore,new Si(cr(Wc(t.path)),i,"TargetPurposeLimboResolution",Bc.ue))}}async function Cl(r,e,t){const i=Ce(r),o=[],l=[],h=[];i.Pu.isEmpty()||(i.Pu.forEach(((f,p)=>{h.push(i.gu(p,e,t).then((y=>{var w;if((y||t)&&i.isPrimaryClient){const T=y?!y.fromCache:(w=t==null?void 0:t.targetChanges.get(p.targetId))===null||w===void 0?void 0:w.current;i.sharedClientState.updateQueryState(p.targetId,T?"current":"not-current")}if(y){o.push(y);const T=ap.Es(p.targetId,y);l.push(T)}})))})),await Promise.all(h),i.hu.J_(o),await(async function(p,y){const w=Ce(p);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>Y.forEach(y,(S=>Y.forEach(S.Is,(V=>w.persistence.referenceDelegate.addReference(T,S.targetId,V))).next((()=>Y.forEach(S.ds,(V=>w.persistence.referenceDelegate.removeReference(T,S.targetId,V)))))))))}catch(T){if(!Qo(T))throw T;de(lp,"Failed to update sequence numbers: "+T)}for(const T of y){const S=T.targetId;if(!T.fromCache){const V=w.Fs.get(S),O=V.snapshotVersion,B=V.withLastLimboFreeSnapshotVersion(O);w.Fs=w.Fs.insert(S,B)}}})(i.localStore,l))}async function PR(r,e){const t=Ce(r);if(!t.currentUser.isEqual(e)){de(_p,"User change. New user:",e.toKey());const i=await Fw(t.localStore,e);t.currentUser=e,(function(l,h){l.Vu.forEach((f=>{f.forEach((p=>{p.reject(new ae(Q.CANCELLED,h))}))})),l.Vu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Cl(t,i.Bs)}}function AR(r,e){const t=Ce(r),i=t.Eu.get(e);if(i&&i.lu)return Ve().add(i.key);{let o=Ve();const l=t.Tu.get(e);if(!l)return o;for(const h of l){const f=t.Pu.get(h);o=o.unionWith(f.view.tu)}return o}}function nE(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Jw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=AR.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ER.bind(null,e),e.hu.J_=uR.bind(null,e.eventManager),e.hu.pu=cR.bind(null,e.eventManager),e}function CR(r){const e=Ce(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=TR.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=IR.bind(null,e),e}class Nc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Yc(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,t){return null}Fu(e,t){return null}vu(e){return xC(this.persistence,new RC,e.initialUser,this.serializer)}Du(e){return new jw(op.Vi,this.serializer)}bu(e){return new jC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Nc.provider={build:()=>new Nc};class RR extends Nc{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,t){ze(this.persistence.referenceDelegate instanceof Rc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new fC(i,e.asyncQueue,t)}Du(e){const t=this.cacheSizeBytes!==void 0?sn.withCacheSize(this.cacheSizeBytes):sn.DEFAULT;return new jw((i=>Rc.Vi(i,t)),this.serializer)}}class Cf{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>Ev(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=PR.bind(null,this.syncEngine),await oR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new lR})()}createDatastore(e){const t=Yc(e.databaseInfo.databaseId),i=(function(l){return new $C(l)})(e.databaseInfo);return(function(l,h,f,p){return new GC(l,h,f,p)})(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,o,l,h,f){return new QC(i,o,l,h,f)})(this.localStore,this.datastore,e.asyncQueue,(t=>Ev(this.syncEngine,t,0)),(function(){return mv.C()?new mv:new FC})())}createSyncEngine(e,t){return(function(o,l,h,f,p,y,w){const T=new pR(o,l,h,f,p,y);return w&&(T.fu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(o){const l=Ce(o);de(Cs,"RemoteStore shutting down."),l.Ia.add(5),await Al(l),l.Ea.shutdown(),l.Aa.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cf.provider={build:()=>new Cf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ep{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):Br("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mi="FirestoreClient";class kR{constructor(e,t,i,o,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=zt.UNAUTHENTICATED,this.clientId=Kf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async h=>{de(Mi,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h})),this.appCheckCredentials.start(i,(h=>(de(Mi,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=pp(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function Kd(r,e){r.asyncQueue.verifyOperationInProgress(),de(Mi,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async o=>{i.isEqual(o)||(await Fw(e.localStore,o),i=o)})),e.persistence.setDatabaseDeletedListener((()=>{xi("Terminating Firestore due to IndexedDb database deletion"),r.terminate().then((()=>{de("Terminating Firestore due to IndexedDb database deletion completed successfully")})).catch((o=>{xi("Terminating Firestore due to IndexedDb database deletion failed",o)}))})),r._offlineComponents=e}async function Iv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await NR(r);de(Mi,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>yv(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,o)=>yv(e.remoteStore,o))),r._onlineComponents=e}async function NR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){de(Mi,"Using user provided OfflineComponentProvider");try{await Kd(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(o){return o.name==="FirebaseError"?o.code===Q.FAILED_PRECONDITION||o.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(t))throw t;xi("Error using user provided cache. Falling back to memory cache: "+t),await Kd(r,new Nc)}}else de(Mi,"Using default OfflineComponentProvider"),await Kd(r,new RR(void 0));return r._offlineComponents}async function rE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(de(Mi,"Using user provided OnlineComponentProvider"),await Iv(r,r._uninitializedComponentsProvider._online)):(de(Mi,"Using default OnlineComponentProvider"),await Iv(r,new Cf))),r._onlineComponents}function xR(r){return rE(r).then((e=>e.syncEngine))}async function xc(r){const e=await rE(r),t=e.eventManager;return t.onListen=mR.bind(null,e.syncEngine),t.onUnlisten=vR.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gR.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=_R.bind(null,e.syncEngine),t}function bR(r,e,t={}){const i=new Mr;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,p,y){const w=new Ep({next:S=>{w.Ou(),h.enqueueAndForget((()=>gp(l,T)));const V=S.docs.has(f);!V&&S.fromCache?y.reject(new ae(Q.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&S.fromCache&&p&&p.source==="server"?y.reject(new ae(Q.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new vp(Wc(f.path),w,{includeMetadataChanges:!0,ka:!0});return mp(l,T)})(await xc(r),r.asyncQueue,e,t,i))),i.promise}function DR(r,e,t={}){const i=new Mr;return r.asyncQueue.enqueueAndForget((async()=>(function(l,h,f,p,y){const w=new Ep({next:S=>{w.Ou(),h.enqueueAndForget((()=>gp(l,T))),S.fromCache&&p.source==="server"?y.reject(new ae(Q.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(S)},error:S=>y.reject(S)}),T=new vp(f,w,{includeMetadataChanges:!0,ka:!0});return mp(l,T)})(await xc(r),r.asyncQueue,e,t,i))),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sv=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="firestore.googleapis.com",Pv=!0;class Av{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new ae(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sE,this.ssl=Pv}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:Pv;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=Mw;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hC)throw new ae(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Y1("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iE((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),(function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new ae(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,o){return i.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zc{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ae(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ae(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Av(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new B1;switch(i.type){case"firstParty":return new H1(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ae(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=Sv.get(t);i&&(de("ComponentProvider","Removing Datastore"),Sv.delete(t),i.terminate())})(this),Promise.resolve()}}function VR(r,e,t,i={}){var o;r=an(r,Zc);const l=Ho(e),h=r._getSettings(),f=Object.assign(Object.assign({},h),{emulatorOptions:r._getEmulatorOptions()}),p=`${e}:${t}`;l&&(Jv(`https://${p}`),Zv("Firestore",!0)),h.host!==sE&&h.host!==p&&xi("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},h),{host:p,ssl:l,emulatorOptions:i});if(!Ts(y,f)&&(r._setSettings(y),i.mockUserToken)){let w,T;if(typeof i.mockUserToken=="string")w=i.mockUserToken,T=zt.MOCK_USER;else{w=KT(i.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const S=i.mockUserToken.sub||i.mockUserToken.user_id;if(!S)throw new ae(Q.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new zt(S)}r._authCredentials=new z1(new K_(w,T))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new bs(this.firestore,e,this._query)}}class ot{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ni(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ot(this.firestore,e,this._key)}toJSON(){return{type:ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Tl(t,ot._jsonSchema))return new ot(e,i||null,new _e(Ye.fromString(t.referencePath)))}}ot._jsonSchemaVersion="firestore/documentReference/1.0",ot._jsonSchema={type:vt("string",ot._jsonSchemaVersion),referencePath:vt("string")};class Ni extends bs{constructor(e,t,i){super(e,t,Wc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ot(this.firestore,null,new _e(e))}withConverter(e){return new Ni(this.firestore,e,this._path)}}function jr(r,e,...t){if(r=ft(r),Y_("collection","path",e),r instanceof Zc){const i=Ye.fromString(e,...t);return Fy(i),new Ni(r,null,i)}{if(!(r instanceof ot||r instanceof Ni))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Ye.fromString(e,...t));return Fy(i),new Ni(r.firestore,null,i)}}function mn(r,e,...t){if(r=ft(r),arguments.length===1&&(e=Kf.newId()),Y_("doc","path",e),r instanceof Zc){const i=Ye.fromString(e,...t);return jy(i),new ot(r,null,new _e(i))}{if(!(r instanceof ot||r instanceof Ni))throw new ae(Q.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(Ye.fromString(e,...t));return jy(i),new ot(r.firestore,r instanceof Ni?r.converter:null,new _e(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cv="AsyncQueue";class Rv{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new Bw(this,"async_queue_retry"),this.oc=()=>{const i=Gd();i&&de(Cv,"Visibility state changed to "+i.visibilityState),this.F_.y_()},this._c=e;const t=Gd();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const t=Gd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise((()=>{}));const t=new Mr;return this.uc((()=>this.Xu&&this.rc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Zu.push(e),this.cc())))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Qo(e))throw e;de(Cv,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_((()=>this.cc()))}}uc(e){const t=this._c.then((()=>(this.nc=!0,e().catch((i=>{throw this.tc=i,this.nc=!1,Br("INTERNAL UNHANDLED ERROR: ",kv(i)),i})).then((i=>(this.nc=!1,i))))));return this._c=t,t}enqueueAfterDelay(e,t,i){this.ac(),this.sc.indexOf(e)>-1&&(t=0);const o=fp.createAndSchedule(this,e,t,i,(l=>this.lc(l)));return this.ec.push(o),o}ac(){this.tc&&Ie(47125,{hc:kv(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const t of this.ec)if(t.timerId===e)return!0;return!1}Ic(e){return this.Pc().then((()=>{this.ec.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.ec)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Pc()}))}dc(e){this.sc.push(e)}lc(e){const t=this.ec.indexOf(e);this.ec.splice(t,1)}}function kv(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const l of i)if(l in o&&typeof o[l]=="function")return!0;return!1})(r,["next","error","complete"])}class $r extends Zc{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new Rv,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Rv(e),this._firestoreClient=void 0,await e}}}function OR(r,e){const t=typeof r=="object"?r:r_(),i=typeof r=="string"?r:Ec,o=Mf(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const l=qT("firestore");l&&VR(o,...l)}return o}function eh(r){if(r._terminated)throw new ae(Q.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||LR(r),r._firestoreClient}function LR(r){var e,t,i;const o=r._freezeSettings(),l=(function(f,p,y,w){return new aA(f,p,y,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,iE(w.experimentalLongPollingOptions),w.useFetchStreams,w.isUsingEmulator)})(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new kR(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&(function(f){const p=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(p),_online:p}})(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Rn(Lt.fromBase64String(e))}catch(t){throw new ae(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Rn(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Rn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Tl(e,Rn._jsonSchema))return Rn.fromBase64String(e.bytes)}}Rn._jsonSchemaVersion="firestore/bytes/1.0",Rn._jsonSchema={type:vt("string",Rn._jsonSchemaVersion),bytes:vt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ae(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ae(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ae(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:dr._jsonSchemaVersion}}static fromJSON(e){if(Tl(e,dr._jsonSchema))return new dr(e.latitude,e.longitude)}}dr._jsonSchemaVersion="firestore/geoPoint/1.0",dr._jsonSchema={type:vt("string",dr._jsonSchemaVersion),latitude:vt("number"),longitude:vt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,o){if(i.length!==o.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==o[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:fr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Tl(e,fr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new fr(e.vectorValues);throw new ae(Q.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}fr._jsonSchemaVersion="firestore/vectorValue/1.0",fr._jsonSchema={type:vt("string",fr._jsonSchemaVersion),vectorValues:vt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MR=/^__.*__$/;class jR{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms):new Sl(e,this.data,t,this.fieldTransforms)}}class oE{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new Bi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function aE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ie(40011,{Ec:r})}}class Ip{constructor(e,t,i,o,l,h){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,l===void 0&&this.Ac(),this.fieldTransforms=l||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Ip(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:i,mc:!1});return o.fc(e),o}gc(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Rc({path:i,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return bc(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(aE(this.Ec)&&MR.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class FR{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Yc(e)}Dc(e,t,i,o=!1){return new Ip({Ec:e,methodName:t,bc:i,path:Ot.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nh(r){const e=r._freezeSettings(),t=Yc(r._databaseId);return new FR(r._databaseId,!!e.ignoreUndefinedProperties,t)}function lE(r,e,t,i,o,l={}){const h=r.Dc(l.merge||l.mergeFields?2:0,e,t,o);Sp("Data must be an object, but it was:",h,i);const f=uE(i,h);let p,y;if(l.merge)p=new gn(h.fieldMask),y=h.fieldTransforms;else if(l.mergeFields){const w=[];for(const T of l.mergeFields){const S=Rf(e,T,t);if(!h.contains(S))throw new ae(Q.INVALID_ARGUMENT,`Field '${S}' is specified in your field mask but missing from your input data.`);hE(w,S)||w.push(S)}p=new gn(w),y=h.fieldTransforms.filter((T=>p.covers(T.field)))}else p=null,y=h.fieldTransforms;return new jR(new on(f),p,y)}class rh extends Tp{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof rh}}function UR(r,e,t,i){const o=r.Dc(1,e,t);Sp("Data must be an object, but it was:",o,i);const l=[],h=on.empty();Ui(i,((p,y)=>{const w=Pp(e,p,t);y=ft(y);const T=o.gc(w);if(y instanceof rh)l.push(w);else{const S=Rl(y,T);S!=null&&(l.push(w),h.set(w,S))}}));const f=new gn(l);return new oE(h,f,o.fieldTransforms)}function BR(r,e,t,i,o,l){const h=r.Dc(1,e,t),f=[Rf(e,i,t)],p=[o];if(l.length%2!=0)throw new ae(Q.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let S=0;S<l.length;S+=2)f.push(Rf(e,l[S])),p.push(l[S+1]);const y=[],w=on.empty();for(let S=f.length-1;S>=0;--S)if(!hE(y,f[S])){const V=f[S];let O=p[S];O=ft(O);const B=h.gc(V);if(O instanceof rh)y.push(V);else{const j=Rl(O,B);j!=null&&(y.push(V),w.set(V,j))}}const T=new gn(y);return new oE(w,T,h.fieldTransforms)}function zR(r,e,t,i=!1){return Rl(t,r.Dc(i?4:3,e))}function Rl(r,e){if(cE(r=ft(r)))return Sp("Unsupported field value:",e,r),uE(r,e);if(r instanceof Tp)return(function(i,o){if(!aE(o.Ec))throw o.wc(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(o);l&&o.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return(function(i,o){const l=[];let h=0;for(const f of i){let p=Rl(f,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),l.push(p),h++}return{arrayValue:{values:l}}})(r,e)}return(function(i,o){if((i=ft(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return NA(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=Ge.fromDate(i);return{timestampValue:Cc(o.serializer,l)}}if(i instanceof Ge){const l=new Ge(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Cc(o.serializer,l)}}if(i instanceof dr)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Rn)return{bytesValue:Nw(o.serializer,i._byteString)};if(i instanceof ot){const l=o.databaseId,h=i.firestore._databaseId;if(!h.isEqual(l))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:ip(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof fr)return(function(h,f){return{mapValue:{fields:{[sw]:{stringValue:ow},[Tc]:{arrayValue:{values:h.toArray().map((y=>{if(typeof y!="number")throw f.wc("VectorValues must only contain numeric values.");return ep(f.serializer,y)}))}}}}}})(i,o);throw o.wc(`Unsupported field value: ${Uc(i)}`)})(r,e)}function uE(r,e){const t={};return Z_(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ui(r,((i,o)=>{const l=Rl(o,e.Vc(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function cE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ge||r instanceof dr||r instanceof Rn||r instanceof ot||r instanceof Tp||r instanceof fr)}function Sp(r,e,t){if(!cE(t)||!X_(t)){const i=Uc(t);throw i==="an object"?e.wc(r+" a custom object"):e.wc(r+" "+i)}}function Rf(r,e,t){if((e=ft(e))instanceof th)return e._internalPath;if(typeof e=="string")return Pp(r,e);throw bc("Field path arguments must be of type string or ",r,!1,void 0,t)}const $R=new RegExp("[~\\*/\\[\\]]");function Pp(r,e,t){if(e.search($R)>=0)throw bc(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new th(...e.split("."))._internalPath}catch{throw bc(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function bc(r,e,t,i,o){const l=i&&!i.isEmpty(),h=o!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let p="";return(l||h)&&(p+=" (found",l&&(p+=` in field ${i}`),h&&(p+=` in document ${o}`),p+=")"),new ae(Q.INVALID_ARGUMENT,f+r+p)}function hE(r,e){return r.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e,t,i,o,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ap("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WR extends dE{data(){return super.data()}}function Ap(r,e){return typeof e=="string"?Pp(r,e):e instanceof th?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ae(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Cp{}class HR extends Cp{}function Rp(r,e,...t){let i=[];e instanceof Cp&&i.push(e),i=i.concat(t),(function(l){const h=l.filter((p=>p instanceof Np)).length,f=l.filter((p=>p instanceof ih)).length;if(h>1||h>0&&f>0)throw new ae(Q.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const o of i)r=o._apply(r);return r}class ih extends HR{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new ih(e,t,i)}_apply(e){const t=this._parse(e);return pE(e._query,t),new bs(e.firestore,e.converter,yf(e._query,t))}_parse(e){const t=nh(e.firestore);return(function(l,h,f,p,y,w,T){let S;if(y.isKeyField()){if(w==="array-contains"||w==="array-contains-any")throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. You can't perform '${w}' queries on documentId().`);if(w==="in"||w==="not-in"){bv(T,w);const O=[];for(const B of T)O.push(xv(p,l,B));S={arrayValue:{values:O}}}else S=xv(p,l,T)}else w!=="in"&&w!=="not-in"&&w!=="array-contains-any"||bv(T,w),S=zR(f,h,T,w==="in"||w==="not-in");return yt.create(y,w,S)})(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function kp(r,e,t){const i=e,o=Ap("where",r);return ih._create(o,i,t)}class Np extends Cp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Np(e,t)}_parse(e){const t=this._queryConstraints.map((i=>i._parse(e))).filter((i=>i.getFilters().length>0));return t.length===1?t[0]:Gn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:((function(o,l){let h=o;const f=l.getFlattenedFilters();for(const p of f)pE(h,p),h=yf(h,p)})(e._query,t),new bs(e.firestore,e.converter,yf(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function xv(r,e,t){if(typeof(t=ft(t))=="string"){if(t==="")throw new ae(Q.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!pw(e)&&t.indexOf("/")!==-1)throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(Ye.fromString(t));if(!_e.isDocumentKey(i))throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Gy(r,new _e(i))}if(t instanceof ot)return Gy(r,t._key);throw new ae(Q.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Uc(t)}.`)}function bv(r,e){if(!Array.isArray(r)||r.length===0)throw new ae(Q.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function pE(r,e){const t=(function(o,l){for(const h of o)for(const f of h.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null})(r.filters,(function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(t!==null)throw t===e.op?new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ae(Q.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class qR{convertValue(e,t="none"){switch(Oi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ct(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Vi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ie(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return Ui(e,((o,l)=>{i[o]=this.convertValue(l,t)})),i}convertVectorValue(e){var t,i,o;const l=(o=(i=(t=e.fields)===null||t===void 0?void 0:t[Tc].arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map((h=>ct(h.doubleValue)));return new fr(l)}convertGeoPoint(e){return new dr(ct(e.latitude),ct(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=$c(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(ul(e));default:return null}}convertTimestamp(e){const t=Di(e);return new Ge(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=Ye.fromString(e);ze(Lw(i),9688,{name:e});const o=new cl(i.get(1),i.get(3)),l=new _e(i.popFirst(5));return o.isEqual(t)||Br(`Document ${l} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mE(r,e,t){let i;return i=r?r.toFirestore(e):e,i}class Xa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ws extends dE{constructor(e,t,i,o,l,h){super(e,t,i,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new uc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(Ap("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Q.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=ws._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}ws._jsonSchemaVersion="firestore/documentSnapshot/1.0",ws._jsonSchema={type:vt("string",ws._jsonSchemaVersion),bundleSource:vt("string","DocumentSnapshot"),bundleName:vt("string"),bundle:vt("string")};class uc extends ws{data(e={}){return super.data(e)}}class Es{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Xa(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new uc(this._firestore,this._userDataWriter,i.key,i,new Xa(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ae(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(o,l){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map((f=>{const p=new uc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Xa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);return f.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}}))}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((f=>l||f.type!==3)).map((f=>{const p=new uc(o._firestore,o._userDataWriter,f.doc.key,f.doc,new Xa(o._snapshot.mutatedKeys.has(f.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,w=-1;return f.type!==0&&(y=h.indexOf(f.doc.key),h=h.delete(f.doc.key)),f.type!==1&&(h=h.add(f.doc),w=h.indexOf(f.doc.key)),{type:GR(f.type),doc:p,oldIndex:y,newIndex:w}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ae(Q.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Es._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Kf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],o=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),o.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function GR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ie(61501,{type:r})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(r){r=an(r,ot);const e=an(r.firestore,$r);return bR(eh(e),r._key).then((t=>yE(e,r,t)))}Es._jsonSchemaVersion="firestore/querySnapshot/1.0",Es._jsonSchema={type:vt("string",Es._jsonSchemaVersion),bundleSource:vt("string","QuerySnapshot"),bundleName:vt("string"),bundle:vt("string")};class xp extends qR{constructor(e){super(),this.firestore=e}convertBytes(e){return new Rn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ot(this.firestore,null,t)}}function kl(r){r=an(r,bs);const e=an(r.firestore,$r),t=eh(e),i=new xp(e);return fE(r._query),DR(t,r._query).then((o=>new Es(e,i,r,o)))}function QR(r,e,t){r=an(r,ot);const i=an(r.firestore,$r),o=mE(r.converter,e);return sh(i,[lE(nh(i),"setDoc",r._key,o,r.converter!==null,t).toMutation(r._key,kn.none())])}function vs(r,e,t,...i){r=an(r,ot);const o=an(r.firestore,$r),l=nh(o);let h;return h=typeof(e=ft(e))=="string"||e instanceof th?BR(l,"updateDoc",r._key,e,t,i):UR(l,"updateDoc",r._key,e),sh(o,[h.toMutation(r._key,kn.exists(!0))])}function gE(r){return sh(an(r.firestore,$r),[new tp(r._key,kn.none())])}function YR(r,e){const t=an(r.firestore,$r),i=mn(r),o=mE(r.converter,e);return sh(t,[lE(nh(r.firestore),"addDoc",i._key,o,r.converter!==null,{}).toMutation(i._key,kn.exists(!1))]).then((()=>i))}function Dc(r,...e){var t,i,o;r=ft(r);let l={includeMetadataChanges:!1,source:"default"},h=0;typeof e[h]!="object"||Nv(e[h])||(l=e[h++]);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Nv(e[h])){const T=e[h];e[h]=(t=T.next)===null||t===void 0?void 0:t.bind(T),e[h+1]=(i=T.error)===null||i===void 0?void 0:i.bind(T),e[h+2]=(o=T.complete)===null||o===void 0?void 0:o.bind(T)}let p,y,w;if(r instanceof ot)y=an(r.firestore,$r),w=Wc(r._key.path),p={next:T=>{e[h]&&e[h](yE(y,r,T))},error:e[h+1],complete:e[h+2]};else{const T=an(r,bs);y=an(T.firestore,$r),w=T._query;const S=new xp(y);p={next:V=>{e[h]&&e[h](new Es(y,S,T,V))},error:e[h+1],complete:e[h+2]},fE(r._query)}return(function(S,V,O,B){const j=new Ep(B),oe=new vp(V,j,O);return S.asyncQueue.enqueueAndForget((async()=>mp(await xc(S),oe))),()=>{j.Ou(),S.asyncQueue.enqueueAndForget((async()=>gp(await xc(S),oe)))}})(eh(y),w,f,p)}function sh(r,e){return(function(i,o){const l=new Mr;return i.asyncQueue.enqueueAndForget((async()=>wR(await xR(i),o,l))),l.promise})(eh(r),e)}function yE(r,e,t){const i=t.docs.get(e._key),o=new xp(r);return new ws(r,o,e._key,i,new Xa(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(o){Go=o})(qo),Vo(new Is("firestore",((i,{instanceIdentifier:o,options:l})=>{const h=i.getProvider("app").getImmediate(),f=new $r(new $1(i.getProvider("auth-internal")),new q1(h,i.getProvider("app-check-internal")),(function(y,w){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ae(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cl(y.options.projectId,w)})(h,o),h);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f}),"PUBLIC").setMultipleInstances(!0)),Ri(Dy,Vy,e),Ri(Dy,Vy,"esm2017")})();const XR={apiKey:"AIzaSyCTDtoGl-VnlE33xKZsRocfstdnCSZMyek",authDomain:"golfgang-f00e3.firebaseapp.com",projectId:"golfgang-f00e3",storageBucket:"golfgang-f00e3.firebasestorage.app",messagingSenderId:"787603935494",appId:"1:787603935494:web:82f634dc12cdd3b42cce87"},vE=n_(XR),Vc=M1(vE),ht=OR(vE),_E=G.createContext(null);function JR({children:r}){const[e,t]=G.useState(null),[i,o]=G.useState(null),[l,h]=G.useState(!1),[f,p]=G.useState(!0);G.useEffect(()=>{const T=PP(Vc,async S=>{if(!S){t(null),o(null),h(!1),p(!1);return}t(S);try{const V=mn(ht,"users",S.uid),O=await KR(V);if(O.exists()){const B=O.data();o(B),h((B==null?void 0:B.isAdmin)===!0)}else o({}),h(!1)}catch(V){console.error("Error loading user profile:",V),o({})}p(!1)});return()=>T()},[]);const w={user:e,profile:i,isAdmin:l,loading:f,logout:async()=>{try{await AP(Vc)}catch(T){console.error("Error signing out:",T)}}};return _.jsx(_E.Provider,{value:w,children:r})}function zi(){return G.useContext(_E)}function ZR(){const{user:r,isAdmin:e}=zi();return _.jsx("nav",{className:"navbar",children:_.jsxs("div",{className:"navbar-content",children:[_.jsxs(ar,{to:"/",className:"navbar-brand",children:[_.jsx("span",{className:"navbar-logo",children:""}),_.jsx("span",{className:"navbar-title",children:"GolfGang"})]}),_.jsx("div",{className:"navbar-actions",children:r?_.jsxs(_.Fragment,{children:[e&&_.jsx(ar,{to:"/admin",className:"btn btn-ghost btn-sm",children:"Admin"}),_.jsx(ar,{to:"/profile",className:"btn btn-ghost btn-sm",children:"Profile"})]}):_.jsx(ar,{to:"/login",className:"btn btn-primary btn-sm",children:"Login"})})]})})}function ek(){const r=$o(),e=Wo(),{user:t}=zi();if(!t||["/login","/signup"].includes(r.pathname))return null;const o=[{path:"/",icon:"",label:"Home"},{path:"/profile",icon:"",label:"Profile"}],l=h=>h==="/"?r.pathname==="/":r.pathname.startsWith(h);return _.jsx("nav",{className:"bottom-nav",children:_.jsx("div",{className:"bottom-nav-content",children:o.map(h=>_.jsxs("button",{className:`nav-item ${l(h.path)?"active":""}`,onClick:()=>e(h.path),children:[_.jsx("span",{className:"nav-item-icon",children:h.icon}),_.jsx("span",{className:"nav-item-label",children:h.label})]},h.path))})})}function je(r,e="default"){const t=document.querySelector(".toast-notification");t&&t.remove();const i=document.createElement("div");i.className=`toast-notification toast-${e}`,i.textContent=r,document.body.appendChild(i),requestAnimationFrame(()=>{i.classList.add("show")}),setTimeout(()=>{i.classList.remove("show"),setTimeout(()=>i.remove(),300)},3e3)}function Dr(r="light"){if(navigator.vibrate){const e={light:[10],medium:[20],heavy:[30],success:[10,50,10],error:[50,30,50]};navigator.vibrate(e[r]||e.light)}}function tk(){const r=["#0f7b6c","#10b981","#3b82f6","#f59e0b","#ef4444"];for(let t=0;t<50;t++){const i=document.createElement("div");i.className="confetti",i.style.left=Math.random()*100+"vw",i.style.backgroundColor=r[Math.floor(Math.random()*r.length)],i.style.animationDelay=Math.random()*.5+"s",i.style.animationDuration=Math.random()*1+2+"s",document.body.appendChild(i),setTimeout(()=>i.remove(),3e3)}}function pl(r){if(!r)return"??";const e=r.trim().split(/[\s_]+/);return e.length>=2?(e[0][0]+e[1][0]).toUpperCase():r.slice(0,2).toUpperCase()}function ml(r){const e=[{bg:"#dbeafe",text:"#1e40af"},{bg:"#dcfce7",text:"#166534"},{bg:"#fef3c7",text:"#92400e"},{bg:"#fce7f3",text:"#9d174d"},{bg:"#e0e7ff",text:"#3730a3"},{bg:"#ccfbf1",text:"#0f766e"},{bg:"#fee2e2",text:"#991b1b"},{bg:"#f3e8ff",text:"#6b21a8"}];let t=0;for(let i=0;i<(r||"").length;i++)t=r.charCodeAt(i)+((t<<5)-t);return e[Math.abs(t)%e.length]}function Dv(r){return r?(r instanceof Date?r:r.toDate()).toLocaleDateString("en-AU",{weekday:"long",day:"numeric",month:"long"}):""}function nk(r){return r?(r instanceof Date?r:r.toDate()).toLocaleDateString("en-AU",{weekday:"short",day:"numeric",month:"short"}):""}function rk(r,e){var f,p;const i=(((p=(f=r.date)==null?void 0:f.toDate)==null?void 0:p.call(f))||new Date).toISOString().split("T")[0].replace(/-/g,""),o=encodeURIComponent(r.title||"Golf Round"),l=encodeURIComponent(r.courseName||""),h=encodeURIComponent(`${r.notes||""}

Event details: ${e}`);return`https://calendar.google.com/calendar/render?action=TEMPLATE&text=${o}&dates=${i}/${i}&location=${l}&details=${h}`}const Qd=r=>r?typeof r=="string"?r:r.status:null;function Vv({event:r,users:e=[]}){var p,y;const{user:t}=zi(),i=(y=(p=r.date)==null?void 0:p.toDate)==null?void 0:y.call(p),o=t&&r.responses?Qd(r.responses[t.uid]):null,l=r.responses?Object.values(r.responses).filter(w=>Qd(w)==="available").length:0,h=r.responses?Object.entries(r.responses).filter(([w,T])=>Qd(T)==="available").map(([w])=>w).slice(0,4):[],f=w=>{var S;const T=e.find(V=>V.id===w);return(T==null?void 0:T.username)||((S=T==null?void 0:T.email)==null?void 0:S.split("@")[0])||"User"};return _.jsxs(ar,{to:`/event/${r.id}`,className:"event-card",children:[_.jsxs("div",{className:"event-card-header",children:[_.jsxs("div",{className:"event-card-date",children:[_.jsx("span",{className:"event-card-day",children:i==null?void 0:i.getDate()}),_.jsx("span",{className:"event-card-month",children:i==null?void 0:i.toLocaleDateString("en-AU",{month:"short"})})]}),_.jsxs("div",{className:"event-card-info",children:[_.jsxs("div",{className:"event-card-title",children:[r.title||"Golf Round",r.booked&&_.jsx("span",{className:"badge badge-success",children:"Booked"}),!r.booked&&_.jsx("span",{className:"badge badge-info",children:"Proposed"})]}),r.tee&&_.jsxs("div",{className:"event-card-detail",children:[" ",r.tee]}),r.courseName&&_.jsxs("div",{className:"event-card-detail",children:[" ",r.courseName]})]})]}),_.jsxs("div",{className:"event-card-footer",children:[_.jsxs("div",{className:"event-card-avatars",children:[h.map(w=>{const T=f(w),S=ml(T);return _.jsx("div",{className:"avatar avatar-sm",style:{backgroundColor:S.bg,color:S.text},title:T,children:pl(T)},w)}),_.jsxs("span",{className:"event-card-count",children:[l,"/4"]})]}),o==="available"&&_.jsx("span",{className:"badge badge-success-soft",children:" You're in"})]})]})}function ik(){const{user:r,profile:e}=zi(),[t,i]=G.useState([]),[o,l]=G.useState([]),[h,f]=G.useState(!0),[p,y]=G.useState(!1),[w,T]=G.useState(!1),[S,V]=G.useState({date:"",tee:"",courseName:"",notes:""}),[O,B]=G.useState({timePreference:"",cartPreference:"",formatPreference:"",coursePreference:""});G.useEffect(()=>{const re=Dc(jr(ht,"events"),k=>{const P=k.docs.map(C=>({id:C.id,...C.data()}));i(P),f(!1)});return()=>re()},[]),G.useEffect(()=>{async function re(){const k=await kl(jr(ht,"users"));l(k.docs.map(P=>({id:P.id,...P.data()})))}re()},[]);const j=re=>{if(!re)return"";const[k,P,C]=re.split("-").map(Number),b=new Date(k,P-1,C),N=b.toLocaleDateString("en-AU",{weekday:"long"}),L=b.toLocaleDateString("en-AU",{month:"long"});return`${N} ${(We=>{const Ze=["th","st","nd","rd"],at=We%100;return We+(Ze[(at-20)%10]||Ze[at]||Ze[0])})(C)} ${L}`},oe=async re=>{var k;if(re.preventDefault(),!S.date){je("Please select a date","error");return}T(!0),Dr("medium");try{const[P,C,b]=S.date.split("-").map(Number),N=new Date(P,C-1,b);await YR(jr(ht,"events"),{title:j(S.date),date:Ge.fromDate(N),tee:S.tee||null,courseName:S.courseName||null,notes:S.notes||null,proposedBy:r.uid,proposedByName:(e==null?void 0:e.username)||((k=r.email)==null?void 0:k.split("@")[0]),booked:!1,createdAt:Ge.now(),responses:{[r.uid]:{status:"available",preferences:{timePreference:O.timePreference||null,cartPreference:O.cartPreference||null,formatPreference:O.formatPreference||null,coursePreference:O.coursePreference||null},updatedAt:new Date().toISOString()}}}),je("Round proposed! ","success"),V({date:"",tee:"",courseName:"",notes:""}),B({timePreference:"",cartPreference:"",formatPreference:"",coursePreference:""}),y(!1)}catch(P){console.error("Error creating event:",P),je("Failed to create event","error")}finally{T(!1)}},H=new Date;H.setHours(0,0,0,0);const ne=t.filter(re=>{var P,C;const k=(C=(P=re.date)==null?void 0:P.toDate)==null?void 0:C.call(P);return k&&k>=H}).sort((re,k)=>re.date.toMillis()-k.date.toMillis()),le=t.filter(re=>{var P,C;const k=(C=(P=re.date)==null?void 0:P.toDate)==null?void 0:C.call(P);return k&&k<H}).sort((re,k)=>k.date.toMillis()-re.date.toMillis()).slice(0,5),Se=()=>{const re=new Date;return re.setDate(re.getDate()+1),re.toISOString().split("T")[0]};return h?_.jsx("div",{className:"page",children:_.jsxs("div",{className:"page-content",children:[_.jsx("div",{className:"skeleton",style:{height:60,marginBottom:16}}),_.jsx("div",{className:"skeleton",style:{height:100,marginBottom:12}}),_.jsx("div",{className:"skeleton",style:{height:100,marginBottom:12}}),_.jsx("div",{className:"skeleton",style:{height:100}})]})}):_.jsx("div",{className:"page",children:_.jsxs("div",{className:"page-content",children:[_.jsxs("div",{className:"page-header",children:[_.jsx("h1",{className:"page-title",children:"Upcoming Rounds"}),_.jsx("button",{className:"btn btn-primary",onClick:()=>y(!p),children:p?"Cancel":"+ Propose"})]}),p&&_.jsxs("div",{className:"card",style:{marginBottom:24},children:[_.jsx("h3",{style:{marginTop:0,marginBottom:16},children:"Propose a Round"}),_.jsxs("form",{onSubmit:oe,children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"date",children:"Date *"}),_.jsx("input",{id:"date",type:"date",className:"input",value:S.date,onChange:re=>V({...S,date:re.target.value}),min:Se(),required:!0})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"tee",children:"Tee Time (if known)"}),_.jsx("input",{id:"tee",type:"time",className:"input",value:S.tee,onChange:re=>V({...S,tee:re.target.value})})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"course",children:"Course (if known)"}),_.jsx("input",{id:"course",type:"text",className:"input",value:S.courseName,onChange:re=>V({...S,courseName:re.target.value}),placeholder:"e.g., Royal Melbourne"})]}),_.jsxs("div",{className:"preferences-section",children:[_.jsx("h4",{className:"preferences-title",children:"Your Preferences"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Time Preference"}),_.jsxs("div",{className:"toggle-group",children:[_.jsx("button",{type:"button",className:`toggle-btn ${O.timePreference==="AM"?"active":""}`,onClick:()=>B({...O,timePreference:O.timePreference==="AM"?"":"AM"}),children:" AM"}),_.jsx("button",{type:"button",className:`toggle-btn ${O.timePreference==="PM"?"active":""}`,onClick:()=>B({...O,timePreference:O.timePreference==="PM"?"":"PM"}),children:" PM"}),_.jsx("button",{type:"button",className:`toggle-btn ${O.timePreference==="Any"?"active":""}`,onClick:()=>B({...O,timePreference:O.timePreference==="Any"?"":"Any"}),children:" Any"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Walk or Cart?"}),_.jsxs("div",{className:"toggle-group",children:[_.jsx("button",{type:"button",className:`toggle-btn ${O.cartPreference==="Walk"?"active":""}`,onClick:()=>B({...O,cartPreference:O.cartPreference==="Walk"?"":"Walk"}),children:" Walk"}),_.jsx("button",{type:"button",className:`toggle-btn ${O.cartPreference==="Cart"?"active":""}`,onClick:()=>B({...O,cartPreference:O.cartPreference==="Cart"?"":"Cart"}),children:" Cart"}),_.jsx("button",{type:"button",className:`toggle-btn ${O.cartPreference==="Any"?"active":""}`,onClick:()=>B({...O,cartPreference:O.cartPreference==="Any"?"":"Any"}),children:" Any"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Game Format"}),_.jsxs("div",{className:"toggle-group",children:[_.jsx("button",{type:"button",className:`toggle-btn ${O.formatPreference==="Stroke"?"active":""}`,onClick:()=>B({...O,formatPreference:O.formatPreference==="Stroke"?"":"Stroke"}),children:" Stroke"}),_.jsx("button",{type:"button",className:`toggle-btn ${O.formatPreference==="Scramble"?"active":""}`,onClick:()=>B({...O,formatPreference:O.formatPreference==="Scramble"?"":"Scramble"}),children:" Scramble"}),_.jsx("button",{type:"button",className:`toggle-btn ${O.formatPreference==="Any"?"active":""}`,onClick:()=>B({...O,formatPreference:O.formatPreference==="Any"?"":"Any"}),children:" Any"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"coursePreference",children:"Course Preference"}),_.jsx("input",{id:"coursePreference",type:"text",className:"input",value:O.coursePreference,onChange:re=>B({...O,coursePreference:re.target.value}),placeholder:"e.g., Somewhere close to CBD"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"notes",children:"Notes (optional)"}),_.jsx("textarea",{id:"notes",className:"input",rows:2,value:S.notes,onChange:re=>V({...S,notes:re.target.value}),placeholder:"Any additional details..."})]}),_.jsx("button",{type:"submit",className:"btn btn-primary btn-full",disabled:w,children:w?"Creating...":"Propose This Round"})]})]}),ne.length===0?_.jsxs("div",{className:"card empty-state",children:[_.jsx("div",{className:"empty-state-icon",children:""}),_.jsx("div",{className:"empty-state-title",children:"No upcoming rounds"}),_.jsx("p",{children:"Be the first to propose a round!"})]}):_.jsx("div",{className:"event-list",children:ne.map(re=>_.jsx(Vv,{event:re,users:o},re.id))}),le.length>0&&_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"section-divider",children:_.jsx("span",{children:"Past Rounds"})}),_.jsx("div",{className:"event-list event-list-past",children:le.map(re=>_.jsx(Vv,{event:re,users:o},re.id))})]})]})})}function sk(){const r=Wo(),[e,t]=G.useState(""),[i,o]=G.useState(""),[l,h]=G.useState(""),[f,p]=G.useState(!1);async function y(w){w.preventDefault(),h(""),p(!0);try{let T=e.trim();if(!e.includes("@")){const S=Rp(jr(ht,"users"),kp("username","==",e.trim().toLowerCase())),V=await kl(S);if(V.empty)throw new Error("Username not found.");T=V.docs[0].data().email}await wP(Vc,T,i),r("/")}catch(T){console.error(T),T.code==="auth/user-not-found"||T.code==="auth/wrong-password"?h("Invalid email/username or password."):T.code==="auth/invalid-email"?h("Invalid email format."):h(T.message||"Failed to sign in.")}p(!1)}return _.jsx("div",{className:"auth-page",children:_.jsxs("div",{className:"card auth-card",children:[_.jsxs("div",{className:"auth-header",children:[_.jsx("h1",{className:"auth-logo",children:" GolfGang"}),_.jsx("h2",{className:"auth-title",children:"Welcome back"}),_.jsx("p",{className:"auth-subtitle",children:"Sign in to coordinate your rounds"})]}),l&&_.jsx("div",{className:"toast toast-danger",children:l}),_.jsxs("form",{onSubmit:y,className:"auth-form",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"identifier",children:"Email or Username"}),_.jsx("input",{id:"identifier",type:"text",className:"input",value:e,onChange:w=>t(w.target.value),placeholder:"you@example.com",required:!0,autoComplete:"username"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"password",children:"Password"}),_.jsx("input",{id:"password",type:"password",className:"input",value:i,onChange:w=>o(w.target.value),placeholder:"",required:!0,autoComplete:"current-password"})]}),_.jsx("button",{type:"submit",className:"btn btn-primary btn-full",disabled:f,children:f?"Signing in...":"Sign In"})]}),_.jsx("div",{className:"auth-footer",children:_.jsxs("p",{children:["Don't have an account?"," ",_.jsx(ar,{to:"/signup",className:"link",children:"Sign up"})]})})]})})}function ok(){const r=Wo(),[e,t]=G.useState(""),[i,o]=G.useState(""),[l,h]=G.useState(""),[f,p]=G.useState(""),[y,w]=G.useState(!1);async function T(V){const O=V.toLowerCase(),B=Rp(jr(ht,"users"),kp("username","==",O));return!(await kl(B)).empty}async function S(V){V.preventDefault(),p("");const O=i.trim().toLowerCase();if(!O.match(/^[a-z0-9_]+$/)){p("Username can only contain letters, numbers, and underscores.");return}if(O.length<3){p("Username must be at least 3 characters.");return}if(l.length<6){p("Password must be at least 6 characters.");return}w(!0);try{if(await T(O)){p("That username is already taken."),w(!1);return}const B=await _P(Vc,e,l);await QR(mn(ht,"users",B.user.uid),{email:e,username:O,isAdmin:!1,createdAt:new Date().toISOString()}),r("/")}catch(B){console.error(B),B.code==="auth/email-already-in-use"?p("An account with this email already exists."):B.code==="auth/invalid-email"?p("Invalid email format."):B.code==="auth/weak-password"?p("Password is too weak. Use at least 6 characters."):p(B.message||"Signup failed.")}w(!1)}return _.jsx("div",{className:"auth-page",children:_.jsxs("div",{className:"card auth-card",children:[_.jsxs("div",{className:"auth-header",children:[_.jsx("h1",{className:"auth-logo",children:" GolfGang"}),_.jsx("h2",{className:"auth-title",children:"Create account"}),_.jsx("p",{className:"auth-subtitle",children:"Join the crew and start playing"})]}),f&&_.jsx("div",{className:"toast toast-danger",children:f}),_.jsxs("form",{onSubmit:S,className:"auth-form",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"email",children:"Email"}),_.jsx("input",{id:"email",type:"email",className:"input",value:e,onChange:V=>t(V.target.value),placeholder:"you@example.com",required:!0,autoComplete:"email"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"username",children:"Username"}),_.jsx("input",{id:"username",type:"text",className:"input",value:i,onChange:V=>o(V.target.value),placeholder:"golfer123",required:!0,autoComplete:"username"}),_.jsx("span",{className:"input-hint",children:"Letters, numbers, and underscores only"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{htmlFor:"password",children:"Password"}),_.jsx("input",{id:"password",type:"password",className:"input",value:l,onChange:V=>h(V.target.value),placeholder:"",required:!0,autoComplete:"new-password"}),_.jsx("span",{className:"input-hint",children:"At least 6 characters"})]}),_.jsx("button",{type:"submit",className:"btn btn-primary btn-full",disabled:y,children:y?"Creating account...":"Create Account"})]}),_.jsx("div",{className:"auth-footer",children:_.jsxs("p",{children:["Already have an account?"," ",_.jsx(ar,{to:"/login",className:"link",children:"Sign in"})]})})]})})}async function ak(r,e=null,t=""){var i,o,l,h,f,p,y;try{let w=-33.8688,T=151.2093;e&&console.log("Place ID provided:",e);const S=new Date;S.setHours(0,0,0,0);const V=new Date(r);V.setHours(0,0,0,0);const O=Math.floor((V-S)/(1e3*60*60*24));let B;if(O>=0&&O<=16){const j=V.toISOString().split("T")[0],oe=await fetch(`https://api.open-meteo.com/v1/forecast?latitude=${w}&longitude=${T}&daily=temperature_2m_max,temperature_2m_min,precipitation_probability_max,wind_speed_10m_max,wind_gusts_10m_max&hourly=temperature_2m,relative_humidity_2m,apparent_temperature,precipitation_probability,weather_code,wind_speed_10m,wind_gusts_10m&timezone=auto&start_date=${j}&end_date=${j}`);if(!oe.ok)throw new Error("Weather API error");const H=await oe.json(),le=r.getHours()||10;if(!H.hourly||!H.daily)throw new Error("Invalid weather data");const Se=(i=H.hourly.temperature_2m)==null?void 0:i[le],re=(o=H.hourly.apparent_temperature)==null?void 0:o[le],k=(l=H.hourly.relative_humidity_2m)==null?void 0:l[le],P=(h=H.hourly.wind_speed_10m)==null?void 0:h[le],C=(f=H.hourly.wind_gusts_10m)==null?void 0:f[le],b=(p=H.hourly.weather_code)==null?void 0:p[le],N=(y=H.hourly.precipitation_probability)==null?void 0:y[le];B={temp:Math.round(Se||H.daily.temperature_2m_max[0]),feelsLike:Math.round(re||Se||H.daily.temperature_2m_max[0]),humidity:Math.round(k||65),windSpeed:Math.round(P||H.daily.wind_speed_10m_max[0]),windGust:C?Math.round(C):null,description:lk(b||0),main:uk(b||0),pop:Math.round(N||H.daily.precipitation_probability_max[0]||0),icon:ck(b||0)}}else O<0,B=Ov(r);return B}catch(w){return console.error("Error fetching weather:",w),pk()}}function lk(r){return{0:"clear sky",1:"mainly clear",2:"partly cloudy",3:"overcast",45:"foggy",48:"depositing rime fog",51:"light drizzle",53:"moderate drizzle",55:"dense drizzle",61:"slight rain",63:"moderate rain",65:"heavy rain",71:"slight snow",73:"moderate snow",75:"heavy snow",77:"snow grains",80:"slight rain showers",81:"moderate rain showers",82:"violent rain showers",85:"slight snow showers",86:"heavy snow showers",95:"thunderstorm",96:"thunderstorm with slight hail",99:"thunderstorm with heavy hail"}[r]||"clear"}function uk(r){return r===0||r===1?"Clear":r===2||r===3?"Clouds":r>=45&&r<=48?"Fog":r>=51&&r<=57?"Drizzle":r>=61&&r<=67?"Rain":r>=71&&r<=77?"Snow":r>=80&&r<=82?"Rain":r>=85&&r<=86?"Snow":r>=95&&r<=99?"Thunderstorm":"Clear"}function ck(r){return r===0||r===1?"":r===2?"":r===3?"":r>=45&&r<=48?"":r>=51&&r<=57?"":r>=61&&r<=67?"":r>=71&&r<=77?"":r>=80&&r<=82?"":r>=85&&r<=86?"":r>=95&&r<=99?"":""}function hk(r){let e=10;const t=r.temp;t<10||t>35?e-=3:t<15||t>30?e-=2:(t<18||t>26)&&(e-=1);const i=r.windSpeed;i>40?e-=3:i>30?e-=2:i>20&&(e-=1);const o=r.main.toLowerCase(),l=r.pop;return o.includes("thunderstorm")?e-=5:o.includes("rain")?l>70?e-=3:l>40?e-=2:e-=1:o.includes("drizzle")&&(e-=1),r.humidity>80&&(e-=1),Math.max(0,Math.min(10,e))}function dk(r){return r>=9?"Perfect golf weather! ":r>=7?"Great conditions for golf":r>=5?"Good, playable conditions":r>=3?"Challenging conditions":r>=1?"Difficult conditions":"Poor conditions - consider rescheduling"}function fk(r){return r>=9?"":r>=7?"":r>=5?"":r>=3?"":r>=1?"":""}function pk(){return{temp:24,feelsLike:23,humidity:65,windSpeed:15,windGust:null,description:"partly cloudy",main:"Clouds",pop:20,icon:"02d"}}function Ov(r){const e=r.getMonth(),i={11:{temp:26,humidity:65,windSpeed:20},0:{temp:27,humidity:65,windSpeed:20},1:{temp:27,humidity:70,windSpeed:18},2:{temp:25,humidity:70,windSpeed:15},3:{temp:22,humidity:70,windSpeed:15},4:{temp:19,humidity:65,windSpeed:15},5:{temp:17,humidity:65,windSpeed:18},6:{temp:16,humidity:60,windSpeed:20},7:{temp:18,humidity:60,windSpeed:20},8:{temp:20,humidity:65,windSpeed:20},9:{temp:22,humidity:65,windSpeed:22},10:{temp:24,humidity:65,windSpeed:22}}[e];return{temp:i.temp,feelsLike:i.temp,humidity:i.humidity,windSpeed:i.windSpeed,windGust:null,description:"seasonal average",main:"Clear",pop:30,icon:"01d",isEstimate:!0}}function mk({event:r}){const[e,t]=G.useState(null),[i,o]=G.useState(!0),[l,h]=G.useState(null);if(G.useEffect(()=>{async function w(){if(!(r!=null&&r.date)){o(!1);return}try{o(!0),h(null);const T=r.date.toDate?r.date.toDate():r.date,S=await ak(T,r.coursePlaceId,r.courseName);t(S)}catch(T){console.error("Error loading weather:",T),h("Unable to load weather")}finally{o(!1)}}w()},[r==null?void 0:r.date,r==null?void 0:r.coursePlaceId,r==null?void 0:r.courseName]),i)return _.jsxs("div",{className:"card golf-conditions-loading",children:[_.jsx("div",{className:"loading-spinner"}),_.jsx("span",{children:"Loading conditions..."})]});if(l||!e)return null;const f=hk(e),p=dk(f),y=fk(f);return _.jsxs("div",{className:"card golf-conditions",children:[_.jsx("h3",{className:"card-title",children:" Golf Conditions"}),_.jsxs("div",{className:"conditions-score",children:[_.jsx("div",{className:"score-emoji",children:y}),_.jsxs("div",{className:"score-details",children:[_.jsxs("div",{className:"score-number",children:[f,"/10"]}),_.jsx("div",{className:"score-message",children:p})]})]}),_.jsxs("div",{className:"weather-details",children:[_.jsxs("div",{className:"weather-item",children:[_.jsx("span",{className:"weather-icon",children:""}),_.jsxs("div",{className:"weather-info",children:[_.jsx("span",{className:"weather-label",children:"Temperature"}),_.jsxs("span",{className:"weather-value",children:[e.temp,"C"]}),e.feelsLike!==e.temp&&_.jsxs("span",{className:"weather-subvalue",children:["Feels like ",e.feelsLike,"C"]})]})]}),_.jsxs("div",{className:"weather-item",children:[_.jsx("span",{className:"weather-icon",children:""}),_.jsxs("div",{className:"weather-info",children:[_.jsx("span",{className:"weather-label",children:"Wind"}),_.jsxs("span",{className:"weather-value",children:[e.windSpeed," km/h"]}),e.windGust&&_.jsxs("span",{className:"weather-subvalue",children:["Gusts to ",e.windGust," km/h"]})]})]}),_.jsxs("div",{className:"weather-item",children:[_.jsx("span",{className:"weather-icon",children:""}),_.jsxs("div",{className:"weather-info",children:[_.jsx("span",{className:"weather-label",children:"Rain Chance"}),_.jsxs("span",{className:"weather-value",children:[e.pop,"%"]})]})]}),_.jsxs("div",{className:"weather-item",children:[_.jsx("span",{className:"weather-icon",children:""}),_.jsxs("div",{className:"weather-info",children:[_.jsx("span",{className:"weather-label",children:"Humidity"}),_.jsxs("span",{className:"weather-value",children:[e.humidity,"%"]})]})]})]}),_.jsxs("div",{className:"weather-description",children:[_.jsx("span",{className:"weather-summary",children:e.description}),e.isEstimate&&_.jsx("span",{className:"weather-estimate",children:"(Seasonal average - beyond 5-day forecast)"})]}),_.jsxs("details",{className:"conditions-breakdown",children:[_.jsx("summary",{children:"Score Breakdown"}),_.jsxs("div",{className:"breakdown-content",children:[_.jsx("p",{children:_.jsx("strong",{children:"How the score is calculated:"})}),_.jsxs("ul",{children:[_.jsx("li",{children:" Ideal temperature: 18-26C"}),_.jsx("li",{children:" Ideal wind: <15 km/h"}),_.jsx("li",{children:" Rain reduces score significantly"}),_.jsx("li",{children:" High humidity (80%+) reduces comfort"})]})]})]})]})}const Yd=4,Ju=r=>r?typeof r=="string"?r:r.status:null,Zu=r=>!r||typeof r=="string"?null:r.preferences||null;function gk(){var ge,ke;const{id:r}=hT(),e=Wo(),{user:t,isAdmin:i}=zi(),[o,l]=G.useState(null),[h,f]=G.useState([]),[p,y]=G.useState(!0),[w,T]=G.useState(!1),[S,V]=G.useState(!1),[O,B]=G.useState(!1),[j,oe]=G.useState({tee:"",courseName:"",notes:""}),[H,ne]=G.useState({timePreference:"",cartPreference:"",formatPreference:"",coursePreference:""});G.useEffect(()=>{const K=Dc(mn(ht,"events",r),ee=>{ee.exists()?(l({id:ee.id,...ee.data()}),oe({tee:ee.data().tee||"",courseName:ee.data().courseName||"",notes:ee.data().notes||""})):l(null),y(!1)});return()=>K()},[r]),G.useEffect(()=>{var K;if(o&&t){const ee=(K=o.responses)==null?void 0:K[t.uid],ce=Zu(ee);ce&&ne({timePreference:ce.timePreference||"",cartPreference:ce.cartPreference||"",formatPreference:ce.formatPreference||"",coursePreference:ce.coursePreference||""})}},[o,t]),G.useEffect(()=>{async function K(){const ee=await kl(jr(ht,"users"));f(ee.docs.map(ce=>({id:ce.id,...ce.data()})))}K()},[]);const le=K=>{var ce;const ee=h.find(Re=>Re.id===K);return(ee==null?void 0:ee.username)||((ce=ee==null?void 0:ee.email)==null?void 0:ce.split("@")[0])||"Unknown"},Se=(o==null?void 0:o.responses)||{},re=t?Ju(Se[t.uid]):null,k=t?Zu(Se[t.uid]):null,P=Object.entries(Se).filter(([K,ee])=>Ju(ee)==="available").map(([K])=>K),C=Object.entries(Se).filter(([K,ee])=>Ju(ee)==="unavailable").map(([K])=>K),b=(t==null?void 0:t.uid)===(o==null?void 0:o.proposedBy),N=i||b,L=async K=>{if(!(!o||!t)){Dr("medium");try{const ee=mn(ht,"events",o.id),ce={...Se};K===null?delete ce[t.uid]:ce[t.uid]={status:K,preferences:K==="available"?{timePreference:H.timePreference||null,cartPreference:H.cartPreference||null,formatPreference:H.formatPreference||null,coursePreference:H.coursePreference||null}:null,updatedAt:new Date().toISOString()},await vs(ee,{responses:ce}),K==="available"?(je("You're in! ","success"),B(!1)):K==="unavailable"&&(je("Response saved","default"),B(!1))}catch(ee){console.error("Error updating RSVP:",ee),je("Failed to save response","error")}}},R=async K=>{if(!(!o||!K)){Dr("medium");try{const ee=mn(ht,"events",o.id),ce={...Se};delete ce[K],await vs(ee,{responses:ce}),je("Player removed","default")}catch(ee){console.error("Error removing player:",ee),je("Failed to remove player","error")}}},We=async()=>{if(o){Dr("success");try{const K=mn(ht,"events",o.id);await vs(K,{booked:!0,bookedAt:new Date().toISOString()}),tk(),je("Round confirmed! ","success")}catch(K){console.error("Error booking:",K),je("Failed to book","error")}}},Ze=async()=>{if(o){Dr("medium");try{const K=mn(ht,"events",o.id);await vs(K,{booked:!1,bookedAt:null}),je("Booking removed","default")}catch(K){console.error("Error:",K),je("Failed to update","error")}}},at=async()=>{if(o){V(!0);try{const K=mn(ht,"events",o.id);await vs(K,{tee:j.tee||null,courseName:j.courseName||null,notes:j.notes||null}),T(!1),je("Changes saved","success")}catch(K){console.error("Error saving:",K),je("Failed to save","error")}finally{V(!1)}}},Be=async()=>{if(o&&confirm("Are you sure you want to delete this event?")){Dr("heavy");try{await gE(mn(ht,"events",o.id)),je("Event deleted","default"),e("/")}catch(K){console.error("Error deleting:",K),je("Failed to delete","error")}}},se=async()=>{var Qt,mr;Dr("light");const K=(mr=(Qt=o.date)==null?void 0:Qt.toDate)==null?void 0:mr.call(Qt),ee=Dv(K),Re=`${window.location.origin+(window.location.pathname.includes("/golfgang")?"/golfgang":"/golfgang/")}/event/${o.id}`,be=P.map(Kn=>le(Kn)).join(", ");let He=` Golf - ${o.booked?"Booked":"Proposed"}!
`;He+=` ${o.title||ee}
`,o.tee&&(He+=` ${o.tee}
`),o.courseName&&(He+=` ${o.courseName}
`),be&&(He+=` ${be}
`),o.notes&&(He+=`
 ${o.notes}
`),He+=`
 ${Re}`,o.booked&&(He+=`

 Add to Calendar:
${rk(o,Re)}`);try{await navigator.clipboard.writeText(He),je("Copied to clipboard! ","success")}catch{je("Could not copy","error")}},ve=()=>{const K=Object.entries(Se).filter(([ce,Re])=>Ju(Re)==="available").map(([ce,Re])=>({uid:ce,name:le(ce),prefs:Zu(Re)})).filter(ce=>ce.prefs);if(K.length===0)return null;const ee={time:{},cart:{},format:{}};return K.forEach(ce=>{ce.prefs.timePreference&&(ee.time[ce.prefs.timePreference]=(ee.time[ce.prefs.timePreference]||0)+1),ce.prefs.cartPreference&&(ee.cart[ce.prefs.cartPreference]=(ee.cart[ce.prefs.cartPreference]||0)+1),ce.prefs.formatPreference&&(ee.format[ce.prefs.formatPreference]=(ee.format[ce.prefs.formatPreference]||0)+1)}),{summary:ee,allPrefs:K}};if(p)return _.jsx("div",{className:"page",children:_.jsxs("div",{className:"page-content",children:[_.jsx("div",{className:"skeleton",style:{height:32,width:"60%",marginBottom:16}}),_.jsx("div",{className:"skeleton",style:{height:120,marginBottom:16}}),_.jsx("div",{className:"skeleton",style:{height:80}})]})});if(!o)return _.jsx("div",{className:"page",children:_.jsx("div",{className:"page-content",children:_.jsx("div",{className:"card",children:_.jsxs("div",{className:"empty-state",children:[_.jsx("div",{className:"empty-state-icon",children:""}),_.jsx("div",{className:"empty-state-title",children:"Event not found"}),_.jsx(ar,{to:"/",className:"btn btn-primary",style:{marginTop:16},children:"Back to Home"})]})})})});const ue=(ke=(ge=o.date)==null?void 0:ge.toDate)==null?void 0:ke.call(ge),M=Dv(ue),q=ve();return _.jsx("div",{className:"page",children:_.jsxs("div",{className:"page-content",children:[_.jsx(ar,{to:"/",className:"back-link",children:" Back to rounds"}),_.jsxs("div",{className:"event-header",children:[_.jsx("h1",{className:"event-title",children:o.title||"Golf Round"}),_.jsx("div",{className:"event-status",children:o.booked?_.jsx("span",{className:"badge badge-success",children:" Booked"}):_.jsx("span",{className:"badge badge-info",children:"Proposed"})})]}),_.jsx("div",{className:"card",children:w?_.jsxs("div",{className:"event-edit-form",children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Tee Time"}),_.jsx("input",{type:"time",className:"input",value:j.tee,onChange:K=>oe({...j,tee:K.target.value})})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Course"}),_.jsx("input",{type:"text",className:"input",value:j.courseName,onChange:K=>oe({...j,courseName:K.target.value}),placeholder:"Course name"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Notes"}),_.jsx("textarea",{className:"input",rows:2,value:j.notes,onChange:K=>oe({...j,notes:K.target.value}),placeholder:"Additional details..."})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{className:"btn btn-ghost",onClick:()=>T(!1),children:"Cancel"}),_.jsx("button",{className:"btn btn-primary",onClick:at,disabled:S,children:S?"Saving...":"Save Changes"})]})]}):_.jsxs("div",{className:"event-details",children:[_.jsxs("div",{className:"event-detail",children:[_.jsx("span",{className:"event-detail-icon",children:""}),_.jsx("span",{children:M})]}),_.jsxs("div",{className:"event-detail",children:[_.jsx("span",{className:"event-detail-icon",children:""}),_.jsx("span",{children:o.tee||"Time TBA"})]}),_.jsxs("div",{className:"event-detail",children:[_.jsx("span",{className:"event-detail-icon",children:""}),_.jsx("span",{children:o.courseName||"Course TBA"})]}),_.jsxs("div",{className:"event-detail",children:[_.jsx("span",{className:"event-detail-icon",children:""}),_.jsxs("span",{children:[P.length,"/",Yd," players"]})]}),o.notes&&_.jsxs("div",{className:"event-detail event-notes",children:[_.jsx("span",{className:"event-detail-icon",children:""}),_.jsx("span",{children:o.notes})]}),_.jsxs("div",{className:"event-actions",children:[_.jsx("button",{className:"btn btn-ghost btn-sm",onClick:se,children:"Share"}),N&&_.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>T(!0),children:"Edit"})]})]})}),_.jsx(mk,{event:o}),!o.booked&&_.jsxs("div",{className:"card",children:[_.jsx("h3",{className:"card-title",style:{marginBottom:20},children:"Are you in?"}),P.length>=Yd&&!re&&_.jsx("div",{className:"toast toast-warning",children:" Group is full  you'll be on the reserve list"}),re&&!O&&_.jsxs("div",{className:"current-rsvp",children:[_.jsx("div",{className:`rsvp-status ${re==="available"?"rsvp-status-in":"rsvp-status-out"}`,children:re==="available"?_.jsxs(_.Fragment,{children:[_.jsx("span",{style:{fontSize:18},children:""}),_.jsx("span",{children:"You're in!"})]}):_.jsxs(_.Fragment,{children:[_.jsx("span",{style:{fontSize:18},children:""}),_.jsx("span",{children:"Can't make it"})]})}),k&&re==="available"&&_.jsxs("div",{className:"my-preferences",children:[k.timePreference&&_.jsxs("span",{className:"pref-tag",children:[" ",k.timePreference]}),k.cartPreference&&_.jsxs("span",{className:"pref-tag",children:[" ",k.cartPreference]}),k.formatPreference&&_.jsxs("span",{className:"pref-tag",children:[" ",k.formatPreference]})]}),_.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>B(!0),style:{marginTop:16},children:"Change Response"})]}),(!re||O)&&_.jsxs("div",{className:"rsvp-form",children:[_.jsxs("div",{className:"preferences-section",children:[_.jsx("h4",{className:"preferences-title",children:"Your Preferences (Optional)"}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:" Time Preference"}),_.jsxs("div",{className:"toggle-group",children:[_.jsx("button",{type:"button",className:`toggle-btn ${H.timePreference==="AM"?"active":""}`,onClick:()=>ne({...H,timePreference:H.timePreference==="AM"?"":"AM"}),children:" AM"}),_.jsx("button",{type:"button",className:`toggle-btn ${H.timePreference==="PM"?"active":""}`,onClick:()=>ne({...H,timePreference:H.timePreference==="PM"?"":"PM"}),children:" PM"}),_.jsx("button",{type:"button",className:`toggle-btn ${H.timePreference==="Any"?"active":""}`,onClick:()=>ne({...H,timePreference:H.timePreference==="Any"?"":"Any"}),children:" Any"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:" Walk or Cart?"}),_.jsxs("div",{className:"toggle-group",children:[_.jsx("button",{type:"button",className:`toggle-btn ${H.cartPreference==="Walk"?"active":""}`,onClick:()=>ne({...H,cartPreference:H.cartPreference==="Walk"?"":"Walk"}),children:" Walk"}),_.jsx("button",{type:"button",className:`toggle-btn ${H.cartPreference==="Cart"?"active":""}`,onClick:()=>ne({...H,cartPreference:H.cartPreference==="Cart"?"":"Cart"}),children:" Cart"}),_.jsx("button",{type:"button",className:`toggle-btn ${H.cartPreference==="Any"?"active":""}`,onClick:()=>ne({...H,cartPreference:H.cartPreference==="Any"?"":"Any"}),children:" Any"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:" Game Format"}),_.jsxs("div",{className:"toggle-group",children:[_.jsx("button",{type:"button",className:`toggle-btn ${H.formatPreference==="Stroke"?"active":""}`,onClick:()=>ne({...H,formatPreference:H.formatPreference==="Stroke"?"":"Stroke"}),children:" Stroke"}),_.jsx("button",{type:"button",className:`toggle-btn ${H.formatPreference==="Scramble"?"active":""}`,onClick:()=>ne({...H,formatPreference:H.formatPreference==="Scramble"?"":"Scramble"}),children:" Scramble"}),_.jsx("button",{type:"button",className:`toggle-btn ${H.formatPreference==="Any"?"active":""}`,onClick:()=>ne({...H,formatPreference:H.formatPreference==="Any"?"":"Any"}),children:" Any"})]})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:" Course Preference"}),_.jsx("input",{type:"text",className:"input",value:H.coursePreference,onChange:K=>ne({...H,coursePreference:K.target.value}),placeholder:"e.g., Somewhere close to CBD"})]})]}),_.jsxs("div",{className:"rsvp-actions",children:[_.jsxs("button",{className:"rsvp-action-btn btn-available",onClick:()=>L("available"),children:[_.jsx("span",{style:{fontSize:18},children:""}),_.jsx("span",{children:"I'm in"})]}),_.jsxs("button",{className:"rsvp-action-btn btn-unavailable",onClick:()=>L("unavailable"),children:[_.jsx("span",{style:{fontSize:18},children:""}),_.jsx("span",{children:"Can't make it"})]})]}),O&&re&&_.jsx("button",{className:"btn btn-ghost btn-full",onClick:()=>B(!1),style:{marginTop:12},children:"Cancel"})]})]}),o.booked&&re==="available"&&_.jsx("div",{className:"card card-success",children:_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:10},children:[_.jsx("span",{style:{fontSize:20},children:""}),_.jsx("span",{style:{fontWeight:600},children:"You're confirmed for this round"})]})}),_.jsxs("div",{className:"card",children:[_.jsxs("h3",{className:"card-title",children:["Players (",P.length,"/",Yd,")"]}),P.length===0?_.jsx("p",{className:"text-secondary",children:"No one has RSVP'd yet"}):_.jsx("div",{className:"player-list",children:P.map(K=>{const ee=le(K),ce=ml(ee),Re=K===(t==null?void 0:t.uid),be=Zu(Se[K]);return _.jsxs("div",{className:"player-item",children:[_.jsxs("div",{className:"player-info",children:[_.jsx("div",{className:"avatar",style:{backgroundColor:ce.bg,color:ce.text},children:pl(ee)}),_.jsxs("div",{className:"player-details",children:[_.jsxs("span",{className:"player-name",children:[ee," ",Re&&_.jsx("span",{className:"text-secondary",children:"(you)"})]}),be&&_.jsxs("div",{className:"player-prefs",children:[be.timePreference&&_.jsx("span",{className:"pref-mini",children:be.timePreference}),be.cartPreference&&_.jsx("span",{className:"pref-mini",children:be.cartPreference}),be.formatPreference&&_.jsx("span",{className:"pref-mini",children:be.formatPreference})]})]})]}),i&&!Re&&_.jsx("button",{className:"btn btn-ghost btn-sm btn-danger",onClick:()=>R(K),children:"Remove"})]},K)})}),C.length>0&&_.jsxs(_.Fragment,{children:[_.jsx("h4",{className:"card-subtitle",style:{marginTop:20,marginBottom:12,fontSize:14,fontWeight:600,color:"var(--color-text-secondary)"},children:"Can't make it"}),_.jsx("div",{className:"player-list player-list-unavailable",children:C.map(K=>{const ee=le(K);return ml(ee),_.jsx("div",{className:"player-item",children:_.jsxs("div",{className:"player-info",children:[_.jsx("div",{className:"avatar avatar-muted",style:{backgroundColor:"#e5e7eb",color:"#6b7280"},children:pl(ee)}),_.jsx("span",{className:"player-name text-secondary",children:ee})]})},K)})})]})]}),q&&P.length>0&&_.jsxs("div",{className:"card",children:[_.jsx("h3",{className:"card-title",children:"Group Preferences"}),_.jsxs("div",{className:"prefs-summary",children:[Object.keys(q.summary.time).length>0&&_.jsxs("div",{className:"prefs-row",children:[_.jsx("span",{className:"prefs-label",children:" Time:"}),_.jsx("div",{className:"prefs-values",children:Object.entries(q.summary.time).map(([K,ee])=>_.jsxs("span",{className:"pref-chip",children:[K," (",ee,")"]},K))})]}),Object.keys(q.summary.cart).length>0&&_.jsxs("div",{className:"prefs-row",children:[_.jsx("span",{className:"prefs-label",children:" Transport:"}),_.jsx("div",{className:"prefs-values",children:Object.entries(q.summary.cart).map(([K,ee])=>_.jsxs("span",{className:"pref-chip",children:[K," (",ee,")"]},K))})]}),Object.keys(q.summary.format).length>0&&_.jsxs("div",{className:"prefs-row",children:[_.jsx("span",{className:"prefs-label",children:" Format:"}),_.jsx("div",{className:"prefs-values",children:Object.entries(q.summary.format).map(([K,ee])=>_.jsxs("span",{className:"pref-chip",children:[K," (",ee,")"]},K))})]}),q.allPrefs.some(K=>{var ee;return(ee=K.prefs)==null?void 0:ee.coursePreference})&&_.jsxs("div",{className:"prefs-row prefs-row-courses",children:[_.jsx("span",{className:"prefs-label",children:" Courses:"}),_.jsx("div",{className:"prefs-courses",children:q.allPrefs.filter(K=>{var ee;return(ee=K.prefs)==null?void 0:ee.coursePreference}).map(K=>_.jsxs("div",{className:"pref-course",children:[_.jsxs("span",{className:"pref-course-name",children:[K.name,":"]}),_.jsx("span",{className:"pref-course-value",children:K.prefs.coursePreference})]},K.uid))})]})]})]}),N&&_.jsxs("div",{className:"card",children:[_.jsx("h3",{className:"card-title",children:"Actions"}),_.jsxs("div",{className:"admin-actions",children:[o.booked?_.jsx("button",{className:"btn btn-ghost btn-full",onClick:Ze,children:"Remove Booking"}):_.jsx("button",{className:"btn btn-success btn-full",onClick:We,disabled:P.length===0,children:" Mark as Booked"}),_.jsx("button",{className:"btn btn-danger btn-full",onClick:Be,children:"Delete Event"})]})]})]})})}function yk(){var b;const{user:r,profile:e,isAdmin:t,logout:i}=zi(),o=(e==null?void 0:e.username)||((b=r==null?void 0:r.email)==null?void 0:b.split("@")[0])||"User",l=ml(o),[h,f]=G.useState(!1),[p,y]=G.useState(!1),[w,T]=G.useState(o),[S,V]=G.useState(""),[O,B]=G.useState(""),[j,oe]=G.useState(""),[H,ne]=G.useState(!1),[le,Se]=G.useState(!1),re=async()=>{await i()};async function k(N){const L=N.toLowerCase(),R=Rp(jr(ht,"users"),kp("username","==",L));return(await kl(R)).docs.some(Ze=>Ze.id!==r.uid)}const P=async()=>{const N=w.trim().toLowerCase();if(!N.match(/^[a-z0-9_]+$/)){je("Username can only contain letters, numbers, and underscores");return}if(N.length<3){je("Username must be at least 3 characters");return}if(N===o.toLowerCase()){f(!1);return}ne(!0);try{if(await k(N)){je("That username is already taken"),ne(!1);return}await vs(mn(ht,"users",r.uid),{username:N}),je("Username updated! "),f(!1),window.location.reload()}catch(L){console.error("Error updating username:",L),je("Failed to update username")}finally{ne(!1)}},C=async()=>{if(!S){je("Please enter your current password");return}if(O.length<6){je("New password must be at least 6 characters");return}if(O!==j){je("New passwords don't match");return}Se(!0);try{const N=ks.credential(r.email,S);await vP(r,N),await EP(r,O),je("Password updated! "),y(!1),V(""),B(""),oe("")}catch(N){console.error("Error updating password:",N),N.code==="auth/wrong-password"?je("Current password is incorrect"):N.code==="auth/weak-password"?je("New password is too weak"):je("Failed to update password")}finally{Se(!1)}};return _.jsx("div",{className:"page",children:_.jsxs("div",{className:"page-content",children:[_.jsxs("div",{className:"card profile-card",children:[_.jsx("div",{className:"avatar avatar-lg",style:{backgroundColor:l.bg,color:l.text,margin:"0 auto 16px"},children:pl(o)}),_.jsx("h2",{className:"profile-name",children:o}),_.jsx("p",{className:"profile-email",children:r==null?void 0:r.email}),t&&_.jsx("span",{className:"badge badge-success",style:{marginTop:8},children:"Admin"})]}),_.jsxs("div",{className:"card",children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[_.jsx("h3",{className:"card-title",children:"Username"}),!h&&_.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>{T(o),f(!0)},children:"Edit"})]}),h?_.jsxs("div",{children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"New Username"}),_.jsx("input",{type:"text",className:"input",value:w,onChange:N=>T(N.target.value),placeholder:"golfer123",autoFocus:!0}),_.jsx("span",{className:"input-hint",children:"Letters, numbers, and underscores only"})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{className:"btn btn-ghost",onClick:()=>{f(!1),T(o)},disabled:H,children:"Cancel"}),_.jsx("button",{className:"btn btn-primary",onClick:P,disabled:H,children:H?"Saving...":"Save Username"})]})]}):_.jsxs("div",{className:"info-row",children:[_.jsx("span",{className:"info-label",children:"Current username"}),_.jsx("span",{className:"info-value",children:o})]})]}),_.jsxs("div",{className:"card",children:[_.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:16},children:[_.jsx("h3",{className:"card-title",children:"Password"}),!p&&_.jsx("button",{className:"btn btn-ghost btn-sm",onClick:()=>y(!0),children:"Change"})]}),p?_.jsxs("div",{children:[_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Current Password"}),_.jsx("input",{type:"password",className:"input",value:S,onChange:N=>V(N.target.value),placeholder:"Enter current password",autoComplete:"current-password"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"New Password"}),_.jsx("input",{type:"password",className:"input",value:O,onChange:N=>B(N.target.value),placeholder:"Enter new password",autoComplete:"new-password"}),_.jsx("span",{className:"input-hint",children:"At least 6 characters"})]}),_.jsxs("div",{className:"form-group",children:[_.jsx("label",{children:"Confirm New Password"}),_.jsx("input",{type:"password",className:"input",value:j,onChange:N=>oe(N.target.value),placeholder:"Confirm new password",autoComplete:"new-password"})]}),_.jsxs("div",{className:"form-actions",children:[_.jsx("button",{className:"btn btn-ghost",onClick:()=>{y(!1),V(""),B(""),oe("")},disabled:le,children:"Cancel"}),_.jsx("button",{className:"btn btn-primary",onClick:C,disabled:le,children:le?"Updating...":"Update Password"})]})]}):_.jsxs("div",{className:"info-row",children:[_.jsx("span",{className:"info-label",children:"Password"}),_.jsx("span",{className:"info-value",children:""})]})]}),_.jsxs("div",{className:"card",children:[_.jsx("h3",{className:"card-title",children:"Account Info"}),_.jsxs("div",{className:"info-row",children:[_.jsx("span",{className:"info-label",children:"Email"}),_.jsx("span",{className:"info-value",children:r==null?void 0:r.email})]}),_.jsxs("div",{className:"info-row",children:[_.jsx("span",{className:"info-label",children:"Member since"}),_.jsx("span",{className:"info-value",children:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString("en-AU",{month:"long",year:"numeric"}):"Unknown"})]})]}),_.jsx("button",{className:"btn btn-danger btn-full",onClick:re,children:"Sign Out"})]})})}function vk(){const[r,e]=G.useState([]),[t,i]=G.useState([]),[o,l]=G.useState(!0);G.useEffect(()=>{const p=Dc(jr(ht,"events"),y=>{const w=y.docs.map(T=>({id:T.id,...T.data()}));w.sort((T,S)=>{var V,O;return(((V=S.date)==null?void 0:V.toMillis())||0)-(((O=T.date)==null?void 0:O.toMillis())||0)}),e(w),l(!1)});return()=>p()},[]),G.useEffect(()=>{const p=Dc(jr(ht,"users"),y=>{const w=y.docs.map(T=>({id:T.id,...T.data()}));i(w)});return()=>p()},[]);const h=async p=>{if(confirm("Delete this event?")){Dr("medium");try{await gE(mn(ht,"events",p)),je("Event deleted","default")}catch(y){console.error("Error deleting event:",y),je("Failed to delete","error")}}},f=async(p,y)=>{if(confirm(`${y?"Remove":"Grant"} admin privileges?`)){Dr("medium");try{await vs(mn(ht,"users",p),{isAdmin:!y}),je(`Admin ${y?"removed":"granted"}`,"success")}catch(w){console.error("Error updating user:",w),je("Failed to update","error")}}};return o?_.jsx("div",{className:"page",children:_.jsxs("div",{className:"page-content",children:[_.jsx("div",{className:"skeleton",style:{height:32,width:"40%",marginBottom:24}}),_.jsx("div",{className:"skeleton",style:{height:200,marginBottom:16}}),_.jsx("div",{className:"skeleton",style:{height:200}})]})}):_.jsx("div",{className:"page",children:_.jsxs("div",{className:"page-content",children:[_.jsx("h1",{className:"page-title",children:"Admin Panel"}),_.jsxs("div",{className:"card",children:[_.jsxs("div",{className:"card-header",children:[_.jsx("h3",{className:"card-title",children:"Events"}),_.jsx("span",{className:"badge",children:r.length})]}),r.length===0?_.jsx("p",{className:"text-secondary",children:"No events yet"}):_.jsx("div",{className:"admin-list",children:r.map(p=>{var T,S;const y=nk((S=(T=p.date)==null?void 0:T.toDate)==null?void 0:S.call(T)),w=p.responses?Object.values(p.responses).filter(V=>(typeof V=="string"?V:V==null?void 0:V.status)==="available").length:0;return _.jsxs("div",{className:"admin-list-item",children:[_.jsxs("div",{className:"admin-list-info",children:[_.jsxs("div",{className:"admin-list-title",children:[p.title||"Golf Round",p.booked&&_.jsx("span",{className:"badge badge-success badge-sm",children:"Booked"})]}),_.jsxs("div",{className:"admin-list-meta",children:[y,"  ",w,"/4 players",p.courseName&&`  ${p.courseName}`]})]}),_.jsxs("div",{className:"admin-list-actions",children:[_.jsx(ar,{to:`/event/${p.id}`,className:"btn btn-ghost btn-sm",children:"View"}),_.jsx("button",{className:"btn btn-ghost btn-sm btn-danger",onClick:()=>h(p.id),children:"Delete"})]})]},p.id)})})]}),_.jsxs("div",{className:"card",children:[_.jsxs("div",{className:"card-header",children:[_.jsx("h3",{className:"card-title",children:"Users"}),_.jsx("span",{className:"badge",children:t.length})]}),t.length===0?_.jsx("p",{className:"text-secondary",children:"No users yet"}):_.jsx("div",{className:"admin-list",children:t.map(p=>{var T;const y=p.username||((T=p.email)==null?void 0:T.split("@")[0])||"User",w=ml(y);return _.jsxs("div",{className:"admin-list-item",children:[_.jsx("div",{className:"admin-list-info",children:_.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[_.jsx("div",{className:"avatar avatar-sm",style:{backgroundColor:w.bg,color:w.text},children:pl(y)}),_.jsxs("div",{children:[_.jsxs("div",{className:"admin-list-title",children:[y,p.isAdmin&&_.jsx("span",{className:"badge badge-success badge-sm",children:"Admin"})]}),_.jsx("div",{className:"admin-list-meta",children:p.email})]})]})}),_.jsx("div",{className:"admin-list-actions",children:_.jsx("button",{className:`btn btn-ghost btn-sm ${p.isAdmin?"btn-danger":""}`,onClick:()=>f(p.id,p.isAdmin),children:p.isAdmin?"Remove Admin":"Make Admin"})})]},p.id)})})]})]})})}function Xd({children:r}){const{user:e,loading:t}=zi();return t?_.jsx("div",{className:"page",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:_.jsx("div",{className:"spinner"})}):e?r:_.jsx(hc,{to:"/login",replace:!0})}function _k({children:r}){const{user:e,isAdmin:t,loading:i}=zi();return i?_.jsx("div",{className:"page",style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"50vh"},children:_.jsx("div",{className:"spinner"})}):e?t?r:_.jsx(hc,{to:"/",replace:!0}):_.jsx(hc,{to:"/login",replace:!0})}function wk(){return _.jsxs("div",{className:"app-shell",children:[_.jsx(ZR,{}),_.jsx("main",{className:"main-content",children:_.jsxs(CT,{children:[_.jsx(vi,{path:"/login",element:_.jsx(sk,{})}),_.jsx(vi,{path:"/signup",element:_.jsx(ok,{})}),_.jsx(vi,{path:"/",element:_.jsx(Xd,{children:_.jsx(ik,{})})}),_.jsx(vi,{path:"/event/:id",element:_.jsx(Xd,{children:_.jsx(gk,{})})}),_.jsx(vi,{path:"/profile",element:_.jsx(Xd,{children:_.jsx(yk,{})})}),_.jsx(vi,{path:"/admin",element:_.jsx(_k,{children:_.jsx(vk,{})})}),_.jsx(vi,{path:"*",element:_.jsx(hc,{to:"/",replace:!0})})]})}),_.jsx(ek,{})]})}const Ek="/golfgang/";V0.createRoot(document.getElementById("root")).render(_.jsx(G.StrictMode,{children:_.jsx(VT,{basename:Ek,children:_.jsx(JR,{children:_.jsx(wk,{})})})}));
